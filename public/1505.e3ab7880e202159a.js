"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1505],{1505:(B,g,n)=>{n.r(g),n.d(g,{BusquedaRuteroPageModule:()=>Z});var u=n(4755),m=n(5030),r=n(942),l=n(7957),d=n(5861),e=n(2223),h=n(7735);function f(o,i){1&o&&(e.TgZ(0,"label")(1,"h5",3),e._uU(2,"Sin Resultados"),e.qZA()())}const p=function(o){return["/hour",o]};function q(o,i){if(1&o&&(e.TgZ(0,"ion-item")(1,"ion-card",7)(2,"ion-card-content")(3,"strong")(4,"h5",8),e._uU(5),e.qZA(),e.TgZ(6,"h3"),e._uU(7),e.qZA(),e.TgZ(8,"h3"),e._uU(9),e.qZA()(),e.TgZ(10,"h3"),e._uU(11),e.qZA()()()()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(7,p,t.Codigo)),e.xp6(4),e.AsE("",t.Codigo," - ",t.Cliente,""),e.xp6(2),e.Oqu(t.RZ),e.xp6(2),e.AsE("",t.Direccion," - ",t.Barrio,""),e.xp6(2),e.Oqu(t.OrdenDia)}}const C=[{path:"",component:(()=>{class o{constructor(t,s){this.ruteroService=t,this.loadingController=s,this.sinresult=!0,this.lastCallTimestamp=0,this.cacheDuration=864e5}ngOnInit(){const t=localStorage.getItem("number"),s=localStorage.getItem("ruteroCache"),c=localStorage.getItem("ruteroCacheTimestamp");if(s&&c){const a=parseInt(c);if((new Date).getTime()-a<this.cacheDuration)return this.items=JSON.parse(s),void console.log(this.items)}this.presentLoading(),this.ruteroSubscription=this.ruteroService.getRutero(t).subscribe(a=>{this.items=a,localStorage.setItem("ruteroCache",JSON.stringify(a)),localStorage.setItem("ruteroCacheTimestamp",(new Date).getTime().toString()),this.dismissLoading()})}presentLoading(){var t=this;return(0,d.Z)(function*(){yield(yield t.loadingController.create({message:"Cargando...",translucent:!0,spinner:"crescent"})).present()})()}dismissLoading(){var t=this;return(0,d.Z)(function*(){yield t.loadingController.dismiss()})()}filterItems(t){t=t.toLocaleLowerCase(),this.filteredItems=this.items.filter(s=>s.Cliente.toLocaleLowerCase().includes(t)||s.RZ.toLocaleLowerCase().includes(t)),0===this.items.length&&(this.sinresult=!0),console.log(this.filteredItems)}capturar(t){0===t.target.value.length?(this.filteredItems=[],this.sinresult=!0):(this.sinresult=!1,this.filterItems(t.target.value),console.log(t.target.value))}ngOnDestroy(){this.ruteroSubscription&&this.ruteroSubscription.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.q),e.Y36(r.HT))},o.\u0275cmp=e.Xpm({type:o,selectors:[["SO-busqueda-rutero"]],decls:11,vars:2,consts:[["color","primary"],["slot","start"],["defaultHref","rutero"],["text-center",""],["placeholder","Buscar por nombre o negocio",3,"ionChange"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"width","100%",3,"routerLink"],[2,"font-size","smaller"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5," Busqueda de Cliente "),e.qZA()(),e.TgZ(6,"ion-searchbar",4),e.NdJ("ionChange",function(a){return s.capturar(a)}),e.qZA()(),e.TgZ(7,"ion-content")(8,"ion-list"),e.YNc(9,f,3,0,"label",5),e.YNc(10,q,12,9,"ion-item",6),e.qZA()()),2&t&&(e.xp6(9),e.Q6J("ngIf",s.sinresult),e.xp6(1),e.Q6J("ngForOf",s.filteredItems))},dependencies:[u.sg,u.O5,r.oU,r.Sm,r.PM,r.FN,r.W2,r.Gu,r.Ie,r.q_,r.VI,r.wd,r.sr,r.j9,r.cs,r.YI,l.rH]}),o})()}];let T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild(C),l.Bz]}),o})(),Z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,m.u5,r.Pc,T]}),o})()}}]);