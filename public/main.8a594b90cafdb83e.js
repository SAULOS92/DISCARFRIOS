(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(cn,ut,F)=>{"use strict";F.d(ut,{nm:()=>es});var v=F(5813);F(2223),F(5867);var rt=F(5861),Ce=F(9681),Ke=F(4859),Ue=F(2090),Te=F(1877);const q=new Map,He={activated:!1,tokenObservers:[]},we={initialized:!1,enabled:!1};function yt(Xe){return q.get(Xe)||He}function ht(Xe,at){q.set(Xe,at)}function Ge(){return we}const Qt="https://content-firebaseappcheck.googleapis.com/v1",Me="exchangeDebugToken",Ae={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class qe{constructor(at,lt,Ht,sn,In){if(this.operation=at,this.retryPolicy=lt,this.getWaitDuration=Ht,this.lowerBound=sn,this.upperBound=In,this.pending=null,this.nextErrorWaitInterval=sn,sn>In)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(at){var lt=this;return(0,rt.Z)(function*(){lt.stop();try{lt.pending=new Ue.BH,yield function Et(Xe){return new Promise(at=>{setTimeout(at,Xe)})}(lt.getNextRun(at)),lt.pending.resolve(),yield lt.pending.promise,lt.pending=new Ue.BH,yield lt.operation(),lt.pending.resolve(),yield lt.pending.promise,lt.process(!0).catch(()=>{})}catch(Ht){lt.retryPolicy(Ht)?lt.process(!1).catch(()=>{}):lt.stop()}})()}getNextRun(at){if(at)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const lt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),lt}}}const on=new Ue.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function It(){return(It=(0,rt.Z)(function*({url:Xe,body:at},lt){var Ht,sn;const In={"Content-Type":"application/json"},lr=lt.getImmediate({optional:!0});if(lr){const is=yield lr.getHeartbeatsHeader();is&&(In["X-Firebase-Client"]=is)}const ei={method:"POST",body:JSON.stringify(at),headers:In};let Zn,vn;try{Zn=yield fetch(Xe,ei)}catch(is){throw on.create("fetch-network-error",{originalErrorMessage:null===(Ht=is)||void 0===Ht?void 0:Ht.message})}if(200!==Zn.status)throw on.create("fetch-status-error",{httpStatus:Zn.status});try{vn=yield Zn.json()}catch(is){throw on.create("fetch-parse-error",{originalErrorMessage:null===(sn=is)||void 0===sn?void 0:sn.message})}const Wn=vn.ttl.match(/^([\d.]+)(s)$/);if(!Wn||!Wn[2]||isNaN(Number(Wn[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${vn.ttl}`});const Rr=1e3*Number(Wn[1]),ni=Date.now();return{token:vn.token,expireTimeMillis:ni+Rr,issuedAtTimeMillis:ni}})).apply(this,arguments)}const Mn="firebase-app-check-database",Ct=1,nr="firebase-app-check-store";let On=null;function zr(){return(zr=(0,rt.Z)(function*(Xe,at){const Ht=(yield function Qn(){return On||(On=new Promise((Xe,at)=>{var lt;try{const Ht=indexedDB.open(Mn,Ct);Ht.onsuccess=sn=>{Xe(sn.target.result)},Ht.onerror=sn=>{var In;at(on.create("storage-open",{originalErrorMessage:null===(In=sn.target.error)||void 0===In?void 0:In.message}))},Ht.onupgradeneeded=sn=>{0===sn.oldVersion&&sn.target.result.createObjectStore(nr,{keyPath:"compositeKey"})}}catch(Ht){at(on.create("storage-open",{originalErrorMessage:null===(lt=Ht)||void 0===lt?void 0:lt.message}))}}),On)}()).transaction(nr,"readwrite"),In=Ht.objectStore(nr).put({compositeKey:Xe,value:at});return new Promise((lr,ei)=>{In.onsuccess=Zn=>{lr()},Ht.onerror=Zn=>{var vn;ei(on.create("storage-set",{originalErrorMessage:null===(vn=Zn.target.error)||void 0===vn?void 0:vn.message}))}})})).apply(this,arguments)}const Gn=new Te.Yd("@firebase/app-check");function vr(Xe,at){return(0,Ue.hl)()?function Yn(Xe,at){return function $n(Xe,at){return zr.apply(this,arguments)}(function Jr(Xe){return`${Xe.options.appId}-${Xe.name}`}(Xe),at)}(Xe,at).catch(lt=>{Gn.warn(`Failed to write token to IndexedDB. Error: ${lt}`)}):Promise.resolve()}function st(){return(st=(0,rt.Z)(function*(){const Xe=Ge();if(Xe.enabled&&Xe.token)return Xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const je={error:"UNKNOWN_ERROR"};function Qe(Xe){return Ue.US.encodeString(JSON.stringify(Xe),!1)}function ze(Xe){return $t.apply(this,arguments)}function $t(){return($t=(0,rt.Z)(function*(Xe,at=!1){const lt=Xe.app;!function nn(Xe){if(!yt(Xe).activated)throw on.create("use-before-activation",{appName:Xe.name})}(lt);const Ht=yt(lt);let In,sn=Ht.token;if(!sn){const Zn=yield Ht.cachedTokenPromise;Zn&&Ve(Zn)&&(sn=Zn)}if(!at&&sn&&Ve(sn))return{token:sn.token};let ei,lr=!1;if(function Er(){return Ge().enabled}()){Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=function St(Xe,at){return It.apply(this,arguments)}(function Zt(Xe,at){const{projectId:lt,appId:Ht,apiKey:sn}=Xe.options;return{url:`${Qt}/projects/${lt}/apps/${Ht}:${Me}?key=${sn}`,body:{debug_token:at}}}(lt,yield function Qi(){return st.apply(this,arguments)}()),Xe.heartbeatServiceProvider).then(vn=>(Ht.exchangeTokenPromise=void 0,vn)),lr=!0);const Zn=yield Ht.exchangeTokenPromise;return yield vr(lt,Zn),ht(lt,Object.assign(Object.assign({},Ht),{token:Zn})),{token:Zn.token}}try{Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=Ht.provider.getToken().then(Zn=>(Ht.exchangeTokenPromise=void 0,Zn)),lr=!0),sn=yield Ht.exchangeTokenPromise}catch(Zn){"appCheck/throttled"===Zn.code?Gn.warn(Zn.message):Gn.error(Zn),In=Zn}return sn?(ei={token:sn.token},ht(lt,Object.assign(Object.assign({},Ht),{token:sn})),yield vr(lt,sn)):ei=function xe(Xe){return{token:Qe(je),error:Xe}}(In),lr&&function _t(Xe,at){const lt=yt(Xe).tokenObservers;for(const Ht of lt)try{"EXTERNAL"===Ht.type&&null!=at.error?Ht.error(at.error):Ht.next(at)}catch{}}(lt,ei),ei})).apply(this,arguments)}function ln(Xe,at){const lt=yt(Xe),Ht=lt.tokenObservers.filter(sn=>sn.next!==at);0===Ht.length&&lt.tokenRefresher&&lt.tokenRefresher.isRunning()&&lt.tokenRefresher.stop(),ht(Xe,Object.assign(Object.assign({},lt),{tokenObservers:Ht}))}function er(Xe){const{app:at}=Xe,lt=yt(at);let Ht=lt.tokenRefresher;Ht||(Ht=function Tn(Xe){const{app:at}=Xe;return new qe((0,rt.Z)(function*(){let Ht;if(Ht=yt(at).token?yield ze(Xe,!0):yield ze(Xe),Ht.error)throw Ht.error}),()=>!0,()=>{const lt=yt(at);if(lt.token){let Ht=lt.token.issuedAtTimeMillis+.5*(lt.token.expireTimeMillis-lt.token.issuedAtTimeMillis)+3e5;return Ht=Math.min(Ht,lt.token.expireTimeMillis-3e5),Math.max(0,Ht-Date.now())}return 0},Ae.RETRIAL_MIN_WAIT,Ae.RETRIAL_MAX_WAIT)}(Xe),ht(at,Object.assign(Object.assign({},lt),{tokenRefresher:Ht}))),!Ht.isRunning()&&lt.isTokenAutoRefreshEnabled&&Ht.start()}function Ve(Xe){return Xe.expireTimeMillis-Date.now()>0}class gt{constructor(at,lt){this.app=at,this.heartbeatServiceProvider=lt}_delete(){const{tokenObservers:at}=yt(this.app);for(const lt of at)ln(this.app,lt.next);return Promise.resolve()}}const Ji="app-check-internal";!function rs(){(0,Ce._registerComponent)(new Ke.wA("app-check",Xe=>function Nt(Xe,at){return new gt(Xe,at)}(Xe.getProvider("app").getImmediate(),Xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Xe,at,lt)=>{Xe.getProvider(Ji).initialize()})),(0,Ce._registerComponent)(new Ke.wA(Ji,Xe=>function fn(Xe){return{getToken:at=>ze(Xe,at),addTokenListener:at=>function hn(Xe,at,lt,Ht){const{app:sn}=Xe,In=yt(sn),lr={next:lt,error:Ht,type:at};if(ht(sn,Object.assign(Object.assign({},In),{tokenObservers:[...In.tokenObservers,lr]})),In.token&&Ve(In.token)){const ei=In.token;Promise.resolve().then(()=>{lt({token:ei.token}),er(Xe)}).catch(()=>{})}In.cachedTokenPromise.then(()=>er(Xe))}(Xe,"INTERNAL",at),removeTokenListener:at=>ln(Xe.app,at)}}(Xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/app-check","0.5.12")}();class es{constructor(){return(0,v.vb)("app-check")}}typeof window<"u"&&window},1205:(cn,ut,F)=>{"use strict";F.d(ut,{zQ:()=>Qt,ww:()=>dt,rT:()=>we,f7:()=>ht,L6:()=>q,_Q:()=>He,lh:()=>yt,Qv:()=>Te,nw:()=>Ge});var v=F(2223),y=F(7579),te=F(9646),de=F(9751),Ie=F(8996),ve=F(6451),ge=F(5363),Oe=F(3900),$e=F(4004),Se=F(6063);class ue extends y.x{constructor(Me=1/0,Ae=1/0,Le=Se.l){super(),this._bufferSize=Me,this._windowTime=Ae,this._timestampProvider=Le,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ae===1/0,this._bufferSize=Math.max(1,Me),this._windowTime=Math.max(1,Ae)}next(Me){const{isStopped:Ae,_buffer:Le,_infiniteTimeWindow:qe,_timestampProvider:Et,_windowTime:Bt}=this;Ae||(Le.push(Me),!qe&&Le.push(Et.now()+Bt)),this._trimBuffer(),super.next(Me)}_subscribe(Me){this._throwIfClosed(),this._trimBuffer();const Ae=this._innerSubscribe(Me),{_infiniteTimeWindow:Le,_buffer:qe}=this,Et=qe.slice();for(let Bt=0;Bt<Et.length&&!Me.closed;Bt+=Le?1:2)Me.next(Et[Bt]);return this._checkFinalizedStatuses(Me),Ae}_trimBuffer(){const{_bufferSize:Me,_timestampProvider:Ae,_buffer:Le,_infiniteTimeWindow:qe}=this,Et=(qe?1:2)*Me;if(Me<1/0&&Et<Le.length&&Le.splice(0,Le.length-Et),!qe){const Bt=Ae.now();let on=0;for(let rn=1;rn<Le.length&&Le[rn]<=Bt;rn+=2)on=rn;on&&Le.splice(0,on+1)}}}var Ne=F(3099);function Pe(tt,Me,Ae){let Le,qe=!1;return tt&&"object"==typeof tt?({bufferSize:Le=1/0,windowTime:Me=1/0,refCount:qe=!1,scheduler:Ae}=tt):Le=null!=tt?tt:1/0,(0,Ne.B)({connector:()=>new ue(Le,Me,Ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qe})}var Be=F(590),Ye=F(576);function mt(tt,Me){return(0,Ye.m)(Me)?(0,Oe.w)(()=>tt,Me):(0,Oe.w)(()=>tt)}var ke=F(9468),be=F(9300),ye=F(5813),Q=F(2011),rt=F(4755),Ce=F(440),Ke=F(127);const Te=new v.OlP("angularfire2.auth.use-emulator"),q=new v.OlP("angularfire2.auth.settings"),He=new v.OlP("angularfire2.auth.tenant-id"),we=new v.OlP("angularfire2.auth.langugage-code"),yt=new v.OlP("angularfire2.auth.use-device-language"),ht=new v.OlP("angularfire.auth.persistence"),Ge=(tt,Me,Ae,Le,qe,Et,Bt,on)=>(0,Q.cc)(`${tt.name}.auth`,"AngularFireAuth",tt.name,()=>{const rn=Me.runOutsideAngular(()=>tt.auth());if(Ae&&rn.useEmulator(...Ae),Le&&(rn.tenantId=Le),rn.languageCode=qe,Et&&rn.useDeviceLanguage(),Bt)for(const[nn,Mt]of Object.entries(Bt))rn.settings[nn]=Mt;return on&&rn.setPersistence(on),rn},[Ae,Le,qe,Et,Bt,on]);let Qt=(()=>{class tt{constructor(Ae,Le,qe,Et,Bt,on,rn,nn,Mt,Pt,St,It){const Ut=new y.x,kt=(0,te.of)(void 0).pipe((0,ge.Q)(Bt.outsideAngular),(0,Oe.w)(()=>Et.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,1451)))),(0,$e.U)(()=>(0,Q.on)(Ae,Et,Le)),(0,$e.U)(Zt=>Ge(Zt,Et,on,nn,Mt,Pt,rn,St)),Pe({bufferSize:1,refCount:!1}));if((0,rt.PM)(qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,te.of)(null);else{kt.pipe((0,Be.P)()).subscribe();const Mn=kt.pipe((0,Oe.w)(Fn=>Fn.getRedirectResult().then(On=>On,()=>null)),ye.iC,Pe({bufferSize:1,refCount:!1})),Ct=kt.pipe((0,Oe.w)(Fn=>new de.y(On=>({unsubscribe:Et.runOutsideAngular(()=>Fn.onAuthStateChanged(Qn=>On.next(Qn),Qn=>On.error(Qn),()=>On.complete()))})))),nr=kt.pipe((0,Oe.w)(Fn=>new de.y(On=>({unsubscribe:Et.runOutsideAngular(()=>Fn.onIdTokenChanged(Qn=>On.next(Qn),Qn=>On.error(Qn),()=>On.complete()))}))));this.authState=Mn.pipe(mt(Ct),(0,ke.R)(Bt.outsideAngular),(0,ge.Q)(Bt.insideAngular)),this.user=Mn.pipe(mt(nr),(0,ke.R)(Bt.outsideAngular),(0,ge.Q)(Bt.insideAngular)),this.idToken=this.user.pipe((0,Oe.w)(Fn=>Fn?(0,Ie.D)(Fn.getIdToken()):(0,te.of)(null))),this.idTokenResult=this.user.pipe((0,Oe.w)(Fn=>Fn?(0,Ie.D)(Fn.getIdTokenResult()):(0,te.of)(null))),this.credential=(0,ve.T)(Mn,Ut,this.authState.pipe((0,be.h)(Fn=>!Fn))).pipe((0,$e.U)(Fn=>null!=Fn&&Fn.user?Fn:null),(0,ke.R)(Bt.outsideAngular),(0,ge.Q)(Bt.insideAngular))}return(0,Q.pX)(this,kt,Et,{spy:{apply:(Zt,Mn,Ct)=>{(Zt.startsWith("signIn")||Zt.startsWith("createUser"))&&Ct.then(nr=>Ut.next(nr))}}})}}return tt.\u0275fac=function(Ae){return new(Ae||tt)(v.LFG(Q.Dh),v.LFG(Q.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(ye.HU),v.LFG(Te,8),v.LFG(q,8),v.LFG(He,8),v.LFG(we,8),v.LFG(yt,8),v.LFG(ht,8),v.LFG(Ce.nm,8))},tt.\u0275prov=v.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"any"}),tt})(),dt=(()=>{class tt{constructor(){Ke.Z.registerVersion("angularfire",ye.q4.full,"auth-compat")}}return tt.\u0275fac=function(Ae){return new(Ae||tt)},tt.\u0275mod=v.oAB({type:tt}),tt.\u0275inj=v.cJS({providers:[Qt]}),tt})()},7407:(cn,ut,F)=>{"use strict";F.d(ut,{ST:()=>b_,yb:()=>Pv});var v=F(2223),y=F(4986),te=F(9751),de=F(8996),Ie=F(9646),ve=F(5813),ge=F(8675),Oe=F(4482),$e=F(5403);function Se(){return(0,Oe.e)((i,e)=>{let n,o=!1;i.subscribe((0,$e.x)(e,d=>{const m=n;n=d,o&&e.next([m,d]),o=!0}))})}var q,ue=F(4004),Ne=F(5026),Pe=F(1884),Be=F(9300),Ye=F(2011),mt=F(4755),be=(F(1451),F(3942)),ye=F(5861),Q=F(9681),rt=F(4859),Ce=F(1877),Ke=F(2090),Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={},He=He||{},we=Ue||self;function yt(){}function ht(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ge(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var dt="closure_uid_"+(1e9*Math.random()>>>0),tt=0;function Me(i,e,n){return i.call.apply(i.bind,arguments)}function Ae(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,o),i.apply(e,d)}}return function(){return i.apply(e,arguments)}}function Le(i,e,n){return(Le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Me:Ae).apply(null,arguments)}function qe(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Et(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,d,m){for(var w=Array(arguments.length-2),P=2;P<arguments.length;P++)w[P-2]=arguments[P];return e.prototype[d].apply(o,w)}}function Bt(){this.s=this.s,this.o=this.o}var rn={};Bt.prototype.s=!1,Bt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Qt(i){return Object.prototype.hasOwnProperty.call(i,dt)&&i[dt]||(i[dt]=++tt)}(this);delete rn[i]}},Bt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},Mt=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,d="string"==typeof i?i.split(""):i;for(let m=0;m<o;m++)m in d&&e.call(n,d[m],m,i)};function St(i){return Array.prototype.concat.apply([],arguments)}function It(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Ut(i){return/^[\s\xa0]*$/.test(i)}var Ct,kt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Zt(i,e){return-1!=i.indexOf(e)}function Mn(i,e){return i<e?-1:i>e?1:0}e:{var nr=we.navigator;if(nr){var Fn=nr.userAgent;if(Fn){Ct=Fn;break e}}Ct=""}function On(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Qn(i){const e={};for(const n in i)e[n]=i[n];return e}var Gr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yn(i,e){let n,o;for(let d=1;d<arguments.length;d++){for(n in o=arguments[d],o)i[n]=o[n];for(let m=0;m<Gr.length;m++)n=Gr[m],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function fr(i){return fr[" "](i),i}fr[" "]=yt;var yr,i,$n=Zt(Ct,"Opera"),zr=Zt(Ct,"Trident")||Zt(Ct,"MSIE"),Mr=Zt(Ct,"Edge"),Yr=Mr||zr,Jr=Zt(Ct,"Gecko")&&!(Zt(Ct.toLowerCase(),"webkit")&&!Zt(Ct,"Edge"))&&!(Zt(Ct,"Trident")||Zt(Ct,"MSIE"))&&!Zt(Ct,"Edge"),Gn=Zt(Ct.toLowerCase(),"webkit")&&!Zt(Ct,"Edge");function Zr(){var i=we.document;return i?i.documentMode:void 0}e:{var vr="",sr=(i=Ct,Jr?/rv:([^\);]+)(\)|;)/.exec(i):Mr?/Edge\/([\d\.]+)/.exec(i):zr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Gn?/WebKit\/(\S+)/.exec(i):$n?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(sr&&(vr=sr?sr[1]:""),zr){var Si=Zr();if(null!=Si&&Si>parseFloat(vr)){yr=String(Si);break e}}yr=vr}var Er={};var je=we.document&&zr&&(Zr()||parseInt(yr,10))||void 0,Qe=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{we.addEventListener("test",yt,e),we.removeEventListener("test",yt,e)}catch{}return i}();function ze(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function $t(i,e){if(ze.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Jr){e:{try{fr(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:hn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&$t.Z.h.call(this)}}ze.prototype.h=function(){this.defaultPrevented=!0},Et($t,ze);var hn={2:"touch",3:"pen",4:"mouse"};$t.prototype.h=function(){$t.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),er=0;function Tn(i,e,n,o,d){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=d,this.key=++er,this.ca=this.fa=!1}function _t(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Ve(i){this.src=i,this.g={},this.h=0}function xe(i,e){var n=e.type;if(n in i.g){var m,o=i.g[n],d=nn(o,e);(m=0<=d)&&Array.prototype.splice.call(o,d,1),m&&(_t(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function gt(i,e,n,o){for(var d=0;d<i.length;++d){var m=i[d];if(!m.ca&&m.listener==e&&m.capture==!!n&&m.ia==o)return d}return-1}Ve.prototype.add=function(i,e,n,o,d){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var w=gt(i,e,o,d);return-1<w?(e=i[w],n||(e.fa=!1)):((e=new Tn(e,this.src,m,!!o,d)).fa=n,i.push(e)),e};var Nt="closure_lm_"+(1e6*Math.random()|0),fn={};function An(i,e,n,o,d){if(o&&o.once)return Vr(i,e,n,o,d);if(Array.isArray(e)){for(var m=0;m<e.length;m++)An(i,e[m],n,o,d);return null}return n=si(n),i&&i[ln]?i.N(e,n,Ge(o)?!!o.capture:!!o,d):Un(i,e,n,!1,o,d)}function Un(i,e,n,o,d,m){if(!e)throw Error("Invalid event type");var w=Ge(d)?!!d.capture:!!d,P=fi(i);if(P||(i[Nt]=P=new Ve(i)),(n=P.add(e,n,o,w,m)).proxy)return n;if(o=function pr(){var e=ns;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Qe||(d=w),void 0===d&&(d=!1),i.addEventListener(e.toString(),o,d);else if(i.attachEvent)i.attachEvent(hi(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Vr(i,e,n,o,d){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Vr(i,e[m],n,o,d);return null}return n=si(n),i&&i[ln]?i.O(e,n,Ge(o)?!!o.capture:!!o,d):Un(i,e,n,!0,o,d)}function qn(i,e,n,o,d){if(Array.isArray(e))for(var m=0;m<e.length;m++)qn(i,e[m],n,o,d);else o=Ge(o)?!!o.capture:!!o,n=si(n),i&&i[ln]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=gt(m=i.g[e],n,o,d))&&(_t(m[n]),Array.prototype.splice.call(m,n,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=fi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=gt(e,n,o,d)),(n=-1<i?e[i]:null)&&Ui(n))}function Ui(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[ln])xe(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(hi(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=fi(e))?(xe(n,i),0==n.h&&(n.src=null,e[Nt]=null)):_t(i)}}}function hi(i){return i in fn?fn[i]:fn[i]="on"+i}function ns(i,e){if(i.ca)i=!0;else{e=new $t(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&Ui(i),i=n.call(o,e)}return i}function fi(i){return(i=i[Nt])instanceof Ve?i:null}var Ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function si(i){return"function"==typeof i?i:(i[Ei]||(i[Ei]=function(e){return i.handleEvent(e)}),i[Ei])}function gr(){Bt.call(this),this.i=new Ve(this),this.P=this,this.I=null}function Ir(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new ze(e,i);else if(e instanceof ze)e.target=e.target||i;else{var d=e;Yn(e=new ze(o,i),d)}if(d=!0,n)for(var m=n.length-1;0<=m;m--){var w=e.g=n[m];d=Pr(w,o,!0,e)&&d}if(d=Pr(w=e.g=i,o,!0,e)&&d,d=Pr(w,o,!1,e)&&d,n)for(m=0;m<n.length;m++)d=Pr(w=e.g=n[m],o,!1,e)&&d}function Pr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,m=0;m<e.length;++m){var w=e[m];if(w&&!w.ca&&w.capture==n){var P=w.listener,Y=w.ia||w.src;w.fa&&xe(i.i,w),d=!1!==P.call(Y,o)&&d}}return d&&!o.defaultPrevented}Et(gr,Bt),gr.prototype[ln]=!0,gr.prototype.removeEventListener=function(i,e,n,o){qn(this,i,e,n,o)},gr.prototype.M=function(){if(gr.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)_t(n[o]);delete i.g[e],i.h--}}this.I=null},gr.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},gr.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Pi=we.JSON.stringify;function Ai(){var i=Cs;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var wi,Ii=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Nr,i=>i.reset());class Nr{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xr(i){we.setTimeout(()=>{throw i},0)}function Bi(i,e){wi||function Ds(){var i=we.Promise.resolve(void 0);wi=function(){i.then(Ji)}}(),Ni||(wi(),Ni=!0),Cs.add(i,e)}var Ni=!1,Cs=new class li{constructor(){this.h=this.g=null}add(e,n){const o=Ii.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function Ji(){for(var i;i=Ai();){try{i.h.call(i.g)}catch(n){xr(n)}var e=Ii;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Ni=!1}function rs(i,e){gr.call(this),this.h=i||1,this.g=e||we,this.j=Le(this.kb,this),this.l=Date.now()}function ji(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function hs(i,e,n){if("function"==typeof i)n&&(i=Le(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Le(i.handleEvent,i)}return 2147483647<Number(e)?-1:we.setTimeout(i,e||0)}function es(i){i.g=hs(()=>{i.g=null,i.i&&(i.i=!1,es(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Et(rs,gr),(q=rs.prototype).da=!1,q.S=null,q.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ir(this,"tick"),this.da&&(ji(this),this.start()))}},q.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},q.M=function(){rs.Z.M.call(this),ji(this),delete this.g};class Os extends Bt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:es(this)}M(){super.M(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(i){Bt.call(this),this.h=i,this.g={}}Et(Hi,Bt);var se=[];function Ee(i,e,n,o){Array.isArray(n)||(n&&(se[0]=n.toString()),n=se);for(var d=0;d<n.length;d++){var m=An(e,n[d],o||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function Ze(i){On(i.g,function(e,n){this.g.hasOwnProperty(n)&&Ui(e)},i),i.g={}}function pe(){this.g=!0}function Tt(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function jt(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var d=o[1];if(Array.isArray(d)&&!(1>d.length)){var m=d[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var w=1;w<d.length;w++)d[w]=""}}}return Pi(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Hi.prototype.M=function(){Hi.Z.M.call(this),Ze(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pe.prototype.Aa=function(){this.g=!1},pe.prototype.info=function(){};var Ft={},En=null;function gn(){return En=En||new gr}function Pn(i){ze.call(this,Ft.Ma,i)}function Xe(i){const e=gn();Ir(e,new Pn(e,i))}function at(i,e){ze.call(this,Ft.STAT_EVENT,i),this.stat=e}function lt(i){const e=gn();Ir(e,new at(e,i))}function Ht(i,e){ze.call(this,Ft.Na,i),this.size=e}function sn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){i()},e)}Ft.Ma="serverreachability",Et(Pn,ze),Ft.STAT_EVENT="statevent",Et(at,ze),Ft.Na="timingevent",Et(Ht,ze);var In={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ei(){}function vn(){}ei.prototype.h=null;var is,Wn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Rr(){ze.call(this,"d")}function ni(){ze.call(this,"c")}function bi(){}function fs(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new Hi(this),this.P=Fs,this.W=new rs(i=Yr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Xr}function Xr(){this.i=null,this.g="",this.h=!1}Et(Rr,ze),Et(ni,ze),Et(bi,ei),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},is=new bi;var Fs=45e3,ss={},jn={};function Is(i,e,n){i.K=1,i.v=Vs(ms(e)),i.s=n,i.U=!0,Ls(i,null)}function Ls(i,e){i.F=Date.now(),ps(i),i.A=ms(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),Gt(n.h,"t",o),i.C=0,n=i.l.H,i.h=new Xr,i.g=V(i.l,n?e:null,!i.s),0<i.O&&(i.L=new Os(Le(i.Ia,i,i.g),i.O)),Ee(i.V,i.g,"readystatechange",i.gb),e=i.H?Qn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Xe(1),function nt(i,e,n,o,d,m){i.info(function(){if(i.g)if(m)for(var w="",P=m.split("&"),Y=0;Y<P.length;Y++){var ee=P[Y].split("=");if(1<ee.length){var _e=ee[0];ee=ee[1];var it=_e.split("_");w=2<=it.length&&"type"==it[1]?w+(_e+"=")+ee+"&":w+(_e+"=redacted&")}}else w=null;else w=m;return"XMLHTTP REQ ("+o+") [attempt "+d+"]: "+e+"\n"+n+"\n"+w})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Ys(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ri(i,e,n){let d,o=!0;for(;!i.I&&i.C<n.length;){if(d=fo(i,n),d==jn){4==e&&(i.o=4,lt(14),o=!1),Tt(i.j,i.m,null,"[Incomplete Response]");break}if(d==ss){i.o=4,lt(15),Tt(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Tt(i.j,i.m,d,null),Gi(i,d)}Ys(i)&&d!=jn&&d!=ss&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,lt(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ko(e),e.L=!0,lt(11))):(Tt(i.j,i.m,n,"[Invalid Chunked Response]"),gs(i),Bs(i))}function fo(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?jn:(n=Number(e.substring(n,o)),isNaN(n)?ss:(o+=1)+n>e.length?jn:(e=e.substr(o,n),i.C=o+n,e))}function ps(i){i.Y=Date.now()+i.P,Mi(i,i.P)}function Mi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=sn(Le(i.eb,i),e)}function xi(i){i.B&&(we.clearTimeout(i.B),i.B=null)}function Bs(i){0==i.l.G||i.I||iu(i.l,i)}function gs(i){xi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,ji(i.W),Ze(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Gi(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||ro(n.i,i)))if(n.I=i.N,!i.J&&ro(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var d=o;if(0==d[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;Cr(n),Ki(n)}js(n),lt(18)}}else n.ta=d[1],0<n.ta-n.U&&37500>d[2]&&n.N&&0==n.A&&!n.v&&(n.v=sn(Le(n.ab,n),6e3));if(1>=Ps(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Yi(n,11)}else if((i.J||n.g==i)&&Cr(n),!Ut(e))for(d=n.Ca.g.parse(e),e=0;e<d.length;e++){let ee=d[e];if(n.U=ee[0],ee=ee[1],2==n.G)if("c"==ee[0]){n.J=ee[1],n.la=ee[2];const _e=ee[3];null!=_e&&(n.ma=_e,n.h.info("VER="+n.ma));const it=ee[4];null!=it&&(n.za=it,n.h.info("SVER="+n.za));const Rt=ee[5];null!=Rt&&"number"==typeof Rt&&0<Rt&&(n.K=o=1.5*Rt,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const en=i.g;if(en){const un=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(un){var m=o.i;!m.g&&(Zt(un,"spdy")||Zt(un,"quic")||Zt(un,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(Qr(m,m.h),m.h=null))}if(o.D){const Kn=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Kn&&(o.sa=Kn,Sr(o.F,o.D,Kn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var w=i;if((o=n).oa=Z(o,o.H?o.la:null,o.W),w.J){Po(o.i,w);var P=w,Y=o.K;Y&&P.setTimeout(Y),P.B&&(xi(P),ps(P)),o.g=w}else Bl(o);0<n.l.length&&nl(n)}else"stop"!=ee[0]&&"close"!=ee[0]||Yi(n,7);else 3==n.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?Yi(n,7):mo(n):"noop"!=ee[0]&&n.j&&n.j.wa(ee),n.A=0)}Xe(4)}catch{}}function jo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ht(i)||"string"==typeof i)Mt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(ht(i)||"string"==typeof i){n=[];for(var o=i.length,d=0;d<o;d++)n.push(d)}else for(d in n=[],o=0,i)n[o++]=d;o=function os(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ht(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),d=o.length;for(var m=0;m<d;m++)e.call(void 0,o[m],n&&n[m],i)}}function ur(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ur)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function pa(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];$s(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var d={};for(n=e=0;e<i.g.length;)$s(d,o=i.g[e])||(i.g[n++]=o,d[o]=1),e++;i.g.length=n}}function $s(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(q=fs.prototype).setTimeout=function(i){this.P=i},q.gb=function(i){i=i.target;const e=this.L;e&&3==io(i)?e.l():this.Ia(i)},q.Ia=function(i){try{if(i==this.g)e:{const _e=io(this.g);var e=this.g.Da();const it=this.g.ba();if(!(3>_e)&&(3!=_e||Yr||this.g&&(this.h.h||this.g.ga()||ya(this.g)))){this.I||4!=_e||7==e||Xe(8==e||0>=it?3:2),xi(this);var n=this.g.ba();this.N=n;t:if(Ys(this)){var o=ya(this.g);i="";var d=o.length,m=4==io(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),Bs(this);var w="";break t}this.h.i=new we.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:m&&e==d-1});o.splice(0,d),this.h.g+=i,this.C=0,w=this.h.g}else w=this.g.ga();if(this.i=200==n,function We(i,e,n,o,d,m,w){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+d+"]: "+e+"\n"+n+"\n"+m+" "+w})}(this.j,this.u,this.A,this.m,this.X,_e,n),this.i){if(this.$&&!this.J){t:{if(this.g){var P,Y=this.g;if((P=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ut(P)){var ee=P;break t}}ee=null}if(!(n=ee)){this.i=!1,this.o=3,lt(12),gs(this),Bs(this);break e}Tt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gi(this,n)}this.U?(ri(this,_e,w),Yr&&this.i&&3==_e&&(Ee(this.V,this.W,"tick",this.fb),this.W.start())):(Tt(this.j,this.m,w,null),Gi(this,w)),4==_e&&gs(this),this.i&&!this.I&&(4==_e?iu(this.l,this):(this.i=!1,ps(this)))}else 400==n&&0<w.indexOf("Unknown SID")?(this.o=3,lt(12)):(this.o=0,lt(13)),gs(this),Bs(this)}}}catch{}},q.fb=function(){if(this.g){var i=io(this.g),e=this.g.ga();this.C<e.length&&(xi(this),ri(this,i,e),this.i&&4!=i&&ps(this))}},q.cancel=function(){this.I=!0,gs(this)},q.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Wt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xe(3),lt(17)),gs(this),this.o=2,Bs(this)):Mi(this,this.Y-i)},(q=ur.prototype).R=function(){pa(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},q.T=function(){return pa(this),this.g.concat()},q.get=function(i,e){return $s(this.h,i)?this.h[i]:e},q.set=function(i,e){$s(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},q.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var d=n[o],m=this.get(d);i.call(e,m,d,this)}};var Ro=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ts(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ts){this.g=void 0!==e?e:i.g,ys(this,i.j),this.s=i.s,$i(this,i.i),bo(this,i.m),this.l=i.l,e=i.h;var n=new K;n.i=e.i,e.g&&(n.g=new ur(e.g),n.h=e.h),vs(this,n),this.o=i.o}else i&&(n=String(i).match(Ro))?(this.g=!!e,ys(this,n[1]||"",!0),this.s=mr(n[2]||""),$i(this,n[3]||"",!0),bo(this,n[4]),this.l=mr(n[5]||"",!0),vs(this,n[6]||"",!0),this.o=mr(n[7]||"")):(this.g=!!e,this.h=new K(null,this.g))}function ms(i){return new Ts(i)}function ys(i,e,n){i.j=n?mr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function $i(i,e,n){i.i=n?mr(e,!0):e}function bo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function vs(i,e,n){e instanceof K?(i.h=e,function Jn(i,e){e&&!i.j&&(T(i),i.i=null,i.g.forEach(function(n,o){var d=o.toLowerCase();o!=d&&(G(this,o),Gt(this,d,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Ri(e,Da)),i.h=new K(e,i.g))}function Sr(i,e,n){i.h.set(e,n)}function Vs(i){return Sr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function mr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ri(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Ho),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ho(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ts.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ri(e,Oo,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ri(e,Oo,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ri(n,"/"==n.charAt(0)?ba:$a,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ri(n,C)),i.join("")};var Oo=/[#\/\?@]/g,$a=/[#\?:]/g,ba=/[#\?]/g,Da=/[#\?@]/g,C=/#/g;function K(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function T(i){i.g||(i.g=new ur,i.h=0,i.i&&function pi(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),d=null;if(0<=o){var m=i[n].substring(0,o);d=i[n].substring(o+1)}else m=i[n];e(m,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function G(i,e){T(i),e=kn(i,e),$s(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,$s((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&pa(i)))}function fe(i,e){return T(i),e=kn(i,e),$s(i.g.h,e)}function Gt(i,e,n){G(i,e),0<n.length&&(i.i=null,i.g.set(kn(i,e),It(n)),i.h+=n.length)}function kn(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Lr(i){this.l=i||zi,i=we.PerformanceNavigationTiming?0<(i=we.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(we.g&&we.g.Ea&&we.g.Ea()&&we.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(q=K.prototype).add=function(i,e){T(this),this.i=null,i=kn(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},q.forEach=function(i,e){T(this),this.g.forEach(function(n,o){Mt(n,function(d){i.call(e,d,o,this)},this)},this)},q.T=function(){T(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var d=i[o],m=0;m<d.length;m++)n.push(e[o]);return n},q.R=function(i){T(this);var e=[];if("string"==typeof i)fe(this,i)&&(e=St(e,this.g.get(kn(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=St(e,i[n])}return e},q.set=function(i,e){return T(this),this.i=null,fe(this,i=kn(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},q.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},q.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],d=encodeURIComponent(String(o));o=this.R(o);for(var m=0;m<o.length;m++){var w=d;""!==o[m]&&(w+="="+encodeURIComponent(String(o[m]))),i.push(w)}}return this.i=i.join("&")};var zi=10;function Do(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ps(i){return i.h?1:i.g?i.g.size:0}function ro(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Qr(i,e){i.g?i.g.add(e):i.h=e}function Po(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function j(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return It(i.i)}function U(){}function L(){this.g=new U}function ie(i,e,n){const o=n||"";try{jo(i,function(d,m){let w=d;Ge(d)&&(w=Pi(d)),e.push(o+m+"="+encodeURIComponent(w))})}catch(d){throw e.push(o+"type="+encodeURIComponent("_badmap")),d}}function wn(i,e,n,o,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(o)}catch{}}function ti(i){this.l=i.$b||null,this.j=i.ib||!1}function as(i,e){gr.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ea,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lr.prototype.cancel=function(){if(this.i=j(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},U.prototype.stringify=function(i){return we.JSON.stringify(i,void 0)},U.prototype.parse=function(i){return we.JSON.parse(i,void 0)},Et(ti,ei),ti.prototype.g=function(){return new as(this.l,this.j)},ti.prototype.i=function(i){return function(){return i}}({}),Et(as,gr);var ea=0;function Co(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Wi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,qs(i)}function qs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(q=as.prototype).open=function(i,e){if(this.readyState!=ea)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,qs(this)},q.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||we).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wi(this)),this.readyState=ea},q.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,qs(this)),this.g&&(this.readyState=3,qs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Co(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},q.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Wi(this):qs(this),3==this.readyState&&Co(this)}},q.Ua=function(i){this.g&&(this.response=this.responseText=i,Wi(this))},q.Ta=function(i){this.g&&(this.response=i,Wi(this))},q.ha=function(){this.g&&Wi(this)},q.setRequestHeader=function(i,e){this.v.append(i,e)},q.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},q.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(as.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ki=we.JSON.parse;function ui(i){gr.call(this),this.headers=new ur,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=El,this.K=this.L=!1}Et(ui,gr);var El="",el=/^https?$/i,ta=["POST","PUT"];function po(i){return"content-type"==i.toLowerCase()}function tl(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ga(i),Va(i)}function ga(i){i.D||(i.D=!0,Ir(i,"complete"),Ir(i,"error"))}function ma(i){if(i.h&&typeof He<"u"&&(!i.C[1]||4!=io(i)||2!=i.ba()))if(i.v&&4==io(i))hs(i.Fa,0,i);else if(Ir(i,"readystatechange"),4==io(i)){i.h=!1;try{const P=i.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===P){var d=String(i.H).match(Ro)[1]||null;if(!d&&we.self&&we.self.location){var m=we.self.location.protocol;d=m.substr(0,m.length-1)}o=!el.test(d?d.toLowerCase():"")}n=o}if(n)Ir(i,"complete"),Ir(i,"success");else{i.m=6;try{var w=2<io(i)?i.g.statusText:""}catch{w=""}i.j=w+" ["+i.ba()+"]",ga(i)}}finally{Va(i)}}}function Va(i,e){if(i.g){go(i);const n=i.g,o=i.C[0]?yt:null;i.g=null,i.C=null,e||Ir(i,"ready");try{n.onreadystatechange=o}catch{}}}function go(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(we.clearTimeout(i.A),i.A=null)}function io(i){return i.g?i.g.readyState:0}function ya(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case El:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function ru(i){let e="";return On(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Sr(i,e,n))}function No(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function kl(i){this.za=0,this.l=[],this.h=new pe,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=No("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=No("baseRetryDelayMs",5e3,i),this.$a=No("retryDelaySeedMs",1e4,i),this.Ya=No("forwardChannelMaxRetries",2,i),this.ra=No("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Lr(i&&i.concurrentRequestLimit),this.Ca=new L,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function mo(i){if(Eu(i),3==i.G){var e=i.V++,n=ms(i.F);Sr(n,"SID",i.J),Sr(n,"RID",e),Sr(n,"TYPE","terminate"),To(i,n),(e=new fs(i,i.h,e,void 0)).K=2,e.v=Vs(ms(n)),n=!1,we.navigator&&we.navigator.sendBeacon&&(n=we.navigator.sendBeacon(e.v.toString(),"")),!n&&we.Image&&((new Image).src=e.v,n=!0),n||(e.g=V(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ps(e)}k(i)}function Ki(i){i.g&&(ko(i),i.g.cancel(),i.g=null)}function Eu(i){Ki(i),i.u&&(we.clearTimeout(i.u),i.u=null),Cr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&we.clearTimeout(i.m),i.m=null)}function Fl(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&nl(i)}function nl(i){Do(i.i)||i.m||(i.m=!0,Bi(i.Ha,i),i.C=0)}function ra(i,e){var n;n=e?e.m:i.V++;const o=ms(i.F);Sr(o,"SID",i.J),Sr(o,"RID",n),Sr(o,"AID",i.U),To(i,o),i.o&&i.s&&_s(o,i.o,i.s),n=new fs(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Ll(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Qr(i.i,n),Is(n,o,e)}function To(i,e){i.j&&jo({},function(n,o){Sr(e,o,n)})}function Ll(i,e,n){n=Math.min(i.l.length,n);var o=i.j?Le(i.j.Oa,i.j,i):null;e:{var d=i.l;let m=-1;for(;;){const w=["count="+n];-1==m?0<n?(m=d[0].h,w.push("ofs="+m)):m=0:w.push("ofs="+m);let P=!0;for(let Y=0;Y<n;Y++){let ee=d[Y].h;const _e=d[Y].g;if(ee-=m,0>ee)m=Math.max(0,d[Y].h-100),P=!1;else try{ie(_e,w,"req"+ee+"_")}catch{o&&o(_e)}}if(P){o=w.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function Bl(i){i.g||i.u||(i.Y=1,Bi(i.Ga,i),i.A=0)}function js(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=sn(Le(i.Ga,i),Il(i,i.A)),i.A++,0))}function ko(i){null!=i.B&&(we.clearTimeout(i.B),i.B=null)}function ts(i){i.g=new fs(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=ms(i.oa);Sr(e,"RID","rpc"),Sr(e,"SID",i.J),Sr(e,"CI",i.N?"0":"1"),Sr(e,"AID",i.U),To(i,e),Sr(e,"TYPE","xmlhttp"),i.o&&i.s&&_s(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=Vs(ms(e)),n.s=null,n.U=!0,Ls(n,i)}function Cr(i){null!=i.v&&(we.clearTimeout(i.v),i.v=null)}function iu(i,e){var n=null;if(i.g==e){Cr(i),ko(i),i.g=null;var o=2}else{if(!ro(i.i,e))return;n=e.D,Po(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var d=i.C;Ir(o=gn(),new Ht(o,n,e,d)),nl(i)}else Bl(i);else if(3==(d=e.o)||0==d&&0<i.I||!(1==o&&function va(i,e){return!(Ps(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=sn(Le(i.Ha,i,e),Il(i,i.C)),i.C++,0)))}(i,e)||2==o&&js(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),d){case 1:Yi(i,5);break;case 4:Yi(i,10);break;case 3:Yi(i,6);break;default:Yi(i,2)}}function Il(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Yi(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=Le(i.jb,i);n||(n=new Ts("//www.google.com/images/cleardot.gif"),we.location&&"http"==we.location.protocol||ys(n,"https"),Vs(n)),function bt(i,e){const n=new pe;if(we.Image){const o=new Image;o.onload=qe(wn,n,o,"TestLoadImage: loaded",!0,e),o.onerror=qe(wn,n,o,"TestLoadImage: error",!1,e),o.onabort=qe(wn,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=qe(wn,n,o,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else lt(2);i.G=0,i.j&&i.j.va(e),k(i),Eu(i)}function k(i){i.G=0,i.I=-1,i.j&&((0!=j(i.i).length||0!=i.l.length)&&(i.i.i.length=0,It(i.l),i.l.length=0),i.j.ua())}function Z(i,e,n){let o=function no(i){return i instanceof Ts?ms(i):new Ts(i,void 0)}(n);if(""!=o.i)e&&$i(o,e+"."+o.i),bo(o,o.m);else{const d=we.location;o=function Us(i,e,n,o){var d=new Ts(null,void 0);return i&&ys(d,i),e&&$i(d,e),n&&bo(d,n),o&&(d.l=o),d}(d.protocol,e?e+"."+d.hostname:d.hostname,+d.port,n)}return i.aa&&On(i.aa,function(d,m){Sr(o,m,d)}),n=i.sa,(e=i.D)&&n&&Sr(o,e,n),Sr(o,"VER",i.ma),To(i,o),o}function V(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ui(n&&i.Ba&&!i.qa?new ti({ib:!0}):i.qa)).L=i.H,e}function ne(){}function Re(){if(zr&&!(10<=Number(je)))throw Error("Environmental error: no available transport.")}function wt(i,e){gr.call(this),this.g=new kl(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Ut(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ut(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new cr(this)}function zt(i){Rr.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function xn(){ni.call(this),this.status=1}function cr(i){this.g=i}(q=ui.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():is.g(),this.C=function Zn(i){return i.h||(i.h=i.i())}(this.u?this.u:is),this.g.onreadystatechange=Le(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void tl(this,m)}i=n||"";const d=new ur(this.headers);o&&jo(o,function(m,w){d.set(w,m)}),o=function Pt(i){e:{var e=po;const n=i.length,o="string"==typeof i?i.split(""):i;for(let d=0;d<n;d++)if(d in o&&e.call(void 0,o[d],d,i)){e=d;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(d.T()),n=we.FormData&&i instanceof we.FormData,!(0<=nn(ta,e))||o||n||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(m,w){this.g.setRequestHeader(w,m)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{go(this),0<this.B&&((this.K=function na(i){return zr&&function Qi(){return function Vt(i){var e=Er;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=kt(String(yr)).split("."),n=kt("9").split("."),o=Math.max(e.length,n.length);for(let w=0;0==i&&w<o;w++){var d=e[w]||"",m=n[w]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==d[0].length&&0==m[0].length)break;i=Mn(0==d[1].length?0:parseInt(d[1],10),0==m[1].length?0:parseInt(m[1],10))||Mn(0==d[2].length,0==m[2].length)||Mn(d[2],m[2]),d=d[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Le(this.pa,this)):this.A=hs(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){tl(this,m)}},q.pa=function(){typeof He<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ir(this,"timeout"),this.abort(8))},q.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ir(this,"complete"),Ir(this,"abort"),Va(this))},q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Va(this,!0)),ui.Z.M.call(this)},q.Fa=function(){this.s||(this.F||this.v||this.l?ma(this):this.cb())},q.cb=function(){ma(this)},q.ba=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},q.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},q.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ki(e)}},q.Da=function(){return this.m},q.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(q=kl.prototype).ma=8,q.G=1,q.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},q.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const d=new fs(this,this.h,i,void 0);let m=this.s;if(this.P&&(m?(m=Qn(m),Yn(m,this.P)):m=this.P),null===this.o&&(d.H=m),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ll(this,d,e),Sr(n=ms(this.F),"RID",i),Sr(n,"CVER",22),this.D&&Sr(n,"X-HTTP-Session-Id",this.D),To(this,n),this.o&&m&&_s(n,this.o,m),Qr(this.i,d),this.Ra&&Sr(n,"TYPE","init"),this.ja?(Sr(n,"$req",e),Sr(n,"SID","null"),d.$=!0,Is(d,n,null)):Is(d,n,e),this.G=2}}else 3==this.G&&(i?ra(this,i):0==this.l.length||Do(this.i)||ra(this))},q.Ga=function(){if(this.u=null,ts(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=sn(Le(this.bb,this),i)}},q.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,lt(10),Ki(this),ts(this))},q.ab=function(){null!=this.v&&(this.v=null,Ki(this),js(this),lt(19))},q.jb=function(i){i?(this.h.info("Successfully pinged google.com"),lt(2)):(this.h.info("Failed to ping google.com"),lt(1))},(q=ne.prototype).xa=function(){},q.wa=function(){},q.va=function(){},q.ua=function(){},q.Oa=function(){},Re.prototype.g=function(i,e){return new wt(i,e)},Et(wt,gr),wt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Bi(Le(i.hb,i,e))),lt(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=Z(i,null,i.W),nl(i)},wt.prototype.close=function(){mo(this.g)},wt.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Fl(this.g,e)}else this.v?((e={}).__data__=Pi(i),Fl(this.g,e)):Fl(this.g,i)},wt.prototype.M=function(){this.g.j=null,delete this.j,mo(this.g),delete this.g,wt.Z.M.call(this)},Et(zt,Rr),Et(xn,ni),Et(cr,ne),cr.prototype.xa=function(){Ir(this.g,"a")},cr.prototype.wa=function(i){Ir(this.g,new zt(i))},cr.prototype.va=function(i){Ir(this.g,new xn(i))},cr.prototype.ua=function(){Ir(this.g,"b")},Re.prototype.createWebChannel=Re.prototype.g,wt.prototype.send=wt.prototype.u,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,In.NO_ERROR=0,In.TIMEOUT=8,In.HTTP_ERROR=6,lr.COMPLETE="complete",vn.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",gr.prototype.listen=gr.prototype.N,ui.prototype.listenOnce=ui.prototype.O,ui.prototype.getLastError=ui.prototype.La,ui.prototype.getLastErrorCode=ui.prototype.Da,ui.prototype.getStatus=ui.prototype.ba,ui.prototype.getResponseJson=ui.prototype.Qa,ui.prototype.getResponseText=ui.prototype.ga,ui.prototype.send=ui.prototype.ea;var Br=Te.createWebChannelTransport=function(){return new Re},Wr=Te.getStatEventTarget=function(){return gn()},rr=Te.ErrorCode=In,Oi=Te.EventType=lr,Di=Te.Event=Ft,Rn=Te.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},So=Te.FetchXmlHttpFactory=ti,ai=Te.WebChannel=vn,ls=Te.XhrIo=ui;const Ss="@firebase/firestore";class Ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let Hs="9.9.1";const Es=new Ce.Yd("@firebase/firestore");function Iu(){return Es.logLevel}function pn(i,...e){if(Es.logLevel<=Ce.in.DEBUG){const n=e.map(Jt);Es.debug(`Firestore (${Hs}): ${i}`,...n)}}function gi(i,...e){if(Es.logLevel<=Ce.in.ERROR){const n=e.map(Jt);Es.error(`Firestore (${Hs}): ${i}`,...n)}}function Ua(i,...e){if(Es.logLevel<=Ce.in.WARN){const n=e.map(Jt);Es.warn(`Firestore (${Hs}): ${i}`,...n)}}function Jt(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function dn(i="Unexpected state"){const e=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: `+i;throw gi(e),new Error(e)}function hr(i,e){i||dn()}function mn(i,e){return i}const Ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tn extends Ke.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ja{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ci.UNAUTHENTICATED))}shutdown(){}}class Kc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Md{constructor(e){this.t=e,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let d=this.i;const m=ee=>this.i!==d?(d=this.i,n(ee)):Promise.resolve();let w=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new ci,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const ee=w;e.enqueueRetryable((0,ye.Z)(function*(){yield ee.promise,yield m(o.currentUser)}))},Y=ee=>{pn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(ee=>Y(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?Y(ee):(pn("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new ci)}},0),P()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(pn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(hr("string"==typeof o.accessToken),new ja(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return hr(null===e||"string"==typeof e),new Ci(e)}}class wl{constructor(e,n,o){this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const d=e.auth.getAuthHeaderValueForFirstParty([]);d&&this.headers.set("Authorization",d),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class so{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new wl(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ia{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Go{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=m=>{null!=m.error&&pn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const w=m.token!==this.p;return this.p=m.token,pn("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?n(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const d=m=>{pn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.g.onInit(m=>d(m)),setTimeout(()=>{if(!this.appCheck){const m=this.g.getImmediate({optional:!0});m?d(m):pn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(hr("string"==typeof n.token),this.p=n.token,new ia(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _a(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class bl{static I(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const d=_a(40);for(let m=0;m<d.length;++m)o.length<20&&d[m]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(d[m]%62))}return o}}function Or(i,e){return i<e?-1:i>e?1:0}function yo(i,e,n){return i.length===e.length&&i.every((o,d)=>n(o,e[d]))}function zo(i){return i+"\0"}class mi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new tn(Ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tn(Ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new tn(Ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tn(Ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mi.fromMillis(Date.now())}static fromDate(e){return mi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new mi(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Or(this.nanoseconds,e.nanoseconds):Or(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _r{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _r(e)}static min(){return new _r(new mi(0,0))}static max(){return new _r(new mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ha{constructor(e,n,o){void 0===n?n=0:n>e.length&&dn(),void 0===o?o=e.length-n:o>e.length-n&&dn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Ha.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ha?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let d=0;d<o;d++){const m=e.get(d),w=n.get(d);if(m<w)return-1;if(m>w)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ur extends Ha{construct(e,n,o){return new Ur(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new tn(Ot.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(d=>d.length>0))}return new Ur(n)}static emptyPath(){return new Ur([])}}const Qu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class us extends Ha{construct(e,n,o){return new us(e,n,o)}static isValidIdentifier(e){return Qu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),us.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new us(["__name__"])}static fromServerFormat(e){const n=[];let o="",d=0;const m=()=>{if(0===o.length)throw new tn(Ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let w=!1;for(;d<e.length;){const P=e[d];if("\\"===P){if(d+1===e.length)throw new tn(Ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Y=e[d+1];if("\\"!==Y&&"."!==Y&&"`"!==Y)throw new tn(Ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=Y,d+=2}else"`"===P?(w=!w,d++):"."!==P||w?(o+=P,d++):(m(),d++)}if(m(),w)throw new tn(Ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new us(n)}static emptyPath(){return new us([])}}class bn{constructor(e){this.path=e}static fromPath(e){return new bn(Ur.fromString(e))}static fromName(e){return new bn(Ur.fromString(e).popFirst(5))}static empty(){return new bn(Ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ur.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ur.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bn(new Ur(e.slice()))}}class rl{constructor(e,n,o,d){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=d}}function wu(i){return i.fields.find(e=>2===e.kind)}function Ca(i){return i.fields.filter(e=>2!==e.kind)}rl.UNKNOWN_ID=-1;class Dl{constructor(e,n){this.fieldPath=e,this.kind=n}}class Cl{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Cl(0,yi.min())}}function Ju(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,d=_r.fromTimestamp(1e9===o?new mi(n+1,0):new mi(n,o));return new yi(d,bn.empty(),e)}function ec(i){return new yi(i.readTime,i.key,-1)}class yi{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new yi(_r.min(),bn.empty(),-1)}static max(){return new yi(_r.max(),bn.empty(),-1)}}function oa(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=bn.comparator(i.documentKey,e.documentKey),0!==n?n:Or(i.largestBatchId,e.largestBatchId))}const Fi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ta(i){return bu.apply(this,arguments)}function bu(){return bu=(0,ye.Z)(function*(i){if(i.code!==Ot.FAILED_PRECONDITION||i.message!==Fi)throw i;pn("LocalStore","Unexpectedly lost primary lease")}),bu.apply(this,arguments)}class xt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xt((o,d)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,d)},this.catchCallback=m=>{this.wrapFailure(n,m).next(o,d)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof xt?n:xt.resolve(n)}catch(n){return xt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):xt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):xt.reject(n)}static resolve(e){return new xt((n,o)=>{n(e)})}static reject(e){return new xt((n,o)=>{o(e)})}static waitFor(e){return new xt((n,o)=>{let d=0,m=0,w=!1;e.forEach(P=>{++d,P.next(()=>{++m,w&&m===d&&n()},Y=>o(Y))}),w=!0,m===d&&n()})}static or(e){let n=xt.resolve(!1);for(const o of e)n=n.next(d=>d?xt.resolve(d):o());return n}static forEach(e,n){const o=[];return e.forEach((d,m)=>{o.push(n.call(this,d,m))}),this.waitFor(o)}static mapArray(e,n){return new xt((o,d)=>{const m=e.length,w=new Array(m);let P=0;for(let Y=0;Y<m;Y++){const ee=Y;n(e[ee]).next(_e=>{w[ee]=_e,++P,P===m&&o(w)},_e=>d(_e))}})}static doWhile(e,n){return new xt((o,d)=>{const m=()=>{!0===e()?n().next(()=>{m()},d):o()};m()})}}class Ga{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.T=new ci,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{n.error?this.T.reject(new b(e,n.error)):this.T.resolve()},this.transaction.onerror=o=>{const d=Je(o.target.error);this.T.reject(new b(e,d))}}static open(e,n,o,d){try{return new Ga(n,e.transaction(d,o))}catch(m){throw new b(n,m)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(pn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new z(n)}}class S{constructor(e,n,o){this.name=e,this.version=n,this.P=o,12.2===S.v((0,Ke.z$)())&&gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pn("SimpleDb","Removing database:",e),oe(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Ke.hl)())return!1;if(S.S())return!0;const e=(0,Ke.z$)(),n=S.v(e),o=0<n&&n<10,d=S.D(e),m=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,n){return e.store(n)}static v(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var n=this;return(0,ye.Z)(function*(){return n.db||(pn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,d)=>{const m=indexedDB.open(n.name,n.version);m.onsuccess=w=>{o(w.target.result)},m.onblocked=()=>{d(new b(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=w=>{const P=w.target.error;d("VersionError"===P.name?new tn(Ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new tn(Ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new b(e,P))},m.onupgradeneeded=w=>{pn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',w.oldVersion),n.P.O(w.target.result,m.transaction,w.oldVersion,n.version).next(()=>{pn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.M&&(n.db.onversionchange=o=>n.M(o)),n.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,d){var m=this;return(0,ye.Z)(function*(){const w="readonly"===n;let P=0;for(;;){++P;try{m.db=yield m.k(e);const Y=Ga.open(m.db,e,w?"readonly":"readwrite",o),ee=d(Y).next(_e=>(Y.R(),_e)).catch(_e=>(Y.abort(_e),xt.reject(_e))).toPromise();return ee.catch(()=>{}),yield Y.A,ee}catch(Y){const ee=Y,_e="FirebaseError"!==ee.name&&P<3;if(pn("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",_e),m.close(),!_e)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class O{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return oe(this.$.delete())}}class b extends tn{constructor(e,n){super(Ot.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function R(i){return"IndexedDbTransactionError"===i.name}class z{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(pn("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(pn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),oe(o)}add(e){return pn("SimpleDb","ADD",this.store.name,e,e),oe(this.store.add(e))}get(e){return oe(this.store.get(e)).next(n=>(void 0===n&&(n=null),pn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return pn("SimpleDb","DELETE",this.store.name,e),oe(this.store.delete(e))}count(){return pn("SimpleDb","COUNT",this.store.name),oe(this.store.count())}K(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const d=this.cursor(o),m=[];return this.G(d,(w,P)=>{m.push(P)}).next(()=>m)}{const d=this.store.getAll(o.range);return new xt((m,w)=>{d.onerror=P=>{w(P.target.error)},d.onsuccess=P=>{m(P.target.result)}})}}j(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new xt((d,m)=>{o.onerror=w=>{m(w.target.error)},o.onsuccess=w=>{d(w.target.result)}})}W(e,n){pn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.H=!1;const d=this.cursor(o);return this.G(d,(m,w,P)=>P.delete())}J(e,n){let o;n?o=e:(o={},n=e);const d=this.cursor(o);return this.G(d,n)}Y(e){const n=this.cursor({});return new xt((o,d)=>{n.onerror=m=>{const w=Je(m.target.error);d(w)},n.onsuccess=m=>{const w=m.target.result;w?e(w.primaryKey,w.value).next(P=>{P?w.continue():o()}):o()}})}G(e,n){const o=[];return new xt((d,m)=>{e.onerror=w=>{m(w.target.error)},e.onsuccess=w=>{const P=w.target.result;if(!P)return void d();const Y=new O(P),ee=n(P.primaryKey,P.value,Y);if(ee instanceof xt){const _e=ee.catch(it=>(Y.done(),xt.reject(it)));o.push(_e)}Y.isDone?d():null===Y.U?P.continue():P.continue(Y.U)}}).next(()=>xt.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function oe(i){return new xt((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const d=Je(o.target.error);n(d)}})}let ce=!1;function Je(i){const e=S.v((0,Ke.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new tn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ce||(ce=!0,setTimeout(()=>{throw o},0)),o}}return i}class Kt{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var n=this;pn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){n.task=null;try{pn("IndexBackiller",`Documents written: ${yield n.X.tt()}`)}catch(o){R(o)?pn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ta(o)}yield n.Z(1)}))}}class Dn{constructor(e,n){this.localStore=e,this.persistence=n}tt(e=50){var n=this;return(0,ye.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.et(o,e))})()}et(e,n){const o=new Set;let d=n,m=!0;return xt.doWhile(()=>!0===m&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(w=>{if(null!==w&&!o.has(w))return pn("IndexBackiller",`Processing collection: ${w}`),this.nt(e,w,d).next(P=>{d-=P,o.add(w)});m=!1})).next(()=>n-d)}nt(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(d=>this.localStore.localDocuments.getNextDocuments(e,n,d,o).next(m=>{const w=m.changes;return this.localStore.indexManager.updateIndexEntries(e,w).next(()=>this.st(d,m)).next(P=>(pn("IndexBackiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,n,P))).next(()=>w.size)}))}st(e,n){let o=e;return n.changes.forEach((d,m)=>{const w=ec(m);oa(w,o)>0&&(o=w)}),new yi(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Ln{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.it(o),this.rt=o=>n.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Vn(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function tr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ir(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Ln.ot=-1;class kr{constructor(e,n){this.comparator=e,this.root=n||As.EMPTY}insert(e,n){return new kr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,As.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,As.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const d=this.comparator(e,o.key);if(0===d)return n+o.left.size;d<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vo(this.root,e,this.comparator,!0)}}class vo{constructor(e,n,o,d){this.isReverse=d,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=n?o(e.key,n):1,n&&d&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class As{constructor(e,n,o,d,m){this.key=e,this.value=n,this.color=null!=o?o:As.RED,this.left=null!=d?d:As.EMPTY,this.right=null!=m?m:As.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,d,m){return new As(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=d?d:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let d=this;const m=o(e,d.key);return d=m<0?d.copy(null,null,null,d.left.insert(e,n,o),null):0===m?d.copy(null,n,null,null,null):d.copy(null,null,null,null,d.right.insert(e,n,o)),d.fixUp()}removeMin(){if(this.left.isEmpty())return As.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,d=this;if(n(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,n),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===n(e,d.key)){if(d.right.isEmpty())return As.EMPTY;o=d.right.min(),d=d.copy(o.key,o.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,n))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,As.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,As.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dn();const e=this.left.check();if(e!==this.right.check())throw dn();return e+(this.isRed()?0:1)}}As.EMPTY=null,As.RED=!0,As.BLACK=!1,As.EMPTY=new class{constructor(){this.size=0}get key(){throw dn()}get value(){throw dn()}get color(){throw dn()}get left(){throw dn()}get right(){throw dn()}copy(i,e,n,o,d){return this}insert(i,e,n){return new As(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fr{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const d=o.getNext();if(this.comparator(d.key,e[1])>=0)return;n(d.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tl(this.data.getIterator())}getIteratorFrom(e){return new Tl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const d=n.getNext().key,m=o.getNext().key;if(0!==this.comparator(d,m))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fr(this.comparator);return n.data=e,n}}class Tl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wo(i){return i.hasNext()?i.getNext():void 0}class Xs{constructor(e){this.fields=e,e.sort(us.comparator)}static empty(){return new Xs([])}unionWith(e){let n=new Fr(us.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Xs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Vi(n)}static fromUint8Array(e){const n=function(o){let d="";for(let m=0;m<o.length;++m)d+=String.fromCharCode(o[m]);return d}(e);return new Vi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Or(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const Sa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(i){if(hr(!!i),"string"==typeof i){let e=0;const n=Sa.exec(i);if(hr(!!n),n[1]){let d=n[1];d=(d+"000000000").substr(0,9),e=Number(d)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:vi(i.seconds),nanos:vi(i.nanos)}}function vi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Aa(i){return"string"==typeof i?Vi.fromBase64String(i):Vi.fromUint8Array(i)}function Yc(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Du(i){const e=i.mapValue.fields.__previous_value__;return Yc(e)?Du(e):e}function $l(i){const e=_o(i.mapValue.fields.__local_write_time__.timestampValue);return new mi(e.seconds,e.nanos)}class xd{constructor(e,n,o,d,m,w,P,Y){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=d,this.ssl=m,this.forceLongPolling=w,this.autoDetectLongPolling=P,this.useFetchStreams=Y}}class ws{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ws("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ws&&e.projectId===this.projectId&&e.database===this.database}}function $(i){return null==i}function H(i){return 0===i&&1/i==-1/0}function ae(i){return"number"==typeof i&&Number.isInteger(i)&&!H(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Fe={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ft={nullValue:"NULL_VALUE"};function At(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yc(i)?4:ol(i)?9007199254740991:10:dn()}function Xt(i,e){if(i===e)return!0;const n=At(i);if(n!==At(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $l(i).isEqual($l(e));case 3:return function(o,d){if("string"==typeof o.timestampValue&&"string"==typeof d.timestampValue&&o.timestampValue.length===d.timestampValue.length)return o.timestampValue===d.timestampValue;const m=_o(o.timestampValue),w=_o(d.timestampValue);return m.seconds===w.seconds&&m.nanos===w.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,Aa(i.bytesValue).isEqual(Aa(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,d){return vi(o.geoPointValue.latitude)===vi(d.geoPointValue.latitude)&&vi(o.geoPointValue.longitude)===vi(d.geoPointValue.longitude)}(i,e);case 2:return function(o,d){if("integerValue"in o&&"integerValue"in d)return vi(o.integerValue)===vi(d.integerValue);if("doubleValue"in o&&"doubleValue"in d){const m=vi(o.doubleValue),w=vi(d.doubleValue);return m===w?H(m)===H(w):isNaN(m)&&isNaN(w)}return!1}(i,e);case 9:return yo(i.arrayValue.values||[],e.arrayValue.values||[],Xt);case 10:return function(o,d){const m=o.mapValue.fields||{},w=d.mapValue.fields||{};if(Vn(m)!==Vn(w))return!1;for(const P in m)if(m.hasOwnProperty(P)&&(void 0===w[P]||!Xt(m[P],w[P])))return!1;return!0}(i,e);default:return dn()}var d}function Cn(i,e){return void 0!==(i.values||[]).find(n=>Xt(n,e))}function Bn(i,e){if(i===e)return 0;const n=At(i),o=At(e);if(n!==o)return Or(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Or(i.booleanValue,e.booleanValue);case 2:return function(d,m){const w=vi(d.integerValue||d.doubleValue),P=vi(m.integerValue||m.doubleValue);return w<P?-1:w>P?1:w===P?0:isNaN(w)?isNaN(P)?0:-1:1}(i,e);case 3:return Ar(i.timestampValue,e.timestampValue);case 4:return Ar($l(i),$l(e));case 5:return Or(i.stringValue,e.stringValue);case 6:return function(d,m){const w=Aa(d),P=Aa(m);return w.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(d,m){const w=d.split("/"),P=m.split("/");for(let Y=0;Y<w.length&&Y<P.length;Y++){const ee=Or(w[Y],P[Y]);if(0!==ee)return ee}return Or(w.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,m){const w=Or(vi(d.latitude),vi(m.latitude));return 0!==w?w:Or(vi(d.longitude),vi(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,m){const w=d.values||[],P=m.values||[];for(let Y=0;Y<w.length&&Y<P.length;++Y){const ee=Bn(w[Y],P[Y]);if(ee)return ee}return Or(w.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,m){if(d===Fe.mapValue&&m===Fe.mapValue)return 0;if(d===Fe.mapValue)return 1;if(m===Fe.mapValue)return-1;const w=d.fields||{},P=Object.keys(w),Y=m.fields||{},ee=Object.keys(Y);P.sort(),ee.sort();for(let _e=0;_e<P.length&&_e<ee.length;++_e){const it=Or(P[_e],ee[_e]);if(0!==it)return it;const Rt=Bn(w[P[_e]],Y[ee[_e]]);if(0!==Rt)return Rt}return Or(P.length,ee.length)}(i.mapValue,e.mapValue);default:throw dn()}}function Ar(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Or(i,e);const n=_o(i),o=_o(e),d=Or(n.seconds,o.seconds);return 0!==d?d:Or(n.nanos,o.nanos)}function wr(i){return or(i)}function or(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const d=_o(o);return`time(${d.seconds},${d.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Aa(i.bytesValue).toBase64():"referenceValue"in i?bn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let d="[",m=!0;for(const w of o.values||[])m?m=!1:d+=",",d+=or(w);return d+"]"}(i.arrayValue):"mapValue"in i?function(o){const d=Object.keys(o.fields||{}).sort();let m="{",w=!0;for(const P of d)w?w=!1:m+=",",m+=`${P}:${or(o.fields[P])}`;return m+"}"}(i.mapValue):dn();var e}function qi(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ms(i){return!!i&&"integerValue"in i}function za(i){return!!i&&"arrayValue"in i}function il(i){return!!i&&"nullValue"in i}function Ko(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Wa(i){return!!i&&"mapValue"in i}function sl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return tr(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=sl(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ol(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function al(i){return"nullValue"in i?ft:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?qi(ws.empty(),bn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:dn()}function ou(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?qi(ws.empty(),bn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Fe:dn()}function Li(i,e){const n=Bn(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function nc(i,e){const n=Bn(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Gs{constructor(e){this.value=e}static empty(){return new Gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Wa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(n)}setAll(e){let n=us.emptyPath(),o={},d=[];e.forEach((w,P)=>{if(!n.isImmediateParentOf(P)){const Y=this.getFieldsMap(n);this.applyChanges(Y,o,d),o={},d=[],n=P.popLast()}w?o[P.lastSegment()]=sl(w):d.push(P.lastSegment())});const m=this.getFieldsMap(n);this.applyChanges(m,o,d)}delete(e){const n=this.field(e.popLast());Wa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let d=n.mapValue.fields[e.get(o)];Wa(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=d),n=d}return n.mapValue.fields}applyChanges(e,n,o){tr(n,(d,m)=>e[d]=m);for(const d of o)delete e[d]}clone(){return new Gs(sl(this.value))}}function Al(i){const e=[];return tr(i.fields,(n,o)=>{const d=new us([n]);if(Wa(o)){const m=Al(o.mapValue).fields;if(0===m.length)e.push(d);else for(const w of m)e.push(d.child(w))}else e.push(d)}),new Xs(e)}class _i{constructor(e,n,o,d,m,w){this.key=e,this.documentType=n,this.version=o,this.readTime=d,this.data=m,this.documentState=w}static newInvalidDocument(e){return new _i(e,0,_r.min(),_r.min(),Gs.empty(),0)}static newFoundDocument(e,n,o){return new _i(e,1,n,_r.min(),o,0)}static newNoDocument(e,n){return new _i(e,2,n,_r.min(),Gs.empty(),0)}static newUnknownDocument(e,n){return new _i(e,3,n,_r.min(),Gs.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_r.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cu{constructor(e,n=null,o=[],d=[],m=null,w=null,P=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=d,this.limit=m,this.startAt=w,this.endAt=P,this.ut=null}}function aa(i,e=null,n=[],o=[],d=null,m=null,w=null){return new Cu(i,e,n,o,d,m,w)}function Yo(i){const e=mn(i);if(null===e.ut){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(d=o).field.canonicalString()+d.op.toString()+wr(d.value);var d}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(d=o).field.canonicalString()+d.dir;var d}).join(","),$(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>wr(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>wr(o)).join(",")),e.ut=n}return e.ut}function qc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let d=0;d<i.orderBy.length;d++)if(!rc(i.orderBy[d],e.orderBy[d]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let d=0;d<i.filters.length;d++)if((n=i.filters[d]).op!==(o=e.filters[d]).op||!n.field.isEqual(o.field)||!Xt(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ic(i.startAt,e.startAt)&&ic(i.endAt,e.endAt)}function Tu(i){return bn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Sh(i,e){return i.filters.filter(n=>n instanceof qo&&n.field.isEqual(e))}function Ns(i,e,n){let o=ft,d=!0;for(const m of Sh(i,e)){let w=ft,P=!0;switch(m.op){case"<":case"<=":w=al(m.value);break;case"==":case"in":case">=":w=m.value;break;case">":w=m.value,P=!1;break;case"!=":case"not-in":w=ft}Li({value:o,inclusive:d},{value:w,inclusive:P})<0&&(o=w,d=P)}if(null!==n)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const w=n.position[m];Li({value:o,inclusive:d},{value:w,inclusive:n.inclusive})<0&&(o=w,d=n.inclusive);break}return{value:o,inclusive:d}}function Ah(i,e,n){let o=Fe,d=!0;for(const m of Sh(i,e)){let w=Fe,P=!0;switch(m.op){case">=":case">":w=ou(m.value),P=!1;break;case"==":case"in":case"<=":w=m.value;break;case"<":w=m.value,P=!1;break;case"!=":case"not-in":w=Fe}nc({value:o,inclusive:d},{value:w,inclusive:P})>0&&(o=w,d=P)}if(null!==n)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const w=n.position[m];nc({value:o,inclusive:d},{value:w,inclusive:n.inclusive})>0&&(o=w,d=n.inclusive);break}return{value:o,inclusive:d}}class qo extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,o):new Rd(e,n,o):"array-contains"===n?new oo(e,o):"in"===n?new Rp(e,o):"not-in"===n?new Su(e,o):"array-contains-any"===n?new Df(e,o):new qo(e,n,o)}static ct(e,n,o){return"in"===n?new Ml(e,o):new wf(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.at(Bn(n,this.value)):null!==n&&At(this.value)===At(n)&&this.at(Bn(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dn()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Rd extends qo{constructor(e,n,o){super(e,n,o),this.key=bn.fromName(o.referenceValue)}matches(e){const n=bn.comparator(e.key,this.key);return this.at(n)}}class Ml extends qo{constructor(e,n){super(e,"in",n),this.keys=bf(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wf extends qo{constructor(e,n){super(e,"not-in",n),this.keys=bf(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bf(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>bn.fromName(o.referenceValue))}class oo extends qo{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return za(n)&&Cn(n.arrayValue,this.value)}}class Rp extends qo{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Cn(this.value.arrayValue,n)}}class Su extends qo{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Cn(this.value.arrayValue,n)}}class Df extends qo{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!za(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Cn(this.value.arrayValue,o))}}class ao{constructor(e,n){this.position=e,this.inclusive=n}}class la{constructor(e,n="asc"){this.field=e,this.dir=n}}function rc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function ll(i,e,n){let o=0;for(let d=0;d<i.position.length;d++){const m=e[d],w=i.position[d];if(o=m.field.isKeyField()?bn.comparator(bn.fromName(w.referenceValue),n.key):Bn(w,n.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function ic(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xt(i.position[n],e.position[n]))return!1;return!0}class Ma{constructor(e,n=null,o=[],d=[],m=null,w="F",P=null,Y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=d,this.limit=m,this.limitType=w,this.startAt=P,this.endAt=Y,this.lt=null,this.ft=null}}function Zc(i,e,n,o,d,m,w,P){return new Ma(i,e,n,o,d,m,w,P)}function Au(i){return new Ma(i)}function Lo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Xc(i){for(const e of i.filters)if(e.ht())return e.field;return null}function Vl(i){return null!==i.collectionGroup}function au(i){const e=mn(i);if(null===e.lt){e.lt=[];const n=Xc(e),o=Lo(e);if(null!==n&&null===o)n.isKeyField()||e.lt.push(new la(n)),e.lt.push(new la(us.keyField(),"asc"));else{let d=!1;for(const m of e.explicitOrderBy)e.lt.push(m),m.field.isKeyField()&&(d=!0);if(!d){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new la(us.keyField(),m))}}}return e.lt}function xa(i){const e=mn(i);if(!e.ft)if("F"===e.limitType)e.ft=aa(e.path,e.collectionGroup,au(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const m of au(e))n.push(new la(m.field,"desc"===m.dir?"asc":"desc"));const o=e.endAt?new ao(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new ao(e.startAt.position,e.startAt.inclusive):null;e.ft=aa(e.path,e.collectionGroup,n,e.filters,e.limit,o,d)}return e.ft}function Od(i,e,n){return new Ma(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Qc(i,e){return qc(xa(i),xa(e))&&i.limitType===e.limitType}function Pd(i){return`${Yo(xa(i))}|lt:${i.limitType}`}function xl(i){return`Query(target=${function qr(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${wr(o.value)}`;var o}).join(", ")}]`),$(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>wr(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>wr(n)).join(",")),`Target(${e})`}(xa(i))}; limitType=${i.limitType})`}function Nd(i,e){return e.isFoundDocument()&&function(n,o){const d=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(d):bn.isDocumentKey(n.path)?n.path.isEqual(d):n.path.isImmediateParentOf(d)}(i,e)&&function(n,o){for(const d of n.explicitOrderBy)if(!d.field.isKeyField()&&null===o.data.field(d.field))return!1;return!0}(i,e)&&function(n,o){for(const d of n.filters)if(!d.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(d,m,w){const P=ll(d,m,w);return d.inclusive?P<=0:P<0}(n.startAt,au(n),o)||n.endAt&&!function(d,m,w){const P=ll(d,m,w);return d.inclusive?P>=0:P>0}(n.endAt,au(n),o)));var n,o}function Jc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sc(i){return(e,n)=>{let o=!1;for(const d of au(i)){const m=Mu(d,e,n);if(0!==m)return m;o=o||d.field.isKeyField()}return 0}}function Mu(i,e,n){const o=i.field.isKeyField()?bn.comparator(e.key,n.key):function(d,m,w){const P=m.data.field(d),Y=w.data.field(d);return null!==P&&null!==Y?Bn(P,Y):dn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return dn()}}function Ul(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:H(e)?"-0":e}}function xu(i){return{integerValue:""+i}}function kd(i,e){return ae(e)?xu(e):Ul(i,e)}class jl{constructor(){this._=void 0}}function Op(i,e,n){return i instanceof Hl?function(o,d){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return d&&(m.fields.__previous_value__=d),{mapValue:m}}(n,e):i instanceof lu?Qs(i,e):i instanceof Gl?zl(i,e):function(o,d){const m=oc(o,d),w=Ru(m)+Ru(o._t);return Ms(m)&&Ms(o._t)?xu(w):Ul(o.wt,w)}(i,e)}function xh(i,e,n){return i instanceof lu?Qs(i,e):i instanceof Gl?zl(i,e):n}function oc(i,e){return i instanceof Ra?Ms(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Hl extends jl{}class lu extends jl{constructor(e){super(),this.elements=e}}function Qs(i,e){const n=ed(e);for(const o of i.elements)n.some(d=>Xt(d,o))||n.push(o);return{arrayValue:{values:n}}}class Gl extends jl{constructor(e){super(),this.elements=e}}function zl(i,e){let n=ed(e);for(const o of i.elements)n=n.filter(d=>!Xt(d,o));return{arrayValue:{values:n}}}class Ra extends jl{constructor(e,n){super(),this.wt=e,this._t=n}}function Ru(i){return vi(i.integerValue||i.doubleValue)}function ed(i){return za(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ka{constructor(e,n){this.field=e,this.transform=n}}class Wl{constructor(e,n){this.version=e,this.transformResults=n}}class ks{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ks}static exists(e){return new ks(void 0,e)}static updateTime(e){return new ks(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fd(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ul{}function td(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Zo(i.key,ks.none()):new Rl(i.key,i.data,ks.none());{const n=i.data,o=Gs.empty();let d=new Fr(us.comparator);for(let m of e.fields)if(!d.has(m)){let w=n.field(m);null===w&&m.length>1&&(m=m.popLast(),w=n.field(m)),null===w?o.delete(m):o.set(m,w),d=d.add(m)}return new Ea(i.key,o,new Xs(d.toArray()),ks.none())}}function Cf(i,e,n){i instanceof Rl?function(o,d,m){const w=o.value.clone(),P=ac(o.fieldTransforms,d,m.transformResults);w.setAll(P),d.convertToFoundDocument(m.version,w).setHasCommittedMutations()}(i,e,n):i instanceof Ea?function(o,d,m){if(!Fd(o.precondition,d))return void d.convertToUnknownDocument(m.version);const w=ac(o.fieldTransforms,d,m.transformResults),P=d.data;P.setAll(Ld(o)),P.setAll(w),d.convertToFoundDocument(m.version,P).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function cu(i,e,n,o){return i instanceof Rl?function(d,m,w,P){if(!Fd(d.precondition,m))return w;const Y=d.value.clone(),ee=Zi(d.fieldTransforms,P,m);return Y.setAll(ee),m.convertToFoundDocument(m.version,Y).setHasLocalMutations(),null}(i,e,n,o):i instanceof Ea?function(d,m,w,P){if(!Fd(d.precondition,m))return w;const Y=Zi(d.fieldTransforms,P,m),ee=m.data;return ee.setAll(Ld(d)),ee.setAll(Y),m.convertToFoundDocument(m.version,ee).setHasLocalMutations(),null===w?null:w.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(_e=>_e.field))}(i,e,n,o):(w=n,Fd(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):w);var m,w}function Ou(i,e){let n=null;for(const o of i.fieldTransforms){const d=e.data.field(o.field),m=oc(o.transform,d||null);null!=m&&(null===n&&(n=Gs.empty()),n.set(o.field,m))}return n||null}function Tf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&yo(n,o,(d,m)=>function uu(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof lu&&o instanceof lu||n instanceof Gl&&o instanceof Gl?yo(n.elements,o.elements,Xt):n instanceof Ra&&o instanceof Ra?Xt(n._t,o._t):n instanceof Hl&&o instanceof Hl);var n,o}(d,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Rl extends ul{constructor(e,n,o,d=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class Ea extends ul{constructor(e,n,o,d,m=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=d,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Ld(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function ac(i,e,n){const o=new Map;hr(i.length===n.length);for(let d=0;d<n.length;d++){const m=i[d],w=m.transform,P=e.data.field(m.field);o.set(m.field,xh(w,P,n[d]))}return o}function Zi(i,e,n){const o=new Map;for(const d of i){const m=d.transform,w=n.data.field(d.field);o.set(d.field,Op(m,w,e))}return o}class Zo extends ul{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lc extends ul{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nd{constructor(e){this.count=e}}var lo,di;function du(i){switch(i){default:return dn();case Ot.CANCELLED:case Ot.UNKNOWN:case Ot.DEADLINE_EXCEEDED:case Ot.RESOURCE_EXHAUSTED:case Ot.INTERNAL:case Ot.UNAVAILABLE:case Ot.UNAUTHENTICATED:return!1;case Ot.INVALID_ARGUMENT:case Ot.NOT_FOUND:case Ot.ALREADY_EXISTS:case Ot.PERMISSION_DENIED:case Ot.FAILED_PRECONDITION:case Ot.ABORTED:case Ot.OUT_OF_RANGE:case Ot.UNIMPLEMENTED:case Ot.DATA_LOSS:return!0}}function Bd(i){if(void 0===i)return gi("GRPC error has no .code"),Ot.UNKNOWN;switch(i){case lo.OK:return Ot.OK;case lo.CANCELLED:return Ot.CANCELLED;case lo.UNKNOWN:return Ot.UNKNOWN;case lo.DEADLINE_EXCEEDED:return Ot.DEADLINE_EXCEEDED;case lo.RESOURCE_EXHAUSTED:return Ot.RESOURCE_EXHAUSTED;case lo.INTERNAL:return Ot.INTERNAL;case lo.UNAVAILABLE:return Ot.UNAVAILABLE;case lo.UNAUTHENTICATED:return Ot.UNAUTHENTICATED;case lo.INVALID_ARGUMENT:return Ot.INVALID_ARGUMENT;case lo.NOT_FOUND:return Ot.NOT_FOUND;case lo.ALREADY_EXISTS:return Ot.ALREADY_EXISTS;case lo.PERMISSION_DENIED:return Ot.PERMISSION_DENIED;case lo.FAILED_PRECONDITION:return Ot.FAILED_PRECONDITION;case lo.ABORTED:return Ot.ABORTED;case lo.OUT_OF_RANGE:return Ot.OUT_OF_RANGE;case lo.UNIMPLEMENTED:return Ot.UNIMPLEMENTED;case lo.DATA_LOSS:return Ot.DATA_LOSS;default:return dn()}}(di=lo||(lo={}))[di.OK=0]="OK",di[di.CANCELLED=1]="CANCELLED",di[di.UNKNOWN=2]="UNKNOWN",di[di.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",di[di.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",di[di.NOT_FOUND=5]="NOT_FOUND",di[di.ALREADY_EXISTS=6]="ALREADY_EXISTS",di[di.PERMISSION_DENIED=7]="PERMISSION_DENIED",di[di.UNAUTHENTICATED=16]="UNAUTHENTICATED",di[di.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",di[di.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",di[di.ABORTED=10]="ABORTED",di[di.OUT_OF_RANGE=11]="OUT_OF_RANGE",di[di.UNIMPLEMENTED=12]="UNIMPLEMENTED",di[di.INTERNAL=13]="INTERNAL",di[di.UNAVAILABLE=14]="UNAVAILABLE",di[di.DATA_LOSS=15]="DATA_LOSS";class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[d,m]of o)if(this.equalsFn(d,e))return m}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),d=this.inner[o];if(void 0===d)return this.inner[o]=[[e,n]],void this.innerSize++;for(let m=0;m<d.length;m++)if(this.equalsFn(d[m][0],e))return void(d[m]=[e,n]);d.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],e))return 1===o.length?delete this.inner[n]:o.splice(d,1),this.innerSize--,!0;return!1}forEach(e){tr(this.inner,(n,o)=>{for(const[d,m]of o)e(d,m)})}isEmpty(){return ir(this.inner)}size(){return this.innerSize}}const $d=new kr(bn.comparator);function zs(){return $d}const Pu=new kr(bn.comparator);function Kl(...i){let e=Pu;for(const n of i)e=e.insert(n.key,n);return e}function ua(i){let e=Pu;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function ca(){return uc()}function hu(){return uc()}function uc(){return new Xo(i=>i.toString(),(i,e)=>i.isEqual(e))}const cc=new kr(bn.comparator),dc=new Fr(bn.comparator);function Tr(...i){let e=dc;for(const n of i)e=e.add(n);return e}const Rh=new Fr(Or);function rd(){return Rh}class Ya{constructor(e,n,o,d,m){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=d,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,n)),new Ya(_r.min(),o,rd(),zs(),Tr())}}class Nu{constructor(e,n,o,d,m){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=d,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Nu(Vi.EMPTY_BYTE_STRING,n,Tr(),Tr(),Tr())}}class hc{constructor(e,n,o,d){this.gt=e,this.removedTargetIds=n,this.key=o,this.yt=d}}class Sf{constructor(e,n){this.targetId=e,this.It=n}}class Af{constructor(e,n,o=Vi.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=d}}class Oh{constructor(){this.Tt=0,this.Et=id(),this.At=Vi.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Tr(),n=Tr(),o=Tr();return this.Et.forEach((d,m)=>{switch(m){case 0:e=e.add(d);break;case 2:n=n.add(d);break;case 1:o=o.add(d);break;default:dn()}}),new Nu(this.At,this.Rt,e,n,o)}Dt(){this.bt=!1,this.Et=id()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Ao{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=zs(),this.Bt=fc(),this.Lt=new Fr(Or)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const o=this.Qt(n);switch(e.state){case 0:this.jt(n)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(o.Ot(),o.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),o.Vt(e.resumeToken));break;default:dn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((o,d)=>{this.jt(d)&&n(d)})}zt(e){const n=e.targetId,o=e.It.count,d=this.Ht(n);if(d){const m=d.target;if(Tu(m))if(0===o){const w=new bn(m.path);this.Kt(n,w,_i.newNoDocument(w,_r.min()))}else hr(1===o);else this.Jt(n)!==o&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((m,w)=>{const P=this.Ht(w);if(P){if(m.current&&Tu(P.target)){const Y=new bn(P.target.path);null!==this.$t.get(Y)||this.Xt(w,Y)||this.Kt(w,Y,_i.newNoDocument(Y,e))}m.vt&&(n.set(w,m.St()),m.Dt())}});let o=Tr();this.Bt.forEach((m,w)=>{let P=!0;w.forEachWhile(Y=>{const ee=this.Ht(Y);return!ee||2===ee.purpose||(P=!1,!1)}),P&&(o=o.add(m))}),this.$t.forEach((m,w)=>w.setReadTime(e));const d=new Ya(e,n,this.Lt,this.$t,o);return this.$t=zs(),this.Bt=fc(),this.Lt=new Fr(Or),d}qt(e,n){if(!this.jt(e))return;const o=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,o),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,o){if(!this.jt(e))return;const d=this.Qt(e);this.Xt(e,n)?d.Ct(n,1):d.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),o&&(this.$t=this.$t.insert(n,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new Oh,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new Fr(Or),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=null!==this.Ht(e);return n||pn("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Oh),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function fc(){return new kr(bn.comparator)}function id(){return new kr(bn.comparator)}const Bo={asc:"ASCENDING",desc:"DESCENDING"},cl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fu{constructor(e,n){this.databaseId=e,this.dt=n}}function Yl(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eo(i,e){return i.dt?e.toBase64():e.toUint8Array()}function sd(i,e){return Yl(i,e.toTimestamp())}function Js(i){return hr(!!i),_r.fromTimestamp(function(e){const n=_o(e);return new mi(n.seconds,n.nanos)}(i))}function od(i,e){return(n=i,new Ur(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Vd(i){const e=Ur.fromString(i);return hr(jd(e)),e}function pc(i,e){return od(i.databaseId,e.path)}function Ol(i,e){const n=Vd(e);if(n.get(1)!==i.databaseId.projectId)throw new tn(Ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new tn(Ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new bn(M(n))}function D(i,e){return od(i.databaseId,e)}function p(i){const e=Vd(i);return 4===e.length?Ur.emptyPath():M(e)}function _(i){return new Ur(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function M(i){return hr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function X(i,e,n){return{name:pc(i,e),fields:n.value.mapValue.fields}}function he(i,e,n){const o=Ol(i,e.name),d=Js(e.updateTime),m=new Gs({mapValue:{fields:e.fields}}),w=_i.newFoundDocument(o,d,m);return n&&w.setHasCommittedMutations(),n?w.setHasCommittedMutations():w}function yn(i,e){let n;if(e instanceof Rl)n={update:X(i,e.key,e.value)};else if(e instanceof Zo)n={delete:pc(i,e.key)};else if(e instanceof Ea)n={update:X(i,e.key,e.data),updateMask:mc(e.fieldMask)};else{if(!(e instanceof lc))return dn();n={verify:pc(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(d,m){const w=m.transform;if(w instanceof Hl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof lu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Gl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Ra)return{fieldPath:m.field.canonicalString(),increment:w._t};throw dn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:sd(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:dn()),n;var d}function Hn(i,e){const n=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?ks.updateTime(Js(d.updateTime)):void 0!==d.exists?ks.exists(d.exists):ks.none():ks.none(),o=e.updateTransforms?e.updateTransforms.map(d=>function(m,w){let P=null;"setToServerValue"in w?(hr("REQUEST_TIME"===w.setToServerValue),P=new Hl):"appendMissingElements"in w?P=new lu(w.appendMissingElements.values||[]):"removeAllFromArray"in w?P=new Gl(w.removeAllFromArray.values||[]):"increment"in w?P=new Ra(m,w.increment):dn();const Y=us.fromServerFormat(w.fieldPath);return new Ka(Y,P)}(i,d)):[];var d;if(e.update){const d=Ol(i,e.update.name),m=new Gs({mapValue:{fields:e.update.fields}});if(e.updateMask){const w=new Xs((e.updateMask.fieldPaths||[]).map(ee=>us.fromServerFormat(ee)));return new Ea(d,m,w,n,o)}return new Rl(d,m,n,o)}if(e.delete){const d=Ol(i,e.delete);return new Zo(d,n)}if(e.verify){const d=Ol(i,e.verify);return new lc(d,n)}return dn()}function ar(i,e){return{documents:[D(i,e.path)]}}function Ws(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=D(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=D(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const d=function(Y){if(0===Y.length)return;const ee=Y.map(_e=>function(it){if("=="===it.op){if(Ko(it.value))return{unaryFilter:{field:dl(it.field),op:"IS_NAN"}};if(il(it.value))return{unaryFilter:{field:dl(it.field),op:"IS_NULL"}}}else if("!="===it.op){if(Ko(it.value))return{unaryFilter:{field:dl(it.field),op:"IS_NOT_NAN"}};if(il(it.value))return{unaryFilter:{field:dl(it.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(it.field),op:Ud(it.op),value:it.value}}}(_e));return 1===ee.length?ee[0]:{compositeFilter:{op:"AND",filters:ee}}}(e.filters);d&&(n.structuredQuery.where=d);const m=function(Y){if(0!==Y.length)return Y.map(ee=>{return{field:dl((_e=ee).field),direction:ad(_e.dir)};var _e})}(e.orderBy);m&&(n.structuredQuery.orderBy=m);const w=(ee=e.limit,i.dt||$(ee)?ee:{value:ee});var ee,P,Y;return null!==w&&(n.structuredQuery.limit=w),e.startAt&&(n.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(n.structuredQuery.endAt={before:!(Y=e.endAt).inclusive,values:Y.position}),n}function Oa(i){let e=p(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let d=null;if(o>0){hr(1===o);const _e=n.from[0];_e.allDescendants?d=_e.collectionId:e=e.child(_e.collectionId)}let m=[];n.where&&(m=gc(n.where));let w=[];n.orderBy&&(w=n.orderBy.map(_e=>{return new la(Zl((it=_e).field),function(Rt){switch(Rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(it.direction));var it}));let P=null;n.limit&&(P=function(_e){let it;return it="object"==typeof _e?_e.value:_e,$(it)?null:it}(n.limit));let Y=null;var _e;n.startAt&&(Y=new ao((_e=n.startAt).values||[],!!_e.before));let ee=null;return n.endAt&&(ee=function(_e){return new ao(_e.values||[],!_e.before)}(n.endAt)),Zc(e,d,w,m,P,"F",Y,ee)}function gc(i){return i?void 0!==i.unaryFilter?[Ph(i)]:void 0!==i.fieldFilter?[Mf(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>gc(e)).reduce((e,n)=>e.concat(n)):dn():[]}function ad(i){return Bo[i]}function Ud(i){return cl[i]}function dl(i){return{fieldPath:i.canonicalString()}}function Zl(i){return us.fromServerFormat(i.fieldPath)}function Mf(i){return qo.create(Zl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dn()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ph(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Zl(i.unaryFilter.field);return qo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Zl(i.unaryFilter.field);return qo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zl(i.unaryFilter.field);return qo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Zl(i.unaryFilter.field);return qo.create(d,"!=",{nullValue:"NULL_VALUE"});default:return dn()}}function mc(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function da(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Gd(e)),e=Hd(i.get(n),e);return Gd(e)}function Hd(i,e){let n=e;const o=i.length;for(let d=0;d<o;d++){const m=i.charAt(d);switch(m){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=m}}return n}function Gd(i){return i+"\x01\x01"}function hl(i){const e=i.length;if(hr(e>=2),2===e)return hr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ur.emptyPath();const n=e-2,o=[];let d="";for(let m=0;m<e;){const w=i.indexOf("\x01",m);switch((w<0||w>n)&&dn(),i.charAt(w+1)){case"\x01":const P=i.substring(m,w);let Y;0===d.length?Y=P:(d+=P,Y=d,d=""),o.push(Y);break;case"\x10":d+=i.substring(m,w),d+="\0";break;case"\x11":d+=i.substring(m,w+1);break;default:dn()}m=w+2}return new Ur(o)}const zd=["userId","batchId"];function xf(i,e){return[i,da(e)]}function Gg(i,e,n){return[i,da(e),n]}const Rf={},ku=["prefixPath","collectionGroup","readTime","documentId"],yc=["prefixPath","collectionGroup","documentId"],Pp=["collectionGroup","readTime","prefixPath","documentId"],Fu=["canonicalId","targetId"],Of=["targetId","path"],Np=["path","targetId"],Pf=["collectionId","parent"],Zm=["indexId","uid"],zg=["uid","sequenceNumber"],kp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Nf=["indexId","uid","orderedDocumentKey"],Fp=["userId","collectionPath","documentId"],Lu=["userId","collectionPath","largestBatchId"],vc=["userId","collectionGroup","largestBatchId"],Wd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wg=[...Wd,"documentOverlays"],kf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_c=kf,Kg=[..._c,"indexConfiguration","indexState","indexEntries"];class Kd extends tc{constructor(e,n){super(),this.ee=e,this.currentSequenceNumber=n}}function uo(i,e){const n=mn(i);return S.N(n.ee,e)}class Ff{constructor(e,n,o,d){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=d}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let d=0;d<this.mutations.length;d++){const m=this.mutations[d];m.key.isEqual(e.key)&&Cf(m,e,o[d])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=cu(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=cu(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=hu();return this.mutations.forEach(d=>{const m=e.get(d.key),w=m.overlayedDocument;let P=this.applyToLocalView(w,m.mutatedFields);P=n.has(d.key)?null:P;const Y=td(w,P);null!==Y&&o.set(d.key,Y),w.isValidDocument()||w.convertToNoDocument(_r.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tr())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,o)=>Tf(n,o))&&yo(this.baseMutations,e.baseMutations,(n,o)=>Tf(n,o))}}class Nh{constructor(e,n,o,d){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=d}static from(e,n,o){hr(e.mutations.length===o.length);let d=cc;const m=e.mutations;for(let w=0;w<m.length;w++)d=d.insert(m[w].key,o[w].version);return new Nh(e,n,o,d)}}class Yd{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ec{constructor(e,n,o,d,m=_r.min(),w=_r.min(),P=Vi.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=d,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=P}withSequenceNumber(e){return new Ec(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ld{constructor(e){this.ne=e}}function Lf(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ic(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:pc(d=i.ne,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Yl(d,m.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:fl(e.version)};else{if(!e.isUnknownDocument())return dn();o.unknownDocument={path:n.path.toArray(),version:fl(e.version)}}var d,m;return o}function Ic(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function fl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pa(i){const e=new mi(i.seconds,i.nanoseconds);return _r.fromTimestamp(e)}function Bu(i,e){const n=(e.baseMutations||[]).map(m=>Hn(i.ne,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const o=e.mutations.map(m=>Hn(i.ne,m)),d=mi.fromMillis(e.localWriteTimeMs);return new Ff(e.batchId,d,n,o)}function ud(i){const e=Pa(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Pa(i.lastLimboFreeSnapshotVersion):_r.min();let o;var d;return void 0!==i.query.documents?(hr(1===(d=i.query).documents.length),o=xa(Au(p(d.documents[0])))):o=xa(Oa(i.query)),new Ec(o,i.targetId,0,i.lastListenSequenceNumber,e,n,Vi.fromBase64String(i.resumeToken))}function Bp(i,e){const n=fl(e.snapshotVersion),o=fl(e.lastLimboFreeSnapshotVersion);let d;d=Tu(e.target)?ar(i.ne,e.target):Ws(i.ne,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yo(e.target),readTime:n,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:d}}function $p(i){const e=Oa({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Od(e,e.limit,"L"):e}function $u(i,e){return new Yd(e.largestBatchId,Hn(i.ne,e.overlayMutation))}function Yg(i,e){const n=e.path.lastSegment();return[i,da(e.path.popLast()),n]}function qd(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:fl(o.readTime),documentKey:da(o.documentKey.path),largestBatchId:o.largestBatchId}}class Bf{getBundleMetadata(e,n){return Zd(e).get(n).next(o=>{if(o)return{id:(d=o).bundleId,createTime:Pa(d.createTime),version:d.version};var d})}saveBundleMetadata(e,n){return Zd(e).put({bundleId:(o=n).id,createTime:fl(Js(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return kh(e).get(n).next(o=>{if(o)return{name:(d=o).name,query:$p(d.bundledQuery),readTime:Pa(d.readTime)};var d})}saveNamedQuery(e,n){return kh(e).put({name:(o=n).name,readTime:fl(Js(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Zd(i){return uo(i,"bundles")}function kh(i){return uo(i,"namedQueries")}class Fh{constructor(e,n){this.wt=e,this.userId=n}static se(e,n){return new Fh(e,n.uid||"")}getOverlay(e,n){return cd(e).get(Yg(this.userId,n)).next(o=>o?$u(this.wt,o):null)}getOverlays(e,n){const o=ca();return xt.forEach(n,d=>this.getOverlay(e,d).next(m=>{null!==m&&o.set(d,m)})).next(()=>o)}saveOverlays(e,n,o){const d=[];return o.forEach((m,w)=>{const P=new Yd(n,w);d.push(this.ie(e,P))}),xt.waitFor(d)}removeOverlaysForBatchId(e,n,o){const d=new Set;n.forEach(w=>d.add(da(w.getCollectionPath())));const m=[];return d.forEach(w=>{const P=IDBKeyRange.bound([this.userId,w,o],[this.userId,w,o+1],!1,!0);m.push(cd(e).W("collectionPathOverlayIndex",P))}),xt.waitFor(m)}getOverlaysForCollection(e,n,o){const d=ca(),m=da(n),w=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return cd(e).K("collectionPathOverlayIndex",w).next(P=>{for(const Y of P){const ee=$u(this.wt,Y);d.set(ee.getKey(),ee)}return d})}getOverlaysForCollectionGroup(e,n,o,d){const m=ca();let w;const P=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return cd(e).J({index:"collectionGroupOverlayIndex",range:P},(Y,ee,_e)=>{const it=$u(this.wt,ee);m.size()<d||it.largestBatchId===w?(m.set(it.getKey(),it),w=it.largestBatchId):_e.done()}).next(()=>m)}ie(e,n){return cd(e).put(function(o,d,m){const[w,P,Y]=Yg(d,m.mutation.key);return{userId:d,collectionPath:P,documentId:Y,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:yn(o.ne,m.mutation)}}(this.wt,this.userId,n))}}function cd(i){return uo(i,"documentOverlays")}class wc{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(vi(e.integerValue));else if("doubleValue"in e){const o=vi(e.doubleValue);isNaN(o)?this.ce(n,13):(this.ce(n,15),H(o)?n.ae(0):n.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(n,20),"string"==typeof o?n.he(o):(n.he(`${o.seconds||""}`),n.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(Aa(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(n,45),n.ae(o.latitude||0),n.ae(o.longitude||0)}else"mapValue"in e?ol(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):dn()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const o=e.fields||{};this.ce(n,55);for(const d of Object.keys(o))this.le(d,n),this.oe(o[d],n)}me(e,n){const o=e.values||[];this.ce(n,50);for(const d of o)this.oe(d,n)}_e(e,n){this.ce(n,37),bn.fromName(e).path.forEach(o=>{this.ce(n,60),this.ge(o,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}function Xm(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Vp(i){const e=64-function(n){let o=0;for(let d=0;d<8;++d){const m=Xm(255&n[d]);if(o+=m,8!==m)break}return o}(i);return Math.ceil(e/8)}wc.ye=new wc;class Up{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ie(o.value),o=n.next();this.Te()}Ee(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ae(o.value),o=n.next();this.Re()}be(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const d=n.codePointAt(0);this.Ie(240|d>>>18),this.Ie(128|63&d>>>12),this.Ie(128|63&d>>>6),this.Ie(128|63&d)}}this.Te()}Pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const d=n.codePointAt(0);this.Ae(240|d>>>18),this.Ae(128|63&d>>>12),this.Ae(128|63&d>>>6),this.Ae(128|63&d)}}this.Re()}ve(e){const n=this.Ve(e),o=Vp(n);this.Se(1+o),this.buffer[this.position++]=255&o;for(let d=n.length-o;d<n.length;++d)this.buffer[this.position++]=255&n[d]}De(e){const n=this.Ve(e),o=Vp(n);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let d=n.length-o;d<n.length;++d)this.buffer[this.position++]=~(255&n[d])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const n=function(d){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,d,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let d=1;d<n.length;++d)n[d]^=o?255:0;return n}Ie(e){const n=255&e;0===n?(this.xe(0),this.xe(255)):255===n?(this.xe(255),this.xe(0)):this.xe(n)}Ae(e){const n=255&e;0===n?(this.ke(0),this.ke(255)):255===n?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const d=new Uint8Array(o);d.set(this.buffer),this.buffer=d}}class jp{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class Hp{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Na{constructor(){this.Me=new Up,this.Fe=new jp(this.Me),this.$e=new Hp(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class ha{constructor(e,n,o,d){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=d}Le(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new ha(this.indexId,this.documentKey,this.arrayValue,o)}}function Vu(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=qg(i.arrayValue,e.arrayValue),0!==n?n:(n=qg(i.directionalValue,e.directionalValue),0!==n?n:bn.comparator(i.documentKey,e.documentKey)))}function qg(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Qy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const n of e.filters){const o=n;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const n=wu(e);if(void 0!==n&&!this.Qe(n))return!1;const o=Ca(e);let d=0,m=0;for(;d<o.length&&this.Qe(o[d]);++d);if(d===o.length)return!0;if(void 0!==this.Ke){const w=o[d];if(!this.je(this.Ke,w)||!this.We(this.Ue[m++],w))return!1;++d}for(;d<o.length;++d)if(m>=this.Ue.length||!this.We(this.Ue[m++],o[d]))return!1;return!0}Qe(e){for(const n of this.qe)if(this.je(n,e))return!0;return!1}je(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Gp{constructor(){this.ze=new zp}addToCollectionParentIndex(e,n){return this.ze.add(n),xt.resolve()}getCollectionParents(e,n){return xt.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return xt.resolve()}deleteFieldIndex(e,n){return xt.resolve()}getDocumentsMatchingTarget(e,n){return xt.resolve(null)}getIndexType(e,n){return xt.resolve(0)}getFieldIndexes(e,n){return xt.resolve([])}getNextCollectionGroupToUpdate(e){return xt.resolve(null)}getMinOffset(e,n){return xt.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return xt.resolve(yi.min())}updateCollectionGroup(e,n,o){return xt.resolve()}updateIndexEntries(e,n){return xt.resolve()}}class zp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),d=this.index[n]||new Fr(Ur.comparator),m=!d.has(o);return this.index[n]=d.add(o),m}has(e){const n=e.lastSegment(),o=e.popLast(),d=this.index[n];return d&&d.has(o)}getEntries(e){return(this.index[e]||new Fr(Ur.comparator)).toArray()}}const Wp=new Uint8Array(0);class Xd{constructor(e,n){this.user=e,this.databaseId=n,this.He=new zp,this.Je=new Xo(o=>Yo(o),(o,d)=>qc(o,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.He.has(n)){const o=n.lastSegment(),d=n.popLast();e.addOnCommittedListener(()=>{this.He.add(n)});const m={collectionId:o,parent:da(d)};return $f(e).put(m)}return xt.resolve()}getCollectionParents(e,n){const o=[],d=IDBKeyRange.bound([n,""],[zo(n),""],!1,!0);return $f(e).K(d).next(m=>{for(const w of m){if(w.collectionId!==n)break;o.push(hl(w.parent))}return o})}addFieldIndex(e,n){const o=Vf(e),d={indexId:(w=n).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var w;delete d.indexId;const m=o.add(d);if(n.indexState){const w=Bh(e);return m.next(P=>{w.put(qd(P,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return m.next()}deleteFieldIndex(e,n){const o=Vf(e),d=Bh(e),m=Lh(e);return o.delete(n.indexId).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Lh(e);let d=!0;const m=new Map;return xt.forEach(this.Ye(n),w=>this.Xe(e,w).next(P=>{d&&(d=!!P),m.set(w,P)})).next(()=>{if(d){let w=Tr();const P=[];return xt.forEach(m,(Y,ee)=>{var _e;pn("IndexedDbIndexManager",`Using index ${_e=Y,`id=${_e.indexId}|cg=${_e.collectionGroup}|f=${_e.fields.map(bs=>`${bs.fieldPath}:${bs.kind}`).join(",")}`} to execute ${Yo(n)}`);const it=function(bs,Uo){const Rs=wu(Uo);if(void 0===Rs)return null;for(const wo of Sh(bs,Rs.fieldPath))switch(wo.op){case"array-contains-any":return wo.value.arrayValue.values||[];case"array-contains":return[wo.value]}return null}(ee,Y),Rt=function(bs,Uo){const Rs=new Map;for(const wo of Ca(Uo))for(const Ba of Sh(bs,wo.fieldPath))switch(Ba.op){case"==":case"in":Rs.set(wo.fieldPath.canonicalString(),Ba.value);break;case"not-in":case"!=":return Rs.set(wo.fieldPath.canonicalString(),Ba.value),Array.from(Rs.values())}return null}(ee,Y),en=function(bs,Uo){const Rs=[];let wo=!0;for(const Ba of Ca(Uo)){const Mp=0===Ba.kind?Ns(bs,Ba.fieldPath,bs.startAt):Ah(bs,Ba.fieldPath,bs.startAt);Rs.push(Mp.value),wo&&(wo=Mp.inclusive)}return new ao(Rs,wo)}(ee,Y),un=function(bs,Uo){const Rs=[];let wo=!0;for(const Ba of Ca(Uo)){const Mp=0===Ba.kind?Ah(bs,Ba.fieldPath,bs.endAt):Ns(bs,Ba.fieldPath,bs.endAt);Rs.push(Mp.value),wo&&(wo=Mp.inclusive)}return new ao(Rs,wo)}(ee,Y),Kn=this.Ze(Y,ee,en),dr=this.Ze(Y,ee,un),cs=this.tn(Y,ee,Rt),to=this.en(Y.indexId,it,Kn,en.inclusive,dr,un.inclusive,cs);return xt.forEach(to,bs=>o.j(bs,n.limit).next(Uo=>{Uo.forEach(Rs=>{const wo=bn.fromSegments(Rs.documentKey);w.has(wo)||(w=w.add(wo),P.push(wo))})}))}).next(()=>P)}return xt.resolve(null)})}Ye(e){let n=this.Je.get(e);return n||(n=[e],this.Je.set(e,n),n)}en(e,n,o,d,m,w,P){const Y=(null!=n?n.length:1)*Math.max(o.length,m.length),ee=Y/(null!=n?n.length:1),_e=[];for(let it=0;it<Y;++it){const Rt=n?this.nn(n[it/ee]):Wp,en=this.sn(e,Rt,o[it%ee],d),un=this.rn(e,Rt,m[it%ee],w),Kn=P.map(dr=>this.sn(e,Rt,dr,!0));_e.push(...this.createRange(en,un,Kn))}return _e}sn(e,n,o,d){const m=new ha(e,bn.empty(),n,o);return d?m:m.Le()}rn(e,n,o,d){const m=new ha(e,bn.empty(),n,o);return d?m.Le():m}Xe(e,n){const o=new Qy(n),d=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,d).next(m=>{let w=null;for(const P of m)o.Ge(P)&&(!w||P.fields.length>w.fields.length)&&(w=P);return w})}getIndexType(e,n){let o=2;return xt.forEach(this.Ye(n),d=>this.Xe(e,d).next(m=>{m?0!==o&&m.fields.length<function(w){let P=new Fr(us.comparator),Y=!1;for(const ee of w.filters){const _e=ee;_e.field.isKeyField()||("array-contains"===_e.op||"array-contains-any"===_e.op?Y=!0:P=P.add(_e.field))}for(const ee of w.orderBy)ee.field.isKeyField()||(P=P.add(ee.field));return P.size+(Y?1:0)}(d)&&(o=1):o=0})).next(()=>o)}on(e,n){const o=new Na;for(const d of Ca(e)){const m=n.data.field(d.fieldPath);if(null==m)return null;const w=o.Be(d.kind);wc.ye.re(m,w)}return o.Oe()}nn(e){const n=new Na;return wc.ye.re(e,n.Be(0)),n.Oe()}un(e,n){const o=new Na;return wc.ye.re(qi(this.databaseId,n),o.Be(function(d){const m=Ca(d);return 0===m.length?0:m[m.length-1].kind}(e))),o.Oe()}tn(e,n,o){if(null===o)return[];let d=[];d.push(new Na);let m=0;for(const w of Ca(e)){const P=o[m++];for(const Y of d)if(this.cn(n,w.fieldPath)&&za(P))d=this.an(d,w,P);else{const ee=Y.Be(w.kind);wc.ye.re(P,ee)}}return this.hn(d)}Ze(e,n,o){return this.tn(e,n,o.position)}hn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Oe();return n}an(e,n,o){const d=[...e],m=[];for(const w of o.arrayValue.values||[])for(const P of d){const Y=new Na;Y.seed(P.Oe()),wc.ye.re(w,Y.Be(n.kind)),m.push(Y)}return m}cn(e,n){return!!e.filters.find(o=>o instanceof qo&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Vf(e),d=Bh(e);return(n?o.K("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.K()).next(m=>{const w=[];return xt.forEach(m,P=>d.get([P.indexId,this.uid]).next(Y=>{w.push(function(ee,_e){const it=_e?new Cl(_e.sequenceNumber,new yi(Pa(_e.readTime),new bn(hl(_e.documentKey)),_e.largestBatchId)):Cl.empty(),Rt=ee.fields.map(([en,un])=>new Dl(us.fromServerFormat(en),un));return new rl(ee.indexId,ee.collectionGroup,Rt,it)}(P,Y))})).next(()=>w)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,d)=>{const m=o.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==m?m:Or(o.collectionGroup,d.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const d=Vf(e),m=Bh(e);return this.ln(e).next(w=>d.K("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(P=>xt.forEach(P,Y=>m.put(qd(Y.indexId,this.user,w,o)))))}updateIndexEntries(e,n){const o=new Map;return xt.forEach(n,(d,m)=>{const w=o.get(d.collectionGroup);return(w?xt.resolve(w):this.getFieldIndexes(e,d.collectionGroup)).next(P=>(o.set(d.collectionGroup,P),xt.forEach(P,Y=>this.fn(e,d,Y).next(ee=>{const _e=this.dn(m,Y);return ee.isEqual(_e)?xt.resolve():this._n(e,m,Y,ee,_e)}))))})}wn(e,n,o,d){return Lh(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.un(o,n.key),documentKey:n.key.path.toArray()})}mn(e,n,o,d){return Lh(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.un(o,n.key),n.key.path.toArray()])}fn(e,n,o){const d=Lh(e);let m=new Fr(Vu);return d.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,n)])},(w,P)=>{m=m.add(new ha(o.indexId,n,P.arrayValue,P.directionalValue))}).next(()=>m)}dn(e,n){let o=new Fr(Vu);const d=this.on(n,e);if(null==d)return o;const m=wu(n);if(null!=m){const w=e.data.field(m.fieldPath);if(za(w))for(const P of w.arrayValue.values||[])o=o.add(new ha(n.indexId,e.key,this.nn(P),d))}else o=o.add(new ha(n.indexId,e.key,Wp,d));return o}_n(e,n,o,d,m){pn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const w=[];return function(P,Y,ee,_e,it){const Rt=P.getIterator(),en=Y.getIterator();let un=Wo(Rt),Kn=Wo(en);for(;un||Kn;){let dr=!1,cs=!1;if(un&&Kn){const to=ee(un,Kn);to<0?cs=!0:to>0&&(dr=!0)}else null!=un?cs=!0:dr=!0;dr?(_e(Kn),Kn=Wo(en)):cs?(it(un),un=Wo(Rt)):(un=Wo(Rt),Kn=Wo(en))}}(d,m,Vu,P=>{w.push(this.wn(e,n,o,P))},P=>{w.push(this.mn(e,n,o,P))}),xt.waitFor(w)}ln(e){let n=1;return Bh(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,d,m)=>{m.done(),n=d.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((w,P)=>Vu(w,P)).filter((w,P,Y)=>!P||0!==Vu(w,Y[P-1]));const d=[];d.push(e);for(const w of o){const P=Vu(w,e),Y=Vu(w,n);if(0===P)d[0]=e.Le();else if(P>0&&Y<0)d.push(w),d.push(w.Le());else if(Y>0)break}d.push(n);const m=[];for(let w=0;w<d.length;w+=2)m.push(IDBKeyRange.bound([d[w].indexId,this.uid,d[w].arrayValue,d[w].directionalValue,Wp,[]],[d[w+1].indexId,this.uid,d[w+1].arrayValue,d[w+1].directionalValue,Wp,[]]));return m}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Qd)}getMinOffset(e,n){return xt.mapArray(this.Ye(n),o=>this.Xe(e,o).next(d=>d||dn())).next(Qd)}}function $f(i){return uo(i,"collectionParents")}function Lh(i){return uo(i,"indexEntries")}function Vf(i){return uo(i,"indexConfiguration")}function Bh(i){return uo(i,"indexState")}function Qd(i){hr(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const d=i[o].indexState.offset;oa(d,e)<0&&(e=d),n<d.largestBatchId&&(n=d.largestBatchId)}return new yi(e.readTime,e.documentKey,n)}const pl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $o{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new $o(e,$o.DEFAULT_COLLECTION_PERCENTILE,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Kp(i,e,n){const o=i.store("mutations"),d=i.store("documentMutations"),m=[],w=IDBKeyRange.only(n.batchId);let P=0;const Y=o.J({range:w},(_e,it,Rt)=>(P++,Rt.delete()));m.push(Y.next(()=>{hr(1===P)}));const ee=[];for(const _e of n.mutations){const it=Gg(e,_e.key.path,n.batchId);m.push(d.delete(it)),ee.push(_e.key)}return xt.waitFor(m).next(()=>ee)}function Uu(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw dn();e=i.noDocument}return JSON.stringify(e).length}$o.DEFAULT_COLLECTION_PERCENTILE=10,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$o.DEFAULT=new $o(41943040,$o.DEFAULT_COLLECTION_PERCENTILE,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$o.DISABLED=new $o(-1,0,0);class qa{constructor(e,n,o,d){this.userId=e,this.wt=n,this.indexManager=o,this.referenceDelegate=d,this.gn={}}static se(e,n,o,d){hr(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new qa(m,n,o,d)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dd(e).J({index:"userMutationsIndex",range:o},(d,m,w)=>{n=!1,w.done()}).next(()=>n)}addMutationBatch(e,n,o,d){const m=Jd(e),w=dd(e);return w.add({}).next(P=>{hr("number"==typeof P);const Y=new Ff(P,n,o,d),ee=function(Rt,en,un){const Kn=un.baseMutations.map(cs=>yn(Rt.ne,cs)),dr=un.mutations.map(cs=>yn(Rt.ne,cs));return{userId:en,batchId:un.batchId,localWriteTimeMs:un.localWriteTime.toMillis(),baseMutations:Kn,mutations:dr}}(this.wt,this.userId,Y),_e=[];let it=new Fr((Rt,en)=>Or(Rt.canonicalString(),en.canonicalString()));for(const Rt of d){const en=Gg(this.userId,Rt.key.path,P);it=it.add(Rt.key.path.popLast()),_e.push(w.put(ee)),_e.push(m.put(en,Rf))}return it.forEach(Rt=>{_e.push(this.indexManager.addToCollectionParentIndex(e,Rt))}),e.addOnCommittedListener(()=>{this.gn[P]=Y.keys()}),xt.waitFor(_e).next(()=>Y)})}lookupMutationBatch(e,n){return dd(e).get(n).next(o=>o?(hr(o.userId===this.userId),Bu(this.wt,o)):null)}yn(e,n){return this.gn[n]?xt.resolve(this.gn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const d=o.keys();return this.gn[n]=d,d}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,d=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return dd(e).J({index:"userMutationsIndex",range:d},(w,P,Y)=>{P.userId===this.userId&&(hr(P.batchId>=o),m=Bu(this.wt,P)),Y.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return dd(e).J({index:"userMutationsIndex",range:n,reverse:!0},(d,m,w)=>{o=m.batchId,w.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dd(e).K("userMutationsIndex",n).next(o=>o.map(d=>Bu(this.wt,d)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=xf(this.userId,n.path),d=IDBKeyRange.lowerBound(o),m=[];return Jd(e).J({range:d},(w,P,Y)=>{const[ee,_e,it]=w,Rt=hl(_e);if(ee===this.userId&&n.path.isEqual(Rt))return dd(e).get(it).next(en=>{if(!en)throw dn();hr(en.userId===this.userId),m.push(Bu(this.wt,en))});Y.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Fr(Or);const d=[];return n.forEach(m=>{const w=xf(this.userId,m.path),P=IDBKeyRange.lowerBound(w),Y=Jd(e).J({range:P},(ee,_e,it)=>{const[Rt,en,un]=ee,Kn=hl(en);Rt===this.userId&&m.path.isEqual(Kn)?o=o.add(un):it.done()});d.push(Y)}),xt.waitFor(d).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,d=o.length+1,m=xf(this.userId,o),w=IDBKeyRange.lowerBound(m);let P=new Fr(Or);return Jd(e).J({range:w},(Y,ee,_e)=>{const[it,Rt,en]=Y,un=hl(Rt);it===this.userId&&o.isPrefixOf(un)?un.length===d&&(P=P.add(en)):_e.done()}).next(()=>this.pn(e,P))}pn(e,n){const o=[],d=[];return n.forEach(m=>{d.push(dd(e).get(m).next(w=>{if(null===w)throw dn();hr(w.userId===this.userId),o.push(Bu(this.wt,w))}))}),xt.waitFor(d).next(()=>o)}removeMutationBatch(e,n){return Kp(e.ee,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.In(n.batchId)}),xt.forEach(o,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return xt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),d=[];return Jd(e).J({range:o},(m,w,P)=>{if(m[0]===this.userId){const Y=hl(m[1]);d.push(Y)}else P.done()}).next(()=>{hr(0===d.length)})})}containsKey(e,n){return $h(e,this.userId,n)}Tn(e){return eh(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $h(i,e,n){const o=xf(e,n.path),d=o[1],m=IDBKeyRange.lowerBound(o);let w=!1;return Jd(i).J({range:m,H:!0},(P,Y,ee)=>{const[_e,it,Rt]=P;_e===e&&it===d&&(w=!0),ee.done()}).next(()=>w)}function dd(i){return uo(i,"mutations")}function Jd(i){return uo(i,"documentMutations")}function eh(i){return uo(i,"mutationQueues")}class gl{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new gl(0)}static Rn(){return new gl(-1)}}class Uf{constructor(e,n){this.referenceDelegate=e,this.wt=n}allocateTargetId(e){return this.bn(e).next(n=>{const o=new gl(n.highestTargetId);return n.highestTargetId=o.next(),this.Pn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(n=>_r.fromTimestamp(new mi(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.bn(e).next(d=>(d.highestListenSequenceNumber=n,o&&(d.lastRemoteSnapshotVersion=o.toTimestamp()),n>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=n),this.Pn(e,d)))}addTargetData(e,n){return this.vn(e,n).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(n,o),this.Pn(e,o))))}updateTargetData(e,n){return this.vn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Vh(e).delete(n.targetId)).next(()=>this.bn(e)).next(o=>(hr(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,n,o){let d=0;const m=[];return Vh(e).J((w,P)=>{const Y=ud(P);Y.sequenceNumber<=n&&null===o.get(Y.targetId)&&(d++,m.push(this.removeTargetData(e,Y)))}).next(()=>xt.waitFor(m)).next(()=>d)}forEachTarget(e,n){return Vh(e).J((o,d)=>{const m=ud(d);n(m)})}bn(e){return Za(e).get("targetGlobalKey").next(n=>(hr(null!==n),n))}Pn(e,n){return Za(e).put("targetGlobalKey",n)}vn(e,n){return Vh(e).put(Bp(this.wt,n))}Vn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=Yo(n),d=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return Vh(e).J({range:d,index:"queryTargetsIndex"},(w,P,Y)=>{const ee=ud(P);qc(n,ee.target)&&(m=ee,Y.done())}).next(()=>m)}addMatchingKeys(e,n,o){const d=[],m=ju(e);return n.forEach(w=>{const P=da(w.path);d.push(m.put({targetId:o,path:P})),d.push(this.referenceDelegate.addReference(e,o,w))}),xt.waitFor(d)}removeMatchingKeys(e,n,o){const d=ju(e);return xt.forEach(n,m=>{const w=da(m.path);return xt.waitFor([d.delete([o,w]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,n){const o=ju(e),d=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(d)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),d=ju(e);let m=Tr();return d.J({range:o,H:!0},(w,P,Y)=>{const ee=hl(w[1]),_e=new bn(ee);m=m.add(_e)}).next(()=>m)}containsKey(e,n){const o=da(n.path),d=IDBKeyRange.bound([o],[zo(o)],!1,!0);let m=0;return ju(e).J({index:"documentTargetsIndex",H:!0,range:d},([w,P],Y,ee)=>{0!==w&&(m++,ee.done())}).next(()=>m>0)}te(e,n){return Vh(e).get(n).next(o=>o?ud(o):null)}}function Vh(i){return uo(i,"targets")}function Za(i){return uo(i,"targetGlobal")}function ju(i){return uo(i,"targetDocuments")}function Zg([i,e],[n,o]){const d=Or(i,n);return 0===d?Or(e,o):d}class jf{constructor(e){this.Sn=e,this.buffer=new Fr(Zg),this.Dn=0}Cn(){return++this.Dn}xn(e){const n=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Zg(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Xg{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var n=this;pn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){n.Nn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){R(o)?pn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ta(o)}yield n.kn(3e5)}))}}class ml{constructor(e,n){this.On=e,this.params=n}calculateTargetCount(e,n){return this.On.Mn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return xt.resolve(Ln.ot);const o=new jf(n);return this.On.forEachTarget(e,d=>o.xn(d.sequenceNumber)).next(()=>this.On.Fn(e,d=>o.xn(d))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.On.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.On.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(pn("LruGarbageCollector","Garbage collection skipped; disabled"),xt.resolve(pl)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(pn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pl):this.$n(e,n))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,n){let o,d,m,w,P,Y,ee;const _e=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(it=>(it>this.params.maximumSequenceNumbersToCollect?(pn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${it}`),d=this.params.maximumSequenceNumbersToCollect):d=it,w=Date.now(),this.nthSequenceNumber(e,d))).next(it=>(o=it,P=Date.now(),this.removeTargets(e,o,n))).next(it=>(m=it,Y=Date.now(),this.removeOrphanedDocuments(e,o))).next(it=>(ee=Date.now(),Iu()<=Ce.in.DEBUG&&pn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-_e}ms\n\tDetermined least recently used ${d} in `+(P-w)+`ms\n\tRemoved ${m} targets in `+(Y-P)+`ms\n\tRemoved ${it} documents in `+(ee-Y)+`ms\nTotal Duration: ${ee-_e}ms`),xt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:m,documentsRemoved:it})))}}class Uh{constructor(e,n){this.db=e,this.garbageCollector=new ml(this,n)}Mn(e){const n=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(d=>o+d))}Bn(e){let n=0;return this.Fn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Fn(e,n){return this.Ln(e,(o,d)=>n(d))}addReference(e,n,o){return Hf(e,o)}removeReference(e,n,o){return Hf(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Hf(e,n)}Un(e,n){return function(o,d){let m=!1;return eh(o).Y(w=>$h(o,w,d).next(P=>(P&&(m=!0),xt.resolve(!P)))).next(()=>m)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let m=0;return this.Ln(e,(w,P)=>{if(P<=n){const Y=this.Un(e,w).next(ee=>{if(!ee)return m++,o.getEntry(e,w).next(()=>(o.removeEntry(w,_r.min()),ju(e).delete([0,da(w.path)])))});d.push(Y)}}).next(()=>xt.waitFor(d)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Hf(e,n)}Ln(e,n){const o=ju(e);let d,m=Ln.ot;return o.J({index:"documentTargetsIndex"},([w,P],{path:Y,sequenceNumber:ee})=>{0===w?(m!==Ln.ot&&n(new bn(hl(d)),m),m=ee,d=Y):m=Ln.ot}).next(()=>{m!==Ln.ot&&n(new bn(hl(d)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hf(i,e){return ju(i).put((o=i.currentSequenceNumber,{targetId:0,path:da(e.path),sequenceNumber:o}));var o}class jh{constructor(){this.changes=new Xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_i.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?xt.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qm{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Pl(e).put(o)}removeEntry(e,n,o){return Pl(e).delete(function(d,m){const w=d.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],Ic(m),w[w.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.qn(e,o)))}getEntry(e,n){let o=_i.newInvalidDocument(n);return Pl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hd(n))},(d,m)=>{o=this.Kn(n,m)}).next(()=>o)}Gn(e,n){let o={size:0,document:_i.newInvalidDocument(n)};return Pl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hd(n))},(d,m)=>{o={document:this.Kn(n,m),size:Uu(m)}}).next(()=>o)}getEntries(e,n){let o=zs();return this.Qn(e,n,(d,m)=>{const w=this.Kn(d,m);o=o.insert(d,w)}).next(()=>o)}jn(e,n){let o=zs(),d=new kr(bn.comparator);return this.Qn(e,n,(m,w)=>{const P=this.Kn(m,w);o=o.insert(m,P),d=d.insert(m,Uu(w))}).next(()=>({documents:o,Wn:d}))}Qn(e,n,o){if(n.isEmpty())return xt.resolve();let d=new Fr(Qg);n.forEach(Y=>d=d.add(Y));const m=IDBKeyRange.bound(hd(d.first()),hd(d.last())),w=d.getIterator();let P=w.getNext();return Pl(e).J({index:"documentKeyIndex",range:m},(Y,ee,_e)=>{const it=bn.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;P&&Qg(P,it)<0;)o(P,null),P=w.getNext();P&&P.isEqual(it)&&(o(P,ee),P=w.hasNext()?w.getNext():null),P?_e.q(hd(P)):_e.done()}).next(()=>{for(;P;)o(P,null),P=w.hasNext()?w.getNext():null})}getAllFromCollection(e,n,o){const d=[n.popLast().toArray(),n.lastSegment(),Ic(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],m=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pl(e).K(IDBKeyRange.bound(d,m,!0)).next(w=>{let P=zs();for(const Y of w){const ee=this.Kn(bn.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);P=P.insert(ee.key,ee)}return P})}getAllFromCollectionGroup(e,n,o,d){let m=zs();const w=qp(n,o),P=qp(n,yi.max());return Pl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(w,P,!0)},(Y,ee,_e)=>{const it=this.Kn(bn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);m=m.insert(it.key,it),m.size===d&&_e.done()}).next(()=>m)}newChangeBuffer(e){return new Jm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Yp(e).get("remoteDocumentGlobalKey").next(n=>(hr(!!n),n))}qn(e,n){return Yp(e).put("remoteDocumentGlobalKey",n)}Kn(e,n){if(n){const o=function Lp(i,e){let n;if(e.document)n=he(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=bn.fromSegments(e.noDocument.path),d=Pa(e.noDocument.readTime);n=_i.newNoDocument(o,d),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return dn();{const o=bn.fromSegments(e.unknownDocument.path),d=Pa(e.unknownDocument.version);n=_i.newUnknownDocument(o,d)}}return e.readTime&&n.setReadTime(function(o){const d=new mi(o[0],o[1]);return _r.fromTimestamp(d)}(e.readTime)),n}(this.wt,n);if(!o.isNoDocument()||!o.version.isEqual(_r.min()))return o}return _i.newInvalidDocument(e)}}function Io(i){return new Qm(i)}class Jm extends jh{constructor(e,n){super(),this.zn=e,this.trackRemovals=n,this.Hn=new Xo(o=>o.toString(),(o,d)=>o.isEqual(d))}applyChanges(e){const n=[];let o=0,d=new Fr((m,w)=>Or(m.canonicalString(),w.canonicalString()));return this.changes.forEach((m,w)=>{const P=this.Hn.get(m);if(n.push(this.zn.removeEntry(e,m,P.readTime)),w.isValidDocument()){const Y=Lf(this.zn.wt,w);d=d.add(m.path.popLast());const ee=Uu(Y);o+=ee-P.size,n.push(this.zn.addEntry(e,m,Y))}else if(o-=P.size,this.trackRemovals){const Y=Lf(this.zn.wt,w.convertToNoDocument(_r.min()));n.push(this.zn.addEntry(e,m,Y))}}),d.forEach(m=>{n.push(this.zn.indexManager.addToCollectionParentIndex(e,m))}),n.push(this.zn.updateMetadata(e,o)),xt.waitFor(n)}getFromCache(e,n){return this.zn.Gn(e,n).next(o=>(this.Hn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.zn.jn(e,n).next(({documents:o,Wn:d})=>(d.forEach((m,w)=>{this.Hn.set(m,{size:w,readTime:o.get(m).readTime})}),o))}}function Yp(i){return uo(i,"remoteDocumentGlobal")}function Pl(i){return uo(i,"remoteDocumentsV14")}function hd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qp(i,e){const n=e.documentKey.path.toArray();return[i,Ic(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Qg(i,e){const n=i.path.toArray(),o=e.path.toArray();let d=0;for(let m=0;m<n.length-2&&m<o.length-2;++m)if(d=Or(n[m],o[m]),d)return d;return d=Or(n.length,o.length),d||(d=Or(n[n.length-2],o[o.length-2]),d||Or(n[n.length-1],o[o.length-1]))}class Zp{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Hh{constructor(e,n,o,d){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=d}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(d=>(o=d,this.getBaseDocument(e,n,o))).next(d=>(null!==o&&cu(o.mutation,d,Xs.empty(),mi.now()),d))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Tr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Tr()){const d=ca();return this.populateOverlays(e,d,n).next(()=>this.computeViews(e,n,d,o).next(m=>{let w=Kl();return m.forEach((P,Y)=>{w=w.insert(P,Y.overlayedDocument)}),w}))}getOverlayedDocuments(e,n){const o=ca();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Tr()))}populateOverlays(e,n,o){const d=[];return o.forEach(m=>{n.has(m)||d.push(m)}),this.documentOverlayCache.getOverlays(e,d).next(m=>{m.forEach((w,P)=>{n.set(w,P)})})}computeViews(e,n,o,d){let m=zs();const w=uc(),P=uc();return n.forEach((Y,ee)=>{const _e=o.get(ee.key);d.has(ee.key)&&(void 0===_e||_e.mutation instanceof Ea)?m=m.insert(ee.key,ee):void 0!==_e&&(w.set(ee.key,_e.mutation.getFieldMask()),cu(_e.mutation,ee,_e.mutation.getFieldMask(),mi.now()))}),this.recalculateAndSaveOverlays(e,m).next(Y=>(Y.forEach((ee,_e)=>w.set(ee,_e)),n.forEach((ee,_e)=>{var it;return P.set(ee,new Zp(_e,null!==(it=w.get(ee))&&void 0!==it?it:null))}),P))}recalculateAndSaveOverlays(e,n){const o=uc();let d=new kr((w,P)=>w-P),m=Tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(w=>{for(const P of w)P.keys().forEach(Y=>{const ee=n.get(Y);if(null===ee)return;let _e=o.get(Y)||Xs.empty();_e=P.applyToLocalView(ee,_e),o.set(Y,_e);const it=(d.get(P.batchId)||Tr()).add(Y);d=d.insert(P.batchId,it)})}).next(()=>{const w=[],P=d.getReverseIterator();for(;P.hasNext();){const Y=P.getNext(),ee=Y.key,_e=Y.value,it=hu();_e.forEach(Rt=>{if(!m.has(Rt)){const en=td(n.get(Rt),o.get(Rt));null!==en&&it.set(Rt,en),m=m.add(Rt)}}),w.push(this.documentOverlayCache.saveOverlays(e,ee,it))}return xt.waitFor(w)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return bn.isDocumentKey((d=n).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Vl(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var d}getNextDocuments(e,n,o,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,d).next(m=>{const w=d-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,d-m.size):xt.resolve(ca());let P=-1,Y=m;return w.next(ee=>xt.forEach(ee,(_e,it)=>(P<it.largestBatchId&&(P=it.largestBatchId),m.get(_e)?xt.resolve():this.getBaseDocument(e,_e,it).next(Rt=>{Y=Y.insert(_e,Rt)}))).next(()=>this.populateOverlays(e,ee,m)).next(()=>this.computeViews(e,Y,ee,Tr())).next(_e=>({batchId:P,changes:ua(_e)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new bn(n)).next(o=>{let d=Kl();return o.isFoundDocument()&&(d=d.insert(o.key,o)),d})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const d=n.collectionGroup;let m=Kl();return this.indexManager.getCollectionParents(e,d).next(w=>xt.forEach(w,P=>{const Y=(ee=n,_e=P.child(d),new Ma(_e,null,ee.explicitOrderBy.slice(),ee.filters.slice(),ee.limit,ee.limitType,ee.startAt,ee.endAt));var ee,_e;return this.getDocumentsMatchingCollectionQuery(e,Y,o).next(ee=>{ee.forEach((_e,it)=>{m=m.insert(_e,it)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,n,o){let d;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(m=>(d=m,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(m=>{m.forEach((P,Y)=>{const ee=Y.getKey();null===d.get(ee)&&(d=d.insert(ee,_i.newInvalidDocument(ee)))});let w=Kl();return d.forEach((P,Y)=>{const ee=m.get(P);void 0!==ee&&cu(ee.mutation,Y,Xs.empty(),mi.now()),Nd(n,Y)&&(w=w.insert(P,Y))}),w})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):xt.resolve(_i.newInvalidDocument(n))}}class Jg{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return xt.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var o;return this.Jn.set(n.id,{id:(o=n).id,version:o.version,createTime:Js(o.createTime)}),xt.resolve()}getNamedQuery(e,n){return xt.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,{name:(o=n).name,query:$p(o.bundledQuery),readTime:Js(o.readTime)}),xt.resolve();var o}}class em{constructor(){this.overlays=new kr(bn.comparator),this.Xn=new Map}getOverlay(e,n){return xt.resolve(this.overlays.get(n))}getOverlays(e,n){const o=ca();return xt.forEach(n,d=>this.getOverlay(e,d).next(m=>{null!==m&&o.set(d,m)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((d,m)=>{this.ie(e,n,m)}),xt.resolve()}removeOverlaysForBatchId(e,n,o){const d=this.Xn.get(o);return void 0!==d&&(d.forEach(m=>this.overlays=this.overlays.remove(m)),this.Xn.delete(o)),xt.resolve()}getOverlaysForCollection(e,n,o){const d=ca(),m=n.length+1,w=new bn(n.child("")),P=this.overlays.getIteratorFrom(w);for(;P.hasNext();){const Y=P.getNext().value,ee=Y.getKey();if(!n.isPrefixOf(ee.path))break;ee.path.length===m&&Y.largestBatchId>o&&d.set(Y.getKey(),Y)}return xt.resolve(d)}getOverlaysForCollectionGroup(e,n,o,d){let m=new kr((ee,_e)=>ee-_e);const w=this.overlays.getIterator();for(;w.hasNext();){const ee=w.getNext().value;if(ee.getKey().getCollectionGroup()===n&&ee.largestBatchId>o){let _e=m.get(ee.largestBatchId);null===_e&&(_e=ca(),m=m.insert(ee.largestBatchId,_e)),_e.set(ee.getKey(),ee)}}const P=ca(),Y=m.getIterator();for(;Y.hasNext()&&(Y.getNext().value.forEach((ee,_e)=>P.set(ee,_e)),!(P.size()>=d)););return xt.resolve(P)}ie(e,n,o){const d=this.overlays.get(o.key);if(null!==d){const w=this.Xn.get(d.largestBatchId).delete(o.key);this.Xn.set(d.largestBatchId,w)}this.overlays=this.overlays.insert(o.key,new Yd(n,o));let m=this.Xn.get(n);void 0===m&&(m=Tr(),this.Xn.set(n,m)),this.Xn.set(n,m.add(o.key))}}class tm{constructor(){this.Zn=new Fr(co.ts),this.es=new Fr(co.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const o=new co(e,n);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.rs(new co(e,n))}os(e,n){e.forEach(o=>this.removeReference(o,n))}us(e){const n=new bn(new Ur([])),o=new co(n,e),d=new co(n,e+1),m=[];return this.es.forEachInRange([o,d],w=>{this.rs(w),m.push(w.key)}),m}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new bn(new Ur([])),o=new co(n,e),d=new co(n,e+1);let m=Tr();return this.es.forEachInRange([o,d],w=>{m=m.add(w.key)}),m}containsKey(e){const n=new co(e,0),o=this.Zn.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class co{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return bn.comparator(e.key,n.key)||Or(e.ls,n.ls)}static ns(e,n){return Or(e.ls,n.ls)||bn.comparator(e.key,n.key)}}class Xi{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Fr(co.ts)}checkEmpty(e){return xt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,d){const m=this.fs;this.fs++;const w=new Ff(m,n,o,d);this.mutationQueue.push(w);for(const P of d)this.ds=this.ds.add(new co(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return xt.resolve(w)}lookupMutationBatch(e,n){return xt.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const d=this.ws(n+1),m=d<0?0:d;return xt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return xt.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return xt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new co(n,0),d=new co(n,Number.POSITIVE_INFINITY),m=[];return this.ds.forEachInRange([o,d],w=>{const P=this._s(w.ls);m.push(P)}),xt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Fr(Or);return n.forEach(d=>{const m=new co(d,0),w=new co(d,Number.POSITIVE_INFINITY);this.ds.forEachInRange([m,w],P=>{o=o.add(P.ls)})}),xt.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,d=o.length+1;let m=o;bn.isDocumentKey(m)||(m=m.child(""));const w=new co(new bn(m),0);let P=new Fr(Or);return this.ds.forEachWhile(Y=>{const ee=Y.key.path;return!!o.isPrefixOf(ee)&&(ee.length===d&&(P=P.add(Y.ls)),!0)},w),xt.resolve(this.gs(P))}gs(e){const n=[];return e.forEach(o=>{const d=this._s(o);null!==d&&n.push(d)}),n}removeMutationBatch(e,n){hr(0===this.ys(n.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return xt.forEach(n.mutations,d=>{const m=new co(d.key,n.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,n){const o=new co(n,0),d=this.ds.firstAfterOrEqual(o);return xt.resolve(n.isEqual(d&&d.key))}performConsistencyCheck(e){return xt.resolve()}ys(e,n){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class th{constructor(e){this.ps=e,this.docs=new kr(bn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,d=this.docs.get(o),m=d?d.size:0,w=this.ps(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:w}),this.size+=w-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return xt.resolve(o?o.document.mutableCopy():_i.newInvalidDocument(n))}getEntries(e,n){let o=zs();return n.forEach(d=>{const m=this.docs.get(d);o=o.insert(d,m?m.document.mutableCopy():_i.newInvalidDocument(d))}),xt.resolve(o)}getAllFromCollection(e,n,o){let d=zs();const m=new bn(n.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:P,value:{document:Y}}=w.getNext();if(!n.isPrefixOf(P.path))break;P.path.length>n.length+1||oa(ec(Y),o)<=0||(d=d.insert(Y.key,Y.mutableCopy()))}return xt.resolve(d)}getAllFromCollectionGroup(e,n,o,d){dn()}Is(e,n){return xt.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new nm(this)}getSize(e){return xt.resolve(this.size)}}class nm extends jh{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((o,d)=>{d.isValidDocument()?n.push(this.zn.addEntry(e,d)):this.zn.removeEntry(o)}),xt.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}class rm{constructor(e){this.persistence=e,this.Ts=new Xo(n=>Yo(n),qc),this.lastRemoteSnapshotVersion=_r.min(),this.highestTargetId=0,this.Es=0,this.As=new tm,this.targetCount=0,this.Rs=gl.An()}forEachTarget(e,n){return this.Ts.forEach((o,d)=>n(d)),xt.resolve()}getLastRemoteSnapshotVersion(e){return xt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xt.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),xt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Es&&(this.Es=n),xt.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,xt.resolve()}updateTargetData(e,n){return this.vn(n),xt.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,xt.resolve()}removeTargets(e,n,o){let d=0;const m=[];return this.Ts.forEach((w,P)=>{P.sequenceNumber<=n&&null===o.get(P.targetId)&&(this.Ts.delete(w),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),d++)}),xt.waitFor(m).next(()=>d)}getTargetCount(e){return xt.resolve(this.targetCount)}getTargetData(e,n){const o=this.Ts.get(n)||null;return xt.resolve(o)}addMatchingKeys(e,n,o){return this.As.ss(n,o),xt.resolve()}removeMatchingKeys(e,n,o){this.As.os(n,o);const d=this.persistence.referenceDelegate,m=[];return d&&n.forEach(w=>{m.push(d.markPotentiallyOrphaned(e,w))}),xt.waitFor(m)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),xt.resolve()}getMatchingKeysForTargetId(e,n){const o=this.As.hs(n);return xt.resolve(o)}containsKey(e,n){return xt.resolve(this.As.containsKey(n))}}class Xp{constructor(e,n){this.bs={},this.overlays={},this.Ps=new Ln(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new rm(this),this.indexManager=new Gp,this.remoteDocumentCache=new th(o=>this.referenceDelegate.Ss(o)),this.wt=new ld(n),this.Ds=new Jg(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new em,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.bs[e.toKey()];return o||(o=new Xi(n,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,o){pn("MemoryPersistence","Starting transaction:",e);const d=new Gh(this.Ps.next());return this.referenceDelegate.Cs(),o(d).next(m=>this.referenceDelegate.xs(d).next(()=>m)).toPromise().then(m=>(d.raiseOnCommittedEvent(),m))}Ns(e,n){return xt.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,n)))}}class Gh extends tc{constructor(e){super(),this.currentSequenceNumber=e}}class zh{constructor(e){this.persistence=e,this.ks=new tm,this.Os=null}static Ms(e){return new zh(e)}get Fs(){if(this.Os)return this.Os;throw dn()}addReference(e,n,o){return this.ks.addReference(o,n),this.Fs.delete(o.toString()),xt.resolve()}removeReference(e,n,o){return this.ks.removeReference(o,n),this.Fs.add(o.toString()),xt.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),xt.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(d=>this.Fs.add(d.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(d=>{d.forEach(m=>this.Fs.add(m.toString()))}).next(()=>o.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xt.forEach(this.Fs,o=>{const d=bn.fromPath(o);return this.$s(e,d).next(m=>{m||n.removeEntry(d,_r.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(o=>{o?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return xt.or([()=>xt.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}class im{constructor(e){this.wt=e}O(e,n,o,d){const m=new Ga("createOrUpgrade",n);var P;o<1&&d>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zd,{unique:!0}),P.createObjectStore("documentMutations"),Hu(e),function(P){P.createObjectStore("remoteDocuments")}(e));let w=xt.resolve();return o<3&&d>=3&&(0!==o&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),Hu(e)),w=w.next(()=>function(P){const Y=P.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_r.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",ee)}(m))),o<4&&d>=4&&(0!==o&&(w=w.next(()=>function(P,Y){return Y.store("mutations").K().next(ee=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zd,{unique:!0});const _e=Y.store("mutations"),it=ee.map(Rt=>_e.put(Rt));return xt.waitFor(it)})}(e,m))),w=w.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&d>=5&&(w=w.next(()=>this.Bs(m))),o<6&&d>=6&&(w=w.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(m)))),o<7&&d>=7&&(w=w.next(()=>this.Us(m))),o<8&&d>=8&&(w=w.next(()=>this.qs(e,m))),o<9&&d>=9&&(w=w.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&d>=10&&(w=w.next(()=>this.Ks(m))),o<11&&d>=11&&(w=w.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&d>=12&&(w=w.next(()=>{!function(P){const Y=P.createObjectStore("documentOverlays",{keyPath:Fp});Y.createIndex("collectionPathOverlayIndex",Lu,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",vc,{unique:!1})}(e)})),o<13&&d>=13&&(w=w.next(()=>function(P){const Y=P.createObjectStore("remoteDocumentsV14",{keyPath:ku});Y.createIndex("documentKeyIndex",yc),Y.createIndex("collectionGroupIndex",Pp)}(e)).next(()=>this.Gs(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&d>=14&&(w=w.next(()=>this.Qs(e,m))),o<15&&d>=15&&(w=w.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:Zm}).createIndex("sequenceNumberIndex",zg,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:kp}).createIndex("documentKeyIndex",Nf,{unique:!1})}(e))),w}Ls(e){let n=0;return e.store("remoteDocuments").J((o,d)=>{n+=Uu(d)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.K().next(d=>xt.forEach(d,m=>{const w=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",w).next(P=>xt.forEach(P,Y=>{hr(Y.userId===m.userId);const ee=Bu(this.wt,Y);return Kp(e,m.userId,ee).next(()=>{})}))}))}Us(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const m=[];return o.J((w,P)=>{const Y=new Ur(w),ee=[0,da(Y)];m.push(n.get(ee).next(_e=>_e?xt.resolve():n.put({targetId:0,path:da(Y),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>xt.waitFor(m))})}qs(e,n){e.createObjectStore("collectionParents",{keyPath:Pf});const o=n.store("collectionParents"),d=new zp,m=w=>{if(d.add(w)){const P=w.lastSegment(),Y=w.popLast();return o.put({collectionId:P,parent:da(Y)})}};return n.store("remoteDocuments").J({H:!0},(w,P)=>{const Y=new Ur(w);return m(Y.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([w,P,Y],ee)=>{const _e=hl(P);return m(_e.popLast())}))}Ks(e){const n=e.store("targets");return n.J((o,d)=>{const m=ud(d),w=Bp(this.wt,m);return n.put(w)})}Gs(e,n){const o=n.store("remoteDocuments"),d=[];return o.J((m,w)=>{const P=n.store("remoteDocumentsV14"),Y=(ee=w,ee.document?new bn(Ur.fromString(ee.document.name).popFirst(5)):ee.noDocument?bn.fromSegments(ee.noDocument.path):ee.unknownDocument?bn.fromSegments(ee.unknownDocument.path):dn()).path.toArray();var ee;const _e={prefixPath:Y.slice(0,Y.length-2),collectionGroup:Y[Y.length-2],documentId:Y[Y.length-1],readTime:w.readTime||[0,0],unknownDocument:w.unknownDocument,noDocument:w.noDocument,document:w.document,hasCommittedMutations:!!w.hasCommittedMutations};d.push(P.put(_e))}).next(()=>xt.waitFor(d))}Qs(e,n){const o=n.store("mutations"),d=Io(this.wt),m=new Xp(zh.Ms,this.wt.ne);return o.K().next(w=>{const P=new Map;return w.forEach(Y=>{var ee;let _e=null!==(ee=P.get(Y.userId))&&void 0!==ee?ee:Tr();Bu(this.wt,Y).keys().forEach(it=>_e=_e.add(it)),P.set(Y.userId,_e)}),xt.forEach(P,(Y,ee)=>{const _e=new Ci(ee),it=Fh.se(this.wt,_e),Rt=m.getIndexManager(_e),en=qa.se(_e,this.wt,Rt,m.referenceDelegate);return new Hh(d,en,it,Rt).recalculateAndSaveOverlaysForDocumentKeys(new Kd(n,Ln.ot),Y).next()})})}}function Hu(i){i.createObjectStore("targetDocuments",{keyPath:Of}).createIndex("documentTargetsIndex",Np,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fu,{unique:!0}),i.createObjectStore("targetGlobal")}const Nl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sm{constructor(e,n,o,d,m,w,P,Y,ee,_e,it=14){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.js=m,this.window=w,this.document=P,this.Ws=ee,this.zs=_e,this.Hs=it,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Rt=>Promise.resolve(),!sm.V())throw new tn(Ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uh(this,d),this.ei=n+"main",this.wt=new ld(Y),this.ni=new S(this.ei,this.Hs,new im(this.wt)),this.Vs=new Uf(this.referenceDelegate,this.wt),this.remoteDocumentCache=Io(this.wt),this.Ds=new Bf,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===_e&&gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tn(Ot.FAILED_PRECONDITION,Nl);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ln(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var n=this;return this.ti=function(){var o=(0,ye.Z)(function*(d){if(n.started)return e(d)});return function(d){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var n=(0,ye.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,ye.Z)(function*(){n.started&&(yield n.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(n=>{n||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(n=>this.isPrimary&&!n?this.li(e).next(()=>!1):!!n&&this.fi(e).next(()=>!0))).catch(e=>{if(R(e))return pn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Gu(e).get("owner").next(n=>xt.resolve(this.di(n)))}_i(e){return fd(e).delete(this.clientId)}wi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const d=uo(o,"clientMetadata");return d.K().next(m=>{const w=e.gi(m,18e5),P=m.filter(Y=>-1===w.indexOf(Y));return xt.forEach(P,Y=>d.delete(Y.clientId)).next(()=>P)})}).catch(()=>[]);if(e.si)for(const o of n)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?xt.resolve(!0):Gu(e).get("owner").next(n=>{if(null!==n&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)){if(this.di(n)&&this.networkEnabled)return!0;if(!this.di(n)){if(!n.allowTabSynchronization)throw new tn(Ot.FAILED_PRECONDITION,Nl);return!1}}return!(!this.networkEnabled||!this.inForeground)||fd(e).K().next(o=>void 0===this.gi(o,5e3).find(d=>!(this.clientId===d.clientId||!(!this.networkEnabled&&d.networkEnabled||!this.inForeground&&d.inForeground&&this.networkEnabled===d.networkEnabled))))}).next(n=>(this.isPrimary!==n&&pn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Kd(n,Ln.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,n){return e.filter(o=>this.mi(o.updateTimeMs,n)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>fd(e).K().next(n=>this.gi(n,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,n){return qa.se(e,this.wt,n,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Xd(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Fh.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,n,o){pn("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===n?"readonly":"readwrite",m=15===(w=this.Hs)?Kg:14===w?_c:13===w?kf:12===w?Wg:11===w?Wd:void dn();var w;let P;return this.ni.runTransaction(e,d,m,Y=>(P=new Kd(Y,this.Ps?this.Ps.next():Ln.ot),"readwrite-primary"===n?this.ai(P).next(ee=>!!ee||this.hi(P)).next(ee=>{if(!ee)throw gi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new tn(Ot.FAILED_PRECONDITION,Fi);return o(P)}).next(ee=>this.fi(P).next(()=>ee)):this.bi(P).next(()=>o(P)))).then(Y=>(P.raiseOnCommittedEvent(),Y))}bi(e){return Gu(e).get("owner").next(n=>{if(null!==n&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)&&!this.di(n)&&!(this.zs||this.allowTabSynchronization&&n.allowTabSynchronization))throw new tn(Ot.FAILED_PRECONDITION,Nl)})}fi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gu(e).put("owner",n)}static V(){return S.V()}li(e){const n=Gu(e);return n.get("owner").next(o=>this.di(o)?(pn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):xt.resolve())}mi(e,n){const o=Date.now();return!(e<o-n||e>o&&(gi(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Ke.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var n;try{const o=null!==(null===(n=this.si)||void 0===n?void 0:n.getItem(this.yi(e)));return pn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return gi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){gi("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gu(i){return uo(i,"owner")}function fd(i){return uo(i,"clientMetadata")}function Wh(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class zu{constructor(e,n,o,d){this.targetId=e,this.fromCache=n,this.Pi=o,this.vi=d}static Vi(e,n){let o=Tr(),d=Tr();for(const m of n.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:d=d.add(m.doc.key)}return new zu(e,n.fromCache,o,d)}}class Qp{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,o,d){return this.Ci(e,n).next(m=>m||this.xi(e,n,d,o)).next(m=>m||this.Ni(e,n))}Ci(e,n){return xt.resolve(null)}xi(e,n,o,d){return function Mh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(n)||d.isEqual(_r.min())?this.Ni(e,n):this.Di.getDocuments(e,o).next(m=>{const w=this.ki(n,m);return this.Oi(n,w,o,d)?this.Ni(e,n):(Iu()<=Ce.in.DEBUG&&pn("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),xl(n)),this.Mi(e,w,n,Ju(d,-1)))})}ki(e,n){let o=new Fr(sc(e));return n.forEach((d,m)=>{Nd(e,m)&&(o=o.add(m))}),o}Oi(e,n,o,d){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const m="F"===e.limitType?n.last():n.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(d)>0)}Ni(e,n){return Iu()<=Ce.in.DEBUG&&pn("QueryEngine","Using full collection scan to execute query:",xl(n)),this.Di.getDocumentsMatchingQuery(e,n,yi.min())}Mi(e,n,o,d){return this.Di.getDocumentsMatchingQuery(e,o,d).next(m=>(n.forEach(w=>{m=m.insert(w.key,w)}),m))}}class bc{constructor(e,n,o,d){this.persistence=e,this.Fi=n,this.wt=d,this.$i=new kr(Or),this.Bi=new Xo(m=>Yo(m),qc),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hh(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function Jp(i,e,n,o){return new bc(i,e,n,o)}function Kh(i,e){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,ye.Z)(function*(i,e){const n=mn(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let d;return n.mutationQueue.getAllMutationBatches(o).next(m=>(d=m,n.qi(e),n.mutationQueue.getAllMutationBatches(o))).next(m=>{const w=[],P=[];let Y=Tr();for(const ee of d){w.push(ee.batchId);for(const _e of ee.mutations)Y=Y.add(_e.key)}for(const ee of m){P.push(ee.batchId);for(const _e of ee.mutations)Y=Y.add(_e.key)}return n.localDocuments.getDocuments(o,Y).next(ee=>({Ki:ee,removedBatchIds:w,addedBatchIds:P}))})})}),Wu.apply(this,arguments)}function nh(i){const e=mn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function Dc(i,e,n){let o=Tr(),d=Tr();return n.forEach(m=>o=o.add(m)),e.getEntries(i,o).next(m=>{let w=zs();return n.forEach((P,Y)=>{const ee=m.get(P);Y.isFoundDocument()!==ee.isFoundDocument()&&(d=d.add(P)),Y.isNoDocument()&&Y.version.isEqual(_r.min())?(e.removeEntry(P,Y.readTime),w=w.insert(P,Y)):!ee.isValidDocument()||Y.version.compareTo(ee.version)>0||0===Y.version.compareTo(ee.version)&&ee.hasPendingWrites?(e.addEntry(Y),w=w.insert(P,Y)):pn("LocalStore","Ignoring outdated watch update for ",P,". Current version:",ee.version," Watch version:",Y.version)}),{Gi:w,Qi:d}})}function Yh(i,e){const n=mn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Cc(i,e){const n=mn(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let d;return n.Vs.getTargetData(o,e).next(m=>m?(d=m,xt.resolve(d)):n.Vs.allocateTargetId(o).next(w=>(d=new Ec(e,w,0,o.currentSequenceNumber),n.Vs.addTargetData(o,d).next(()=>d))))}).then(o=>{const d=n.$i.get(o.targetId);return(null===d||o.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(n.$i=n.$i.insert(o.targetId,o),n.Bi.set(e,o.targetId)),o})}function pd(i,e,n){return zf.apply(this,arguments)}function zf(){return zf=(0,ye.Z)(function*(i,e,n){const o=mn(i),d=o.$i.get(e),m=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",m,w=>o.persistence.referenceDelegate.removeTarget(w,d)))}catch(w){if(!R(w))throw w;pn("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}o.$i=o.$i.remove(e),o.Bi.delete(d.target)}),zf.apply(this,arguments)}function rh(i,e,n){const o=mn(i);let d=_r.min(),m=Tr();return o.persistence.runTransaction("Execute query","readonly",w=>function(P,Y,ee){const _e=mn(P),it=_e.Bi.get(ee);return void 0!==it?xt.resolve(_e.$i.get(it)):_e.Vs.getTargetData(Y,ee)}(o,w,xa(e)).next(P=>{if(P)return d=P.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(w,P.targetId).next(Y=>{m=Y})}).next(()=>o.Fi.getDocumentsMatchingQuery(w,e,n?d:_r.min(),n?m:Tr())).next(P=>(qh(o,Jc(e),P),{documents:P,ji:m})))}function Tc(i,e){const n=mn(i),o=mn(n.Vs),d=n.$i.get(e);return d?Promise.resolve(d.target):n.persistence.runTransaction("Get target data","readonly",m=>o.te(m,e).next(w=>w?w.target:null))}function ka(i,e){const n=mn(i),o=n.Li.get(e)||_r.min();return n.persistence.runTransaction("Get new document changes","readonly",d=>n.Ui.getAllFromCollectionGroup(d,e,Ju(o,-1),Number.MAX_SAFE_INTEGER)).then(d=>(qh(n,e,d),d))}function qh(i,e,n){let o=_r.min();n.forEach((d,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),i.Li.set(e,o)}function Ac(){return Ac=(0,ye.Z)(function*(i,e,n,o){const d=mn(i);let m=Tr(),w=zs();for(const ee of n){const _e=e.Wi(ee.metadata.name);ee.document&&(m=m.add(_e));const it=e.zi(ee);it.setReadTime(e.Hi(ee.metadata.readTime)),w=w.insert(_e,it)}const P=d.Ui.newChangeBuffer({trackRemovals:!0}),Y=yield Cc(d,(ee=o,xa(Au(Ur.fromString(`__bundle__/docs/${ee}`)))));var ee;return d.persistence.runTransaction("Apply bundle documents","readwrite",ee=>Dc(ee,P,w).next(_e=>(P.apply(ee),_e)).next(_e=>d.Vs.removeMatchingKeysForTargetId(ee,Y.targetId).next(()=>d.Vs.addMatchingKeys(ee,m,Y.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(ee,_e.Gi,_e.Qi)).next(()=>_e.Gi)))}),Ac.apply(this,arguments)}function yl(i,e){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,ye.Z)(function*(i,e,n=Tr()){const o=yield Cc(i,xa($p(e.bundledQuery))),d=mn(i);return d.persistence.runTransaction("Save named query","readwrite",m=>{const w=Js(e.readTime);if(o.snapshotVersion.compareTo(w)>=0)return d.Ds.saveNamedQuery(m,e);const P=o.withResumeToken(Vi.EMPTY_BYTE_STRING,w);return d.$i=d.$i.insert(P.targetId,P),d.Vs.updateTargetData(m,P).next(()=>d.Vs.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>d.Vs.addMatchingKeys(m,n,o.targetId)).next(()=>d.Ds.saveNamedQuery(m,e))})}),Ku.apply(this,arguments)}function Wf(i,e){return`firestore_clients_${i}_${e}`}function Zh(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Mc(i,e){return`firestore_targets_${i}_${e}`}class om{constructor(e,n,o,d){this.user=e,this.batchId=n,this.state=o,this.error=d}static Ji(e,n,o){const d=JSON.parse(o);let m,w="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return w&&d.error&&(w="string"==typeof d.error.message&&"string"==typeof d.error.code,w&&(m=new tn(d.error.code,d.error.message))),w?new om(e,n,d.state,m):(gi("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xh{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Ji(e,n){const o=JSON.parse(n);let d,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(d=new tn(o.error.code,o.error.message))),m?new Xh(e,o.state,d):(gi("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ji(e,n){const o=JSON.parse(n);let d="object"==typeof o&&o.activeTargetIds instanceof Array,m=rd();for(let w=0;d&&w<o.activeTargetIds.length;++w)d=ae(o.activeTargetIds[w]),m=m.add(o.activeTargetIds[w]);return d?new Kf(e,m):(gi("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Yf{constructor(e,n){this.clientId=e,this.onlineState=n}static Ji(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Yf(n.clientId,n.onlineState):(gi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class am{constructor(){this.activeTargetIds=rd()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ih{constructor(e,n,o,d,m){this.window=e,this.js=n,this.persistenceKey=o,this.tr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new kr(Or),this.started=!1,this.ir=[];const w=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.rr=Wf(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new am),this.cr=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const n=yield e.syncEngine.Ri();for(const d of n){if(d===e.tr)continue;const m=e.getItem(Wf(e.persistenceKey,d));if(m){const w=Kf.Ji(d,m);w&&(e.sr=e.sr.insert(w.clientId,w))}}e._r();const o=e.storage.getItem(e.lr);if(o){const d=e.wr(o);d&&e.mr(d)}for(const d of e.ir)e.nr(d);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let n=!1;return this.sr.forEach((o,d)=>{d.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,n,o){this.yr(e,n,o),this.pr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Mc(this.persistenceKey,e));if(o){const d=Xh.Ji(e,o);d&&(n=d.state)}}return this.Ir.Xi(e),this._r(),n}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Mc(this.persistenceKey,e))}updateQueryState(e,n,o){this.Tr(e,n,o)}handleUserChange(e,n,o){n.forEach(d=>{this.pr(d)}),this.currentUser=e,o.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return pn("SharedClientState","READ",e,n),n}setItem(e,n){pn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){pn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(pn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,ye.Z)(function*(){if(n.started){if(null!==o.key)if(n.cr.test(o.key)){if(null==o.newValue){const d=n.Rr(o.key);return n.br(d,null)}{const d=n.Pr(o.key,o.newValue);if(d)return n.br(d.clientId,d)}}else if(n.ar.test(o.key)){if(null!==o.newValue){const d=n.vr(o.key,o.newValue);if(d)return n.Vr(d)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const d=n.Sr(o.key,o.newValue);if(d)return n.Dr(d)}}else if(o.key===n.lr){if(null!==o.newValue){const d=n.wr(o.newValue);if(d)return n.mr(d)}}else if(o.key===n.ur){const d=function(m){let w=Ln.ot;if(null!=m)try{const P=JSON.parse(m);hr("number"==typeof P),w=P}catch(P){gi("SharedClientState","Failed to read sequence number from WebStorage",P)}return w}(o.newValue);d!==Ln.ot&&n.sequenceNumberHandler(d)}else if(o.key===n.dr){const d=n.Cr(o.newValue);yield Promise.all(d.map(m=>n.syncEngine.Nr(m)))}}else n.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,n,o){const d=new om(this.currentUser,e,n,o),m=Zh(this.persistenceKey,this.currentUser,e);this.setItem(m,d.Yi())}pr(e){const n=Zh(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,n,o){const d=Mc(this.persistenceKey,e),m=new Xh(e,n,o);this.setItem(d,m.Yi())}Ar(e){const n=JSON.stringify(Array.from(e));this.setItem(this.dr,n)}Rr(e){const n=this.cr.exec(e);return n?n[1]:null}Pr(e,n){const o=this.Rr(e);return Kf.Ji(o,n)}vr(e,n){const o=this.ar.exec(e),d=Number(o[1]);return om.Ji(new Ci(void 0!==o[2]?o[2]:null),d,n)}Sr(e,n){const o=this.hr.exec(e),d=Number(o[1]);return Xh.Ji(d,n)}wr(e){return Yf.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var n=this;return(0,ye.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.kr(e.batchId,e.state,e.error);pn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const o=n?this.sr.insert(e,n):this.sr.remove(e),d=this.gr(this.sr),m=this.gr(o),w=[],P=[];return m.forEach(Y=>{d.has(Y)||w.push(Y)}),d.forEach(Y=>{m.has(Y)||P.push(Y)}),this.syncEngine.Mr(w,P).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let n=rd();return e.forEach((o,d)=>{n=n.unionWith(d.activeTargetIds)}),n}}class lm{constructor(){this.Fr=new am,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,o){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new am,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tg{Br(e){}shutdown(){}}class gd{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){pn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){pn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Rc{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class sh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,o,d,m){const w=this.oo(e,n);pn("RestConnection","Sending: ",w,o);const P={};return this.uo(P,d,m),this.co(e,w,P,o).then(Y=>(pn("RestConnection","Received: ",Y),Y),Y=>{throw Ua("RestConnection",`${e} failed with error: `,Y,"url: ",w,"request:",o),Y})}ao(e,n,o,d,m,w){return this.ro(e,n,o,d,m)}uo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((d,m)=>e[m]=d),o&&o.headers.forEach((d,m)=>e[m]=d)}oo(e,n){return`${this.so}/v1/${n}:${xc[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,o,d){return new Promise((m,w)=>{const P=new ls;P.listenOnce(Oi.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case rr.NO_ERROR:const ee=P.getResponseJson();pn("Connection","XHR received:",JSON.stringify(ee)),m(ee);break;case rr.TIMEOUT:pn("Connection",'RPC "'+e+'" timed out'),w(new tn(Ot.DEADLINE_EXCEEDED,"Request time out"));break;case rr.HTTP_ERROR:const _e=P.getStatus();if(pn("Connection",'RPC "'+e+'" failed with status:',_e,"response text:",P.getResponseText()),_e>0){const it=P.getResponseJson().error;if(it&&it.status&&it.message){const Rt=function(en){const un=en.toLowerCase().replace(/_/g,"-");return Object.values(Ot).indexOf(un)>=0?un:Ot.UNKNOWN}(it.status);w(new tn(Rt,it.message))}else w(new tn(Ot.UNKNOWN,"Server responded with status "+P.getStatus()))}else w(new tn(Ot.UNAVAILABLE,"Connection failed."));break;default:dn()}}finally{pn("Connection",'RPC "'+e+'" completed.')}});const Y=JSON.stringify(d);P.send(n,"POST",Y,o,15)})}ho(e,n,o){const d=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Br(),w=Wr(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new So({})),this.uo(P.initMessageHeaders,n,o),(0,Ke.uI)()||(0,Ke.b$)()||(0,Ke.d)()||(0,Ke.w1)()||(0,Ke.Mn)()||(0,Ke.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");const Y=d.join("");pn("Connection","Creating WebChannel: "+Y,P);const ee=m.createWebChannel(Y,P);let _e=!1,it=!1;const Rt=new Rc({jr:un=>{it?pn("Connection","Not sending because WebChannel is closed:",un):(_e||(pn("Connection","Opening WebChannel transport."),ee.open(),_e=!0),pn("Connection","WebChannel sending:",un),ee.send(un))},Wr:()=>ee.close()}),en=(un,Kn,dr)=>{un.listen(Kn,cs=>{try{dr(cs)}catch(to){setTimeout(()=>{throw to},0)}})};return en(ee,ai.EventType.OPEN,()=>{it||pn("Connection","WebChannel transport opened.")}),en(ee,ai.EventType.CLOSE,()=>{it||(it=!0,pn("Connection","WebChannel transport closed"),Rt.eo())}),en(ee,ai.EventType.ERROR,un=>{it||(it=!0,Ua("Connection","WebChannel transport errored:",un),Rt.eo(new tn(Ot.UNAVAILABLE,"The operation could not be completed")))}),en(ee,ai.EventType.MESSAGE,un=>{var Kn;if(!it){const dr=un.data[0];hr(!!dr);const to=dr.error||(null===(Kn=dr[0])||void 0===Kn?void 0:Kn.error);if(to){pn("Connection","WebChannel received error:",to);const bs=to.status;let Uo=function(wo){const Ba=lo[wo];if(void 0!==Ba)return Bd(Ba)}(bs),Rs=to.message;void 0===Uo&&(Uo=Ot.INTERNAL,Rs="Unknown error status: "+bs+" with message "+to.message),it=!0,Rt.eo(new tn(Uo,Rs)),ee.close()}else pn("Connection","WebChannel received:",dr),Rt.no(dr)}}),en(w,Di.STAT_EVENT,un=>{un.stat===Rn.PROXY?pn("Connection","Detected buffering proxy"):un.stat===Rn.NOPROXY&&pn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Rt.Zr()},0),Rt}}function Oc(){return typeof window<"u"?window:null}function Yu(){return typeof document<"u"?document:null}function pu(i){return new fu(i,!0)}class Qh{constructor(e,n,o=1e3,d=1.5,m=6e4){this.js=e,this.timerId=n,this.lo=o,this.fo=d,this._o=m,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),d=Math.max(0,n-o);d>0&&pn("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,d,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class oh{constructor(e,n,o,d,m,w,P,Y){this.js=e,this.Ao=o,this.Ro=d,this.bo=m,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=P,this.listener=Y,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Qh(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ye.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,ye.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,n){var o=this;return(0,ye.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():n&&n.code===Ot.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):n&&n.code===Ot.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,d])=>{this.Po===n&&this.Uo(o,d)},o=>{e(()=>{const d=new tn(Ot.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(d)})})}Uo(e,n){const o=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(d=>{o(()=>this.qo(d))}),this.stream.onMessage(d=>{o(()=>this.onMessage(d))})}xo(){var e=this;this.state=5,this.So.Io((0,ye.Z)(function*(){e.state=0,e.start()}))}qo(e){return pn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(pn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fa extends oh{constructor(e,n,o,d,m,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,d,w),this.wt=m}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function Lt(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:dn(),d=e.targetChange.targetIds||[],m=function(Y,ee){return Y.dt?(hr(void 0===ee||"string"==typeof ee),Vi.fromBase64String(ee||"")):(hr(void 0===ee||ee instanceof Uint8Array),Vi.fromUint8Array(ee||new Uint8Array))}(i,e.targetChange.resumeToken),w=e.targetChange.cause,P=w&&function(Y){const ee=void 0===Y.code?Ot.UNKNOWN:Bd(Y.code);return new tn(ee,Y.message||"")}(w);n=new Af(o,d,m,P||null)}else if("documentChange"in e){const o=e.documentChange,d=Ol(i,o.document.name),m=Js(o.document.updateTime),w=new Gs({mapValue:{fields:o.document.fields}}),P=_i.newFoundDocument(d,m,w);n=new hc(o.targetIds||[],o.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const o=e.documentDelete,d=Ol(i,o.document),m=o.readTime?Js(o.readTime):_r.min(),w=_i.newNoDocument(d,m);n=new hc([],o.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const o=e.documentRemove,d=Ol(i,o.document);n=new hc([],o.removedTargetIds||[],d,null)}else{if(!("filter"in e))return dn();{const o=e.filter,m=new nd(o.count||0);n=new Sf(o.targetId,m)}}var Y;return n}(this.wt,e),o=function(d){if(!("targetChange"in d))return _r.min();const m=d.targetChange;return m.targetIds&&m.targetIds.length?_r.min():m.readTime?Js(m.readTime):_r.min()}(e);return this.listener.Go(n,o)}Qo(e){const n={};n.database=_(this.wt),n.addTarget=function(d,m){let w;const P=m.target;return w=Tu(P)?{documents:ar(d,P)}:{query:Ws(d,P)},w.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?w.resumeToken=Eo(d,m.resumeToken):m.snapshotVersion.compareTo(_r.min())>0&&(w.readTime=Yl(d,m.snapshotVersion.toTimestamp())),w}(this.wt,e);const o=function ql(i,e){const n=function(o,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Mo(n)}jo(e){const n={};n.database=_(this.wt),n.removeTarget=e,this.Mo(n)}}class ey extends oh{constructor(e,n,o,d,m,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,d,w),this.wt=m,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(hr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=function br(i,e){return i&&i.length>0?(hr(void 0!==e),i.map(n=>function(o,d){let m=Js(o.updateTime?o.updateTime:d);return m.isEqual(_r.min())&&(m=Js(d)),new Wl(m,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Js(e.commitTime);return this.listener.Jo(o,n)}return hr(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=_(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>yn(this.wt,o))};this.Mo(n)}}class ng extends class{}{constructor(e,n,o,d){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.wt=d,this.Zo=!1}tu(){if(this.Zo)throw new tn(Ot.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.bo.ro(e,n,o,d,m)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new tn(Ot.UNKNOWN,d.toString())})}ao(e,n,o,d){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,w])=>this.bo.ao(e,n,o,m,w,d)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new tn(Ot.UNKNOWN,m.toString())})}terminate(){this.Zo=!0}}class rg{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(gi(n),this.su=!1):pn("OnlineStateTracker",n)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class um{constructor(e,n,o,d,m){var w=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=m,this.du.Br(P=>{o.enqueueAndForget((0,ye.Z)(function*(){var Y;Pc(w)&&(pn("RemoteStore","Restarting streams for network reachability change."),yield(Y=(0,ye.Z)(function*(ee){const _e=mn(ee);_e.lu.add(4),yield md(_e),_e._u.set("Unknown"),_e.lu.delete(4),yield ah(_e)}),function(ee){return Y.apply(this,arguments)})(w))}))}),this._u=new rg(o,d)}}function ah(i){return ig.apply(this,arguments)}function ig(){return ig=(0,ye.Z)(function*(i){if(Pc(i))for(const e of i.fu)yield e(!0)}),ig.apply(this,arguments)}function md(i){return qf.apply(this,arguments)}function qf(){return qf=(0,ye.Z)(function*(i){for(const e of i.fu)yield e(!1)}),qf.apply(this,arguments)}function Zf(i,e){const n=mn(i);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),tf(n)?ef(n):Ed(n).Co()&&cm(n,e))}function Jh(i,e){const n=mn(i),o=Ed(n);n.hu.delete(e),o.Co()&&dm(n,e),0===n.hu.size&&(o.Co()?o.ko():Pc(n)&&n._u.set("Unknown"))}function cm(i,e){i.wu.Nt(e.targetId),Ed(i).Qo(e)}function dm(i,e){i.wu.Nt(e),Ed(i).jo(e)}function ef(i){i.wu=new Ao({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),Ed(i).start(),i._u.iu()}function tf(i){return Pc(i)&&!Ed(i).Do()&&i.hu.size>0}function Pc(i){return 0===mn(i).lu.size}function sg(i){i.wu=void 0}function og(i){return lh.apply(this,arguments)}function lh(){return lh=(0,ye.Z)(function*(i){i.hu.forEach((e,n)=>{cm(i,e)})}),lh.apply(this,arguments)}function ty(i,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,ye.Z)(function*(i,e){sg(i),tf(i)?(i._u.uu(e),ef(i)):i._u.set("Unknown")}),Xf.apply(this,arguments)}function ny(i,e,n){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,ye.Z)(function*(i,e,n){if(i._u.set("Online"),e instanceof Af&&2===e.state&&e.cause)try{yield(o=(0,ye.Z)(function*(d,m){const w=m.cause;for(const P of m.targetIds)d.hu.has(P)&&(yield d.remoteSyncer.rejectListen(P,w),d.hu.delete(P),d.wu.removeTarget(P))}),function(d,m){return o.apply(this,arguments)})(i,e)}catch(o){pn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield vl(i,o)}else if(e instanceof hc?i.wu.Ut(e):e instanceof Sf?i.wu.zt(e):i.wu.Gt(e),!n.isEqual(_r.min()))try{const o=yield nh(i.localStore);n.compareTo(o)>=0&&(yield function(d,m){const w=d.wu.Yt(m);return w.targetChanges.forEach((P,Y)=>{if(P.resumeToken.approximateByteSize()>0){const ee=d.hu.get(Y);ee&&d.hu.set(Y,ee.withResumeToken(P.resumeToken,m))}}),w.targetMismatches.forEach(P=>{const Y=d.hu.get(P);if(!Y)return;d.hu.set(P,Y.withResumeToken(Vi.EMPTY_BYTE_STRING,Y.snapshotVersion)),dm(d,P);const ee=new Ec(Y.target,P,1,Y.sequenceNumber);cm(d,ee)}),d.remoteSyncer.applyRemoteEvent(w)}(i,n))}catch(o){pn("RemoteStore","Failed to raise snapshot:",o),yield vl(i,o)}var o}),Qf.apply(this,arguments)}function vl(i,e,n){return ag.apply(this,arguments)}function ag(){return ag=(0,ye.Z)(function*(i,e,n){if(!R(e))throw e;i.lu.add(1),yield md(i),i._u.set("Offline"),n||(n=()=>nh(i.localStore)),i.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){pn("RemoteStore","Retrying IndexedDB access"),yield n(),i.lu.delete(1),yield ah(i)}))}),ag.apply(this,arguments)}function yd(i,e){return e().catch(n=>vl(i,n,e))}function vd(i){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,ye.Z)(function*(i){const e=mn(i),n=Fc(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;uh(e);)try{const d=yield Yh(e.localStore,o);if(null===d){0===e.au.length&&n.ko();break}o=d.batchId,ry(e,d)}catch(d){yield vl(e,d)}lg(e)&&hm(e)}),Nc.apply(this,arguments)}function uh(i){return Pc(i)&&i.au.length<10}function ry(i,e){i.au.push(e);const n=Fc(i);n.Co()&&n.zo&&n.Ho(e.mutations)}function lg(i){return Pc(i)&&!Fc(i).Do()&&i.au.length>0}function hm(i){Fc(i).start()}function iy(i){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,ye.Z)(function*(i){Fc(i).Xo()}),Jf.apply(this,arguments)}function fm(i){return ep.apply(this,arguments)}function ep(){return ep=(0,ye.Z)(function*(i){const e=Fc(i);for(const n of i.au)e.Ho(n.mutations)}),ep.apply(this,arguments)}function pm(i,e,n){return _d.apply(this,arguments)}function _d(){return _d=(0,ye.Z)(function*(i,e,n){const o=i.au.shift(),d=Nh.from(o,e,n);yield yd(i,()=>i.remoteSyncer.applySuccessfulWrite(d)),yield vd(i)}),_d.apply(this,arguments)}function gm(i,e){return mm.apply(this,arguments)}function mm(){return mm=(0,ye.Z)(function*(i,e){var n;e&&Fc(i).zo&&(yield(n=(0,ye.Z)(function*(o,d){if(du(m=d.code)&&m!==Ot.ABORTED){const w=o.au.shift();Fc(o).No(),yield yd(o,()=>o.remoteSyncer.rejectFailedWrite(w.batchId,d)),yield vd(o)}var m}),function(o,d){return n.apply(this,arguments)})(i,e)),lg(i)&&hm(i)}),mm.apply(this,arguments)}function tp(i,e){return kc.apply(this,arguments)}function kc(){return kc=(0,ye.Z)(function*(i,e){const n=mn(i);n.asyncQueue.verifyOperationInProgress(),pn("RemoteStore","RemoteStore received new credentials");const o=Pc(n);n.lu.add(3),yield md(n),o&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield ah(n)}),kc.apply(this,arguments)}function ch(i,e){return np.apply(this,arguments)}function np(){return np=(0,ye.Z)(function*(i,e){const n=mn(i);e?(n.lu.delete(2),yield ah(n)):e||(n.lu.add(2),yield md(n),n._u.set("Unknown"))}),np.apply(this,arguments)}function Ed(i){return i.mu||(i.mu=function(e,n,o){const d=mn(e);return d.tu(),new Fa(n,d.bo,d.authCredentials,d.appCheckCredentials,d.wt,o)}(i.datastore,i.asyncQueue,{zr:og.bind(null,i),Jr:ty.bind(null,i),Go:ny.bind(null,i)}),i.fu.push(function(){var e=(0,ye.Z)(function*(n){n?(i.mu.No(),tf(i)?ef(i):i._u.set("Unknown")):(yield i.mu.stop(),sg(i))});return function(n){return e.apply(this,arguments)}}())),i.mu}function Fc(i){return i.gu||(i.gu=function(e,n,o){const d=mn(e);return d.tu(),new ey(n,d.bo,d.authCredentials,d.appCheckCredentials,d.wt,o)}(i.datastore,i.asyncQueue,{zr:iy.bind(null,i),Jr:gm.bind(null,i),Yo:fm.bind(null,i),Jo:pm.bind(null,i)}),i.fu.push(function(){var e=(0,ye.Z)(function*(n){n?(i.gu.No(),yield vd(i)):(yield i.gu.stop(),i.au.length>0&&(pn("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(n){return e.apply(this,arguments)}}())),i.gu}class ug{constructor(e,n,o,d,m){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=d,this.removalCallback=m,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,n,o,d,m){const w=Date.now()+o,P=new ug(e,n,w,d,m);return P.start(o),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tn(Ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nf(i,e){if(gi("AsyncQueue",`${e}: ${i}`),R(i))return new tn(Ot.UNAVAILABLE,`${e}: ${i}`);throw i}class rf{constructor(e){this.comparator=e?(n,o)=>e(n,o)||bn.comparator(n.key,o.key):(n,o)=>bn.comparator(n.key,o.key),this.keyedMap=Kl(),this.sortedSet=new kr(this.comparator)}static emptySet(e){return new rf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const d=n.getNext().key,m=o.getNext().key;if(!d.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new rf;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class ym{constructor(){this.yu=new kr(bn.comparator)}track(e){const n=e.doc.key,o=this.yu.get(n);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(n):1===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):dn():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,o)=>{e.push(o)}),e}}class dh{constructor(e,n,o,d,m,w,P,Y){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=d,this.mutatedKeys=m,this.fromCache=w,this.syncStateChanged=P,this.excludesMetadataChanges=Y}static fromInitialDocuments(e,n,o,d){const m=[];return n.forEach(w=>{m.push({type:0,doc:w})}),new dh(e,n,rf.emptySet(n),m,o,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let d=0;d<n.length;d++)if(n[d].type!==o[d].type||!n[d].doc.isEqual(o[d].doc))return!1;return!0}}class vm{constructor(){this.Iu=void 0,this.listeners=[]}}class Id{constructor(){this.queries=new Xo(e=>Pd(e),Qc),this.onlineState="Unknown",this.Tu=new Set}}function Xl(i,e){return rp.apply(this,arguments)}function rp(){return rp=(0,ye.Z)(function*(i,e){const n=mn(i),o=e.query;let d=!1,m=n.queries.get(o);if(m||(d=!0,m=new vm),d)try{m.Iu=yield n.onListen(o)}catch(w){const P=nf(w,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(P)}n.queries.set(o,m),m.listeners.push(e),e.Eu(n.onlineState),m.Iu&&e.Au(m.Iu)&&wa(n)}),rp.apply(this,arguments)}function _m(i,e){return cg.apply(this,arguments)}function cg(){return cg=(0,ye.Z)(function*(i,e){const n=mn(i),o=e.query;let d=!1;const m=n.queries.get(o);if(m){const w=m.listeners.indexOf(e);w>=0&&(m.listeners.splice(w,1),d=0===m.listeners.length)}if(d)return n.queries.delete(o),n.onUnlisten(o)}),cg.apply(this,arguments)}function wd(i,e){const n=mn(i);let o=!1;for(const d of e){const w=n.queries.get(d.query);if(w){for(const P of w.listeners)P.Au(d)&&(o=!0);w.Iu=d}}o&&wa(n)}function Ia(i,e,n){const o=mn(i),d=o.queries.get(e);if(d)for(const m of d.listeners)m.onError(n);o.queries.delete(e)}function wa(i){i.Tu.forEach(e=>{e.next()})}class Lc{constructor(e,n,o){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const d of e.docChanges)3!==d.type&&o.push(d);e=new dh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Jy{constructor(e,n){this.payload=e,this.byteLength=n}Cu(){return"metadata"in this.payload}}class dg{constructor(e){this.wt=e}Wi(e){return Ol(this.wt,e)}zi(e){return e.metadata.exists?he(this.wt,e.document,!1):_i.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Js(e)}}class sf{constructor(e,n,o){this.xu=e,this.localStore=n,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hg(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Ur.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ku(e){const n=new Map,o=new dg(this.wt);for(const d of e)if(d.metadata.queries){const m=o.Wi(d.metadata.name);for(const w of d.metadata.queries){const P=(n.get(w)||Tr()).add(m);n.set(w,P)}}return n}complete(){var e=this;return(0,ye.Z)(function*(){const n=yield function Sc(i,e,n,o){return Ac.apply(this,arguments)}(e.localStore,new dg(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const d of e.queries)yield yl(e.localStore,d,o.get(d.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:n}})()}}function hg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class fg{constructor(e){this.key=e}}class pg{constructor(e){this.key=e}}class Hr{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Tr(),this.mutatedKeys=Tr(),this.Lu=sc(e),this.Uu=new rf(this.Lu)}get qu(){return this.Fu}Ku(e,n){const o=n?n.Gu:new ym,d=n?n.Uu:this.Uu;let m=n?n.mutatedKeys:this.mutatedKeys,w=d,P=!1;const Y="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,ee="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((_e,it)=>{const Rt=d.get(_e),en=Nd(this.query,it)?it:null,un=!!Rt&&this.mutatedKeys.has(Rt.key),Kn=!!en&&(en.hasLocalMutations||this.mutatedKeys.has(en.key)&&en.hasCommittedMutations);let dr=!1;Rt&&en?Rt.data.isEqual(en.data)?un!==Kn&&(o.track({type:3,doc:en}),dr=!0):this.Qu(Rt,en)||(o.track({type:2,doc:en}),dr=!0,(Y&&this.Lu(en,Y)>0||ee&&this.Lu(en,ee)<0)&&(P=!0)):!Rt&&en?(o.track({type:0,doc:en}),dr=!0):Rt&&!en&&(o.track({type:1,doc:Rt}),dr=!0,(Y||ee)&&(P=!0)),dr&&(en?(w=w.add(en),m=Kn?m.add(_e):m.delete(_e)):(w=w.delete(_e),m=m.delete(_e)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const _e="F"===this.query.limitType?w.last():w.first();w=w.delete(_e.key),m=m.delete(_e.key),o.track({type:1,doc:_e})}return{Uu:w,Gu:o,Oi:P,mutatedKeys:m}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const d=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const m=e.Gu.pu();m.sort((ee,_e)=>function(it,Rt){const en=un=>{switch(un){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dn()}};return en(it)-en(Rt)}(ee.type,_e.type)||this.Lu(ee.doc,_e.doc)),this.ju(o);const w=n?this.Wu():[],P=0===this.Bu.size&&this.current?1:0,Y=P!==this.$u;return this.$u=P,0!==m.length||Y?{snapshot:new dh(this.query,e.Uu,d,m,e.mutatedKeys,0===P,Y,!1),zu:w}:{zu:w}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new ym,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Tr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const n=[];return e.forEach(o=>{this.Bu.has(o)||n.push(new pg(o))}),this.Bu.forEach(o=>{e.has(o)||n.push(new fg(o))}),n}Ju(e){this.Fu=e.ji,this.Bu=Tr();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return dh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class gg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class mg{constructor(e){this.key=e,this.Xu=!1}}class sy{constructor(e,n,o,d,m,w){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=d,this.currentUser=m,this.maxConcurrentLimboResolutions=w,this.Zu={},this.tc=new Xo(P=>Pd(P),Qc),this.ec=new Map,this.nc=new Set,this.sc=new kr(bn.comparator),this.ic=new Map,this.rc=new tm,this.oc={},this.uc=new Map,this.cc=gl.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function af(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,ye.Z)(function*(i,e){const n=cp(i);let o,d;const m=n.tc.get(e);if(m)o=m.targetId,n.sharedClientState.addLocalQueryTarget(o),d=m.view.Yu();else{const w=yield Cc(n.localStore,xa(e));n.isPrimaryClient&&Zf(n.remoteStore,w);const P=n.sharedClientState.addLocalQueryTarget(w.targetId);o=w.targetId,d=yield sp(n,e,o,"current"===P)}return d}),ip.apply(this,arguments)}function sp(i,e,n,o){return yg.apply(this,arguments)}function yg(){return yg=(0,ye.Z)(function*(i,e,n,o){i.hc=(_e,it,Rt)=>{return(en=(0,ye.Z)(function*(un,Kn,dr,cs){let to=Kn.view.Ku(dr);to.Oi&&(to=yield rh(un.localStore,Kn.query,!1).then(({documents:Rs})=>Kn.view.Ku(Rs,to)));const bs=cs&&cs.targetChanges.get(Kn.targetId),Uo=Kn.view.applyChanges(to,un.isPrimaryClient,bs);return df(un,Kn.targetId,Uo.zu),Uo.snapshot}),function(un,Kn,dr,cs){return en.apply(this,arguments)})(i,_e,it,Rt);var en};const d=yield rh(i.localStore,e,!0),m=new Hr(e,d.ji),w=m.Ku(d.documents),P=Nu.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),Y=m.applyChanges(w,i.isPrimaryClient,P);df(i,n,Y.zu);const ee=new gg(e,n,m);return i.tc.set(e,ee),i.ec.has(n)?i.ec.get(n).push(e):i.ec.set(n,[e]),Y.snapshot}),yg.apply(this,arguments)}function Em(i,e){return op.apply(this,arguments)}function op(){return op=(0,ye.Z)(function*(i,e){const n=mn(i),o=n.tc.get(e),d=n.ec.get(o.targetId);if(d.length>1)return n.ec.set(o.targetId,d.filter(m=>!Qc(m,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield pd(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Jh(n.remoteStore,o.targetId),Bc(n,o.targetId)}).catch(Ta))):(Bc(n,o.targetId),yield pd(n.localStore,o.targetId,!0))}),op.apply(this,arguments)}function ap(){return ap=(0,ye.Z)(function*(i,e,n){const o=Tg(i);try{const d=yield function(m,w){const P=mn(m),Y=mi.now(),ee=w.reduce((Rt,en)=>Rt.add(en.key),Tr());let _e,it;return P.persistence.runTransaction("Locally write mutations","readwrite",Rt=>{let en=zs(),un=Tr();return P.Ui.getEntries(Rt,ee).next(Kn=>{en=Kn,en.forEach((dr,cs)=>{cs.isValidDocument()||(un=un.add(dr))})}).next(()=>P.localDocuments.getOverlayedDocuments(Rt,en)).next(Kn=>{_e=Kn;const dr=[];for(const cs of w){const to=Ou(cs,_e.get(cs.key).overlayedDocument);null!=to&&dr.push(new Ea(cs.key,to,Al(to.value.mapValue),ks.exists(!0)))}return P.mutationQueue.addMutationBatch(Rt,Y,dr,w)}).next(Kn=>{it=Kn;const dr=Kn.applyToLocalDocumentSet(_e,un);return P.documentOverlayCache.saveOverlays(Rt,Kn.batchId,dr)})}).then(()=>({batchId:it.batchId,changes:ua(_e)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(d.batchId),function(m,w,P){let Y=m.oc[m.currentUser.toKey()];Y||(Y=new kr(Or)),Y=Y.insert(w,P),m.oc[m.currentUser.toKey()]=Y}(o,d.batchId,n),yield qu(o,d.changes),yield vd(o.remoteStore)}catch(d){const m=nf(d,"Failed to persist write");n.reject(m)}}),ap.apply(this,arguments)}function Im(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,ye.Z)(function*(i,e){const n=mn(i);try{const o=yield function Gf(i,e){const n=mn(i),o=e.snapshotVersion;let d=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const w=n.Ui.newChangeBuffer({trackRemovals:!0});d=n.$i;const P=[];e.targetChanges.forEach((_e,it)=>{const Rt=d.get(it);if(!Rt)return;P.push(n.Vs.removeMatchingKeys(m,_e.removedDocuments,it).next(()=>n.Vs.addMatchingKeys(m,_e.addedDocuments,it)));let en=Rt.withSequenceNumber(m.currentSequenceNumber);var un,Kn,dr;e.targetMismatches.has(it)?en=en.withResumeToken(Vi.EMPTY_BYTE_STRING,_r.min()).withLastLimboFreeSnapshotVersion(_r.min()):_e.resumeToken.approximateByteSize()>0&&(en=en.withResumeToken(_e.resumeToken,o)),d=d.insert(it,en),Kn=en,dr=_e,(0===(un=Rt).resumeToken.approximateByteSize()||Kn.snapshotVersion.toMicroseconds()-un.snapshotVersion.toMicroseconds()>=3e8||dr.addedDocuments.size+dr.modifiedDocuments.size+dr.removedDocuments.size>0)&&P.push(n.Vs.updateTargetData(m,en))});let Y=zs(),ee=Tr();if(e.documentUpdates.forEach(_e=>{e.resolvedLimboDocuments.has(_e)&&P.push(n.persistence.referenceDelegate.updateLimboDocument(m,_e))}),P.push(Dc(m,w,e.documentUpdates).next(_e=>{Y=_e.Gi,ee=_e.Qi})),!o.isEqual(_r.min())){const _e=n.Vs.getLastRemoteSnapshotVersion(m).next(it=>n.Vs.setTargetsMetadata(m,m.currentSequenceNumber,o));P.push(_e)}return xt.waitFor(P).next(()=>w.apply(m)).next(()=>n.localDocuments.getLocalViewOfDocuments(m,Y,ee)).next(()=>Y)}).then(m=>(n.$i=d,m))}(n.localStore,e);e.targetChanges.forEach((d,m)=>{const w=n.ic.get(m);w&&(hr(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?w.Xu=!0:d.modifiedDocuments.size>0?hr(w.Xu):d.removedDocuments.size>0&&(hr(w.Xu),w.Xu=!1))}),yield qu(n,o,e)}catch(o){yield Ta(o)}}),wm.apply(this,arguments)}function _g(i,e,n){const o=mn(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const d=[];o.tc.forEach((m,w)=>{const P=w.view.Eu(e);P.snapshot&&d.push(P.snapshot)}),function(m,w){const P=mn(m);P.onlineState=w;let Y=!1;P.queries.forEach((ee,_e)=>{for(const it of _e.listeners)it.Eu(w)&&(Y=!0)}),Y&&wa(P)}(o.eventManager,e),d.length&&o.Zu.Go(d),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Eg(i,e,n){return gu.apply(this,arguments)}function gu(){return gu=(0,ye.Z)(function*(i,e,n){const o=mn(i);o.sharedClientState.updateQueryState(e,"rejected",n);const d=o.ic.get(e),m=d&&d.key;if(m){let w=new kr(bn.comparator);w=w.insert(m,_i.newNoDocument(m,_r.min()));const P=Tr().add(m),Y=new Ya(_r.min(),new Map,new Fr(Or),w,P);yield Im(o,Y),o.sc=o.sc.remove(m),o.ic.delete(e),gh(o)}else yield pd(o.localStore,e,!1).then(()=>Bc(o,e,n)).catch(Ta)}),gu.apply(this,arguments)}function hh(i,e){return lf.apply(this,arguments)}function lf(){return lf=(0,ye.Z)(function*(i,e){const n=mn(i),o=e.batch.batchId;try{const d=yield function eg(i,e){const n=mn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const d=e.batch.keys(),m=n.Ui.newChangeBuffer({trackRemovals:!0});return function(w,P,Y,ee){const _e=Y.batch,it=_e.keys();let Rt=xt.resolve();return it.forEach(en=>{Rt=Rt.next(()=>ee.getEntry(P,en)).next(un=>{const Kn=Y.docVersions.get(en);hr(null!==Kn),un.version.compareTo(Kn)<0&&(_e.applyToRemoteDocument(un,Y),un.isValidDocument()&&(un.setReadTime(Y.commitVersion),ee.addEntry(un)))})}),Rt.next(()=>w.mutationQueue.removeMutationBatch(P,_e))}(n,o,e,m).next(()=>m.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,d,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(w){let P=Tr();for(let Y=0;Y<w.mutationResults.length;++Y)w.mutationResults[Y].transformResults.length>0&&(P=P.add(w.batch.mutations[Y].key));return P}(e))).next(()=>n.localDocuments.getDocuments(o,d))})}(n.localStore,e);cf(n,o,null),bd(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield qu(n,d)}catch(d){yield Ta(d)}}),lf.apply(this,arguments)}function oy(i,e,n){return fh.apply(this,arguments)}function fh(){return fh=(0,ye.Z)(function*(i,e,n){const o=mn(i);try{const d=yield function(m,w){const P=mn(m);return P.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let ee;return P.mutationQueue.lookupMutationBatch(Y,w).next(_e=>(hr(null!==_e),ee=_e.keys(),P.mutationQueue.removeMutationBatch(Y,_e))).next(()=>P.mutationQueue.performConsistencyCheck(Y)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(Y,ee,w)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,ee)).next(()=>P.localDocuments.getDocuments(Y,ee))})}(o.localStore,e);cf(o,e,n),bd(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield qu(o,d)}catch(d){yield Ta(d)}}),fh.apply(this,arguments)}function uf(){return uf=(0,ye.Z)(function*(i,e){const n=mn(i);Pc(n.remoteStore)||pn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const w=mn(m);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>w.mutationQueue.getHighestUnacknowledgedBatchId(P))}(n.localStore);if(-1===o)return void e.resolve();const d=n.uc.get(o)||[];d.push(e),n.uc.set(o,d)}catch(o){const d=nf(o,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),uf.apply(this,arguments)}function bd(i,e){(i.uc.get(e)||[]).forEach(n=>{n.resolve()}),i.uc.delete(e)}function cf(i,e,n){const o=mn(i);let d=o.oc[o.currentUser.toKey()];if(d){const m=d.get(e);m&&(n?m.reject(n):m.resolve(),d=d.remove(e)),o.oc[o.currentUser.toKey()]=d}}function Bc(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ec.get(e))i.tc.delete(o),n&&i.Zu.lc(o,n);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(o=>{i.rc.containsKey(o)||lp(i,o)})}function lp(i,e){i.nc.delete(e.path.canonicalString());const n=i.sc.get(e);null!==n&&(Jh(i.remoteStore,n),i.sc=i.sc.remove(e),i.ic.delete(n),gh(i))}function df(i,e,n){for(const o of n)o instanceof fg?(i.rc.addReference(o.key,e),Ig(i,o)):o instanceof pg?(pn("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,e),i.rc.containsKey(o.key)||lp(i,o.key)):dn()}function Ig(i,e){const n=e.key,o=n.path.canonicalString();i.sc.get(n)||i.nc.has(o)||(pn("SyncEngine","New document in limbo: "+n),i.nc.add(o),gh(i))}function gh(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const n=new bn(Ur.fromString(e)),o=i.cc.next();i.ic.set(o,new mg(n)),i.sc=i.sc.insert(n,o),Zf(i.remoteStore,new Ec(xa(Au(n.path)),o,2,Ln.ot))}}function qu(i,e,n){return up.apply(this,arguments)}function up(){return up=(0,ye.Z)(function*(i,e,n){const o=mn(i),d=[],m=[],w=[];var P;o.tc.isEmpty()||(o.tc.forEach((P,Y)=>{w.push(o.hc(Y,e,n).then(ee=>{if(ee){o.isPrimaryClient&&o.sharedClientState.updateQueryState(Y.targetId,ee.fromCache?"not-current":"current"),d.push(ee);const _e=zu.Vi(Y.targetId,ee);m.push(_e)}}))}),yield Promise.all(w),o.Zu.Go(d),yield(P=(0,ye.Z)(function*(Y,ee){const _e=mn(Y);try{yield _e.persistence.runTransaction("notifyLocalViewChanges","readwrite",it=>xt.forEach(ee,Rt=>xt.forEach(Rt.Pi,en=>_e.persistence.referenceDelegate.addReference(it,Rt.targetId,en)).next(()=>xt.forEach(Rt.vi,en=>_e.persistence.referenceDelegate.removeReference(it,Rt.targetId,en)))))}catch(it){if(!R(it))throw it;pn("LocalStore","Failed to update sequence numbers: "+it)}for(const it of ee){const Rt=it.targetId;if(!it.fromCache){const en=_e.$i.get(Rt),Kn=en.withLastLimboFreeSnapshotVersion(en.snapshotVersion);_e.$i=_e.$i.insert(Rt,Kn)}}}),function(Y,ee){return P.apply(this,arguments)})(o.localStore,m))}),up.apply(this,arguments)}function bm(i,e){return mh.apply(this,arguments)}function mh(){return mh=(0,ye.Z)(function*(i,e){const n=mn(i);if(!n.currentUser.isEqual(e)){pn("SyncEngine","User change. New user:",e.toKey());const o=yield Kh(n.localStore,e);n.currentUser=e,(d=n).uc.forEach(w=>{w.forEach(P=>{P.reject(new tn(Ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.uc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield qu(n,o.Ki)}var d}),mh.apply(this,arguments)}function $c(i,e){const n=mn(i),o=n.ic.get(e);if(o&&o.Xu)return Tr().add(o.key);{let d=Tr();const m=n.ec.get(e);if(!m)return d;for(const w of m){const P=n.tc.get(w);d=d.unionWith(P.view.qu)}return d}}function ev(i,e){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,ye.Z)(function*(i,e){const n=mn(i),o=yield rh(n.localStore,e.query,!0),d=e.view.Ju(o);return n.isPrimaryClient&&df(n,e.targetId,d.zu),d}),Vc.apply(this,arguments)}function ay(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,ye.Z)(function*(i,e){const n=mn(i);return ka(n.localStore,e).then(o=>qu(n,o))}),hf.apply(this,arguments)}function Dm(i,e,n,o){return wg.apply(this,arguments)}function wg(){return wg=(0,ye.Z)(function*(i,e,n,o){const d=mn(i),m=yield function(w,P){const Y=mn(w),ee=mn(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",_e=>ee.yn(_e,P).next(it=>it?Y.localDocuments.getDocuments(_e,it):xt.resolve(null)))}(d.localStore,e);var P;null!==m?("pending"===n?yield vd(d.remoteStore):"acknowledged"===n||"rejected"===n?(cf(d,e,o||null),bd(d,e),P=e,mn(mn(d.localStore).mutationQueue).In(P)):dn(),yield qu(d,m)):pn("SyncEngine","Cannot apply mutation batch with id: "+e)}),wg.apply(this,arguments)}function La(){return La=(0,ye.Z)(function*(i,e){const n=mn(i);if(cp(n),Tg(n),!0===e&&!0!==n.ac){const o=n.sharedClientState.getAllActiveQueryTargets(),d=yield Tm(n,o.toArray());n.ac=!0,yield ch(n.remoteStore,!0);for(const m of d)Zf(n.remoteStore,m)}else if(!1===e&&!1!==n.ac){const o=[];let d=Promise.resolve();n.ec.forEach((m,w)=>{n.sharedClientState.isLocalQueryTarget(w)?o.push(w):d=d.then(()=>(Bc(n,w),pd(n.localStore,w,!0))),Jh(n.remoteStore,w)}),yield d,yield Tm(n,o),function(m){const w=mn(m);w.ic.forEach((P,Y)=>{Jh(w.remoteStore,Y)}),w.rc.cs(),w.ic=new Map,w.sc=new kr(bn.comparator)}(n),n.ac=!1,yield ch(n.remoteStore,!1)}}),La.apply(this,arguments)}function Tm(i,e,n){return mu.apply(this,arguments)}function mu(){return mu=(0,ye.Z)(function*(i,e,n){const o=mn(i),d=[],m=[];for(const w of e){let P;const Y=o.ec.get(w);if(Y&&0!==Y.length){P=yield Cc(o.localStore,xa(Y[0]));for(const ee of Y){const _e=o.tc.get(ee),it=yield ev(o,_e);it.snapshot&&m.push(it.snapshot)}}else{const ee=yield Tc(o.localStore,w);P=yield Cc(o.localStore,ee),yield sp(o,ly(ee),w,!1)}d.push(P)}return o.Zu.Go(m),d}),mu.apply(this,arguments)}function ly(i){return Zc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function bg(i){const e=mn(i);return mn(mn(e.localStore).persistence).Ri()}function Sm(i,e,n,o){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,ye.Z)(function*(i,e,n,o){const d=mn(i);if(d.ac)return void pn("SyncEngine","Ignoring unexpected query state notification.");const m=d.ec.get(e);if(m&&m.length>0)switch(n){case"current":case"not-current":{const w=yield ka(d.localStore,Jc(m[0])),P=Ya.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield qu(d,w,P);break}case"rejected":yield pd(d.localStore,e,!0),Bc(d,e,o);break;default:dn()}}),Dg.apply(this,arguments)}function Am(i,e,n){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,ye.Z)(function*(i,e,n){const o=cp(i);if(o.ac){for(const d of e){if(o.ec.has(d)){pn("SyncEngine","Adding an already active target "+d);continue}const m=yield Tc(o.localStore,d),w=yield Cc(o.localStore,m);yield sp(o,ly(m),w.targetId,!1),Zf(o.remoteStore,w)}for(const d of n)o.ec.has(d)&&(yield pd(o.localStore,d,!1).then(()=>{Jh(o.remoteStore,d),Bc(o,d)}).catch(Ta))}}),Cg.apply(this,arguments)}function cp(i){const e=mn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Im.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$c.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Eg.bind(null,e),e.Zu.Go=wd.bind(null,e.eventManager),e.Zu.lc=Ia.bind(null,e.eventManager),e}function Tg(i){const e=mn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oy.bind(null,e),e}class Uc{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ye.Z)(function*(){n.wt=pu(e.databaseInfo.databaseId),n.sharedClientState=n.dc(e),n.persistence=n._c(e),yield n.persistence.start(),n.localStore=n.wc(e),n.gcScheduler=n.mc(e,n.localStore),n.indexBackfillerScheduler=n.gc(e,n.localStore)})()}mc(e,n){return null}gc(e,n){return null}wc(e){return Jp(this.persistence,new Qp,e.initialUser,this.wt)}_c(e){return new Xp(zh.Ms,this.wt)}dc(e){return new lm}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mm extends Uc{constructor(e,n,o){super(),this.yc=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,ye.Z)(function*(){yield n().call(o,e),yield o.yc.initialize(o,e),yield Tg(o.yc.syncEngine),yield vd(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Jp(this.persistence,new Qp,e.initialUser,this.wt)}mc(e,n){return new Xg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}gc(e,n){const o=new Dn(n,this.persistence);return new Kt(e.asyncQueue,o)}_c(e){const n=Wh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?$o.withCacheSize(this.cacheSizeBytes):$o.DEFAULT;return new sm(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Oc(),Yu(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new lm}}class dp extends Mm{constructor(e,n){super(e,n,!1),this.yc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,ye.Z)(function*(){yield n().call(o,e);const d=o.yc.syncEngine;o.sharedClientState instanceof ih&&(o.sharedClientState.syncEngine={kr:Dm.bind(null,d),Or:Sm.bind(null,d),Mr:Am.bind(null,d),Ri:bg.bind(null,d),Nr:ay.bind(null,d)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var m=(0,ye.Z)(function*(w){yield function Cm(i,e){return La.apply(this,arguments)}(o.yc.syncEngine,w),o.gcScheduler&&(w&&!o.gcScheduler.started?o.gcScheduler.start():w||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(w&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():w||o.indexBackfillerScheduler.stop())});return function(w){return m.apply(this,arguments)}}())})()}dc(e){const n=Oc();if(!ih.V(n))throw new tn(Ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Wh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ih(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class hp{initialize(e,n){var o=this;return(0,ye.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=d=>_g(o.syncEngine,d,1),o.remoteStore.remoteSyncer.handleCredentialChange=bm.bind(null,o.syncEngine),yield ch(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Id}createDatastore(e){const n=pu(e.databaseInfo.databaseId),o=new sh(e.databaseInfo);return new ng(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,d=e.asyncQueue,m=P=>_g(this.syncEngine,P,0),w=gd.V()?new gd:new tg,new um(n,o,d,m,w);var n,o,d,m,w}createSyncEngine(e,n){return function(o,d,m,w,P,Y,ee){const _e=new sy(o,d,m,w,P,Y);return ee&&(_e.ac=!0),_e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,ye.Z)(function*(n){const o=mn(n);pn("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield md(o),o.du.shutdown(),o._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Sg(i,e=10240){let n=0;return{read:()=>(0,ye.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ff{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class yu{constructor(e,n){this.Ec=e,this.wt=n,this.metadata=new ci,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,ye.Z)(function*(){const n=yield e.bc();if(null===n)return null;const o=e.Ac.decode(n),d=Number(o);isNaN(d)&&e.Pc(`length string (${o}) is not valid number`);const m=yield e.vc(d);return new Jy(JSON.parse(m),n.length+d)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,ye.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const n=e.Vc();n<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}vc(e){var n=this;return(0,ye.Z)(function*(){for(;n.buffer.length<e;)(yield n.Sc())&&n.Pc("Reached the end of bundle when more is expected.");const o=n.Ac.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,ye.Z)(function*(){const n=yield e.Ec.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class fp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,ye.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new tn(Ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(d=(0,ye.Z)(function*(m,w){const P=mn(m),Y=_(P.wt)+"/documents",ee={documents:w.map(en=>pc(P.wt,en))},_e=yield P.ao("BatchGetDocuments",Y,ee,w.length),it=new Map;_e.forEach(en=>{const un=function ct(i,e){return"found"in e?function(n,o){hr(!!o.found);const d=Ol(n,o.found.name),m=Js(o.found.updateTime),w=new Gs({mapValue:{fields:o.found.fields}});return _i.newFoundDocument(d,m,w)}(i,e):"missing"in e?function(n,o){hr(!!o.missing),hr(!!o.readTime);const d=Ol(n,o.missing),m=Js(o.readTime);return _i.newNoDocument(d,m)}(i,e):dn()}(P.wt,en);it.set(un.key.toString(),un)});const Rt=[];return w.forEach(en=>{const un=it.get(en.toString());hr(!!un),Rt.push(un)}),Rt}),function(m,w){return d.apply(this,arguments)})(n.datastore,e);var d;return o.forEach(d=>n.recordVersion(d)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,d)=>{const m=bn.fromPath(d);e.mutations.push(new lc(m,e.precondition(m)))}),yield(o=(0,ye.Z)(function*(d,m){const w=mn(d),P=_(w.wt)+"/documents",Y={writes:m.map(ee=>yn(w.wt,ee))};yield w.ro("Commit",P,Y)}),function(d,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw dn();n=_r.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new tn(Ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?ks.updateTime(n):ks.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(_r.min()))throw new tn(Ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ks.updateTime(n)}return ks.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xm{constructor(e,n,o,d,m){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=d,this.deferred=m,this.Dc=o.maxAttempts,this.So=new Qh(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,ye.Z)(function*(){const n=new fp(e.datastore),o=e.xc(n);o&&o.then(d=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(d)}).catch(m=>{e.Nc(m)}))}).catch(d=>{e.Nc(d)})}))}xc(e){try{const n=this.updateFunction(e);return!$(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!du(n)}return!1}}class Rm{constructor(e,n,o,d){var m=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=d,this.user=Ci.UNAUTHENTICATED,this.clientId=bl.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var w=(0,ye.Z)(function*(P){pn("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(o,w=>(pn("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tn(Ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const d=nf(o,"Failed to shutdown persistence");n.reject(d)}})),n.promise}}function pp(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,ye.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),pn("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var d=(0,ye.Z)(function*(m){o.isEqual(m)||(yield Kh(e.localStore,m),o=m)});return function(m){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),gp.apply(this,arguments)}function Ag(i,e){return yh.apply(this,arguments)}function yh(){return yh=(0,ye.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield c(i);pn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(d=>tp(e.remoteStore,d)),i.setAppCheckTokenChangeListener((d,m)=>tp(e.remoteStore,m)),i.onlineComponents=e}),yh.apply(this,arguments)}function c(i){return a.apply(this,arguments)}function a(){return a=(0,ye.Z)(function*(i){return i.offlineComponents||(pn("FirestoreClient","Using default OfflineComponentProvider"),yield pp(i,new Uc)),i.offlineComponents}),a.apply(this,arguments)}function l(i){return f.apply(this,arguments)}function f(){return f=(0,ye.Z)(function*(i){return i.onlineComponents||(pn("FirestoreClient","Using default OnlineComponentProvider"),yield Ag(i,new hp)),i.onlineComponents}),f.apply(this,arguments)}function E(i){return c(i).then(e=>e.persistence)}function A(i){return c(i).then(e=>e.localStore)}function B(i){return l(i).then(e=>e.remoteStore)}function J(i){return l(i).then(e=>e.syncEngine)}function le(i){return De.apply(this,arguments)}function De(){return De=(0,ye.Z)(function*(i){const e=yield l(i),n=e.eventManager;return n.onListen=af.bind(null,e.syncEngine),n.onUnlisten=Em.bind(null,e.syncEngine),n}),De.apply(this,arguments)}function Sn(i,e,n={}){const o=new ci;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(d,m,w,P,Y){const ee=new ff({next:it=>{m.enqueueAndForget(()=>_m(d,_e));const Rt=it.docs.has(w);!Rt&&it.fromCache?Y.reject(new tn(Ot.UNAVAILABLE,"Failed to get document because the client is offline.")):Rt&&it.fromCache&&P&&"server"===P.source?Y.reject(new tn(Ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(it)},error:it=>Y.reject(it)}),_e=new Lc(Au(w.path),ee,{includeMetadataChanges:!0,Du:!0});return Xl(d,_e)}(yield le(i),i.asyncQueue,e,n,o)})),o.promise}function Kr(i,e,n={}){const o=new ci;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(d,m,w,P,Y){const ee=new ff({next:it=>{m.enqueueAndForget(()=>_m(d,_e)),it.fromCache&&"server"===P.source?Y.reject(new tn(Ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(it)},error:it=>Y.reject(it)}),_e=new Lc(w,ee,{includeMetadataChanges:!0,Du:!0});return Xl(d,_e)}(yield le(i),i.asyncQueue,e,n,o)})),o.promise}const Vo=new Map;function jc(i,e,n){if(!n)throw new tn(Ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function vu(i,e,n,o){if(!0===e&&!0===o)throw new tn(Ot.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mp(i){if(!bn.isDocumentKey(i))throw new tn(Ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function vh(i){if(bn.isDocumentKey(i))throw new tn(Ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function _h(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":dn()}function Ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new tn(Ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_h(i);throw new tn(Ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function tv(i,e){if(e<=0)throw new tn(Ot.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class yp{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new tn(Ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tn(Ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,vu("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mg{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yp({}),this._settingsFrozen=!1,e instanceof ws?this._databaseId=e:(this._app=e,this._databaseId=function(d){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new tn(Ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ws(d.options.projectId)}(e))}get app(){if(!this._app)throw new tn(Ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tn(Ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yp(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Fo;switch(n.type){case"gapi":const o=n.client;return hr(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new so(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new tn(Ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Vo.get(e);n&&(pn("ComponentProvider","Removing Datastore"),Vo.delete(e),n.terminate())}(this),Promise.resolve()}}class Ks{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ks(this.firestore,e,this._key)}}class Xa{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class Hc extends Xa{constructor(e,n,o){super(e,n,Au(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ks(this.firestore,null,new bn(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function vp(i,e,...n){if(i=(0,Ke.m9)(i),jc("collection","path",e),i instanceof Mg){const o=Ur.fromString(e,...n);return vh(o),new Hc(i,null,o)}{if(!(i instanceof Ks||i instanceof Hc))throw new tn(Ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ur.fromString(e,...n));return vh(o),new Hc(i.firestore,null,o)}}function cy(i,e,...n){if(i=(0,Ke.m9)(i),1===arguments.length&&(e=bl.I()),jc("doc","path",e),i instanceof Mg){const o=Ur.fromString(e,...n);return mp(o),new Ks(i,null,new bn(o))}{if(!(i instanceof Ks||i instanceof Hc))throw new tn(Ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ur.fromString(e,...n));return mp(o),new Ks(i.firestore,i instanceof Hc?i.converter:null,new bn(o))}}function rv(i,e){return i=(0,Ke.m9)(i),e=(0,Ke.m9)(e),(i instanceof Ks||i instanceof Hc)&&(e instanceof Ks||e instanceof Hc)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function iv(i,e){return i=(0,Ke.m9)(i),e=(0,Ke.m9)(e),i instanceof Xa&&e instanceof Xa&&i.firestore===e.firestore&&Qc(i._query,e._query)&&i.converter===e.converter}class Kv{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Qh(this,"async_queue_retry"),this.Kc=()=>{const n=Yu();n&&pn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Yu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Yu();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new ci;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(n){if(!R(n))throw n;pn("AsyncQueue","Operation failed with retryable error: "+n)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,gi("INTERNAL UNHANDLED ERROR: ",function(m){let w=m.message||"";return m.stack&&(w=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),w}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=n,n}enqueueAfterDelay(e,n,o){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const d=ug.createAndSchedule(this,e,n,o,m=>this.Wc(m));return this.$c.push(d),d}Gc(){this.Bc&&dn()}verifyOperationInProgress(){}zc(){var e=this;return(0,ye.Z)(function*(){let n;do{n=e.Oc,yield n}while(n!==e.Oc)})()}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function dy(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const d of["next","error","complete"])if(d in o&&"function"==typeof o[d])return!0;return!1}(i)}class Yv{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ho extends Mg{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new Kv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Om(this),this._firestoreClient.terminate()}}function Qo(i){return i._firestoreClient||Om(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Om(i){var e;const n=i._freezeSettings(),o=(m=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new xd(i._databaseId,m,i._persistenceKey,(P=n).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var m,P;i._firestoreClient=new Rm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function ov(i,e,n){const o=new ci;return i.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield pp(i,n),yield Ag(i,e),o.resolve()}catch(d){const m=d;if(!("FirebaseError"===(w=m).name?w.code===Ot.FAILED_PRECONDITION||w.code===Ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw m;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+m),o.reject(m)}var w})).then(()=>o.promise)}function s_(i){if(i._initialized||i._terminated)throw new tn(Ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new tn(Ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new us(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(Vi.fromBase64String(e))}catch(n){throw new tn(Ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ql(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pf{constructor(e){this._methodName=e}}class Pm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new tn(Ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new tn(Ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Or(this._lat,e._lat)||Or(this._long,e._long)}}const hy=/^__.*__$/;class o_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rl(e,this.data,n,this.fieldTransforms)}}class Zu{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _p(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dn()}}class fa{constructor(e,n,o,d,m,w){this.settings=e,this.databaseId=n,this.wt=o,this.ignoreUndefinedProperties=d,void 0===m&&this.Xc(),this.fieldTransforms=m||[],this.fieldMask=w||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new fa(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),d=this.ta({path:o,na:!1});return d.sa(e),d}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),d=this.ta({path:o,na:!1});return d.Xc(),d}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Rg(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(_p(this.Zc)&&hy.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class gf{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=o||pu(e)}aa(e,n,o,d=!1){return new fa({Zc:e,methodName:n,ca:o,path:us.emptyPath(),na:!1,ua:d},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function zc(i){const e=i._freezeSettings(),n=pu(i._databaseId);return new gf(i._databaseId,!!e.ignoreUndefinedProperties,n)}function _l(i,e,n,o,d,m={}){const w=i.aa(m.merge||m.mergeFields?2:0,e,n,d);Nm("Data must be an object, but it was:",w,o);const P=fy(o,w);let Y,ee;if(m.merge)Y=new Xs(w.fieldMask),ee=w.fieldTransforms;else if(m.mergeFields){const _e=[];for(const it of m.mergeFields){const Rt=km(e,it,n);if(!w.contains(Rt))throw new tn(Ot.INVALID_ARGUMENT,`Field '${Rt}' is specified in your field mask but missing from your input data.`);gy(_e,Rt)||_e.push(Rt)}Y=new Xs(_e),ee=w.fieldTransforms.filter(it=>Y.covers(it.field))}else Y=null,ee=w.fieldTransforms;return new o_(new Gs(P),Y,ee)}class mf extends pf{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}function yf(i,e,n){return new fa({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:n},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Eh extends pf{_toFieldTransform(e){return new Ka(e.path,new Hl)}isEqual(e){return e instanceof Eh}}class Ep extends pf{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=yf(this,e,!0),o=this.ha.map(m=>_u(m,n)),d=new lu(o);return new Ka(e.path,d)}isEqual(e){return this===e}}class Ip extends pf{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=yf(this,e,!0),o=this.ha.map(m=>_u(m,n)),d=new Gl(o);return new Ka(e.path,d)}isEqual(e){return this===e}}class wp extends pf{constructor(e,n){super(e),this.la=n}_toFieldTransform(e){const n=new Ra(e.wt,kd(e.wt,this.la));return new Ka(e.path,n)}isEqual(e){return this===e}}function Ih(i,e,n,o){const d=i.aa(1,e,n);Nm("Data must be an object, but it was:",d,o);const m=[],w=Gs.empty();tr(o,(Y,ee)=>{const _e=xg(e,Y,n);ee=(0,Ke.m9)(ee);const it=d.ia(_e);if(ee instanceof mf)m.push(_e);else{const Rt=_u(ee,it);null!=Rt&&(m.push(_e),w.set(_e,Rt))}});const P=new Xs(m);return new Zu(w,P,d.fieldTransforms)}function wh(i,e,n,o,d,m){const w=i.aa(1,e,n),P=[km(e,o,n)],Y=[d];if(m.length%2!=0)throw new tn(Ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Rt=0;Rt<m.length;Rt+=2)P.push(km(e,m[Rt])),Y.push(m[Rt+1]);const ee=[],_e=Gs.empty();for(let Rt=P.length-1;Rt>=0;--Rt)if(!gy(ee,P[Rt])){const en=P[Rt];let un=Y[Rt];un=(0,Ke.m9)(un);const Kn=w.ia(en);if(un instanceof mf)ee.push(en);else{const dr=_u(un,Kn);null!=dr&&(ee.push(en),_e.set(en,dr))}}const it=new Xs(ee);return new Zu(_e,it,w.fieldTransforms)}function vf(i,e,n,o=!1){return _u(n,i.aa(o?4:3,e))}function _u(i,e){if(py(i=(0,Ke.m9)(i)))return Nm("Unsupported field value:",e,i),fy(i,e);if(i instanceof pf)return function(n,o){if(!_p(o.Zc))throw o.oa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${n._methodName}() is not currently supported inside arrays`);const d=n._toFieldTransform(o);d&&o.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(n,o){const d=[];let m=0;for(const w of n){let P=_u(w,o.ra(m));null==P&&(P={nullValue:"NULL_VALUE"}),d.push(P),m++}return{arrayValue:{values:d}}}(i,e)}return function(n,o){if(null===(n=(0,Ke.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return kd(o.wt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const d=mi.fromDate(n);return{timestampValue:Yl(o.wt,d)}}if(n instanceof mi){const d=new mi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yl(o.wt,d)}}if(n instanceof Pm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ql)return{bytesValue:Eo(o.wt,n._byteString)};if(n instanceof Ks){const d=o.databaseId,m=n.firestore._databaseId;if(!m.isEqual(d))throw o.oa(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:od(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.oa(`Unsupported field value: ${_h(n)}`)}(i,e)}function fy(i,e){const n={};return ir(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tr(i,(o,d)=>{const m=_u(d,e.ea(o));null!=m&&(n[o]=m)}),{mapValue:{fields:n}}}function py(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof mi||i instanceof Pm||i instanceof Ql||i instanceof Ks||i instanceof pf)}function Nm(i,e,n){if(!py(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=_h(n);throw e.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function km(i,e,n){if((e=(0,Ke.m9)(e))instanceof Gc)return e._internalPath;if("string"==typeof e)return xg(i,e);throw Rg("Field path arguments must be of type string or ",i,!1,void 0,n)}const lv=new RegExp("[~\\*/\\[\\]]");function xg(i,e,n){if(e.search(lv)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Gc(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Rg(i,e,n,o,d){const m=o&&!o.isEmpty(),w=void 0!==d;let P=`Function ${e}() called with invalid data`;n&&(P+=" (via `toFirestore()`)"),P+=". ";let Y="";return(m||w)&&(Y+=" (found",m&&(Y+=` in field ${o}`),w&&(Y+=` in document ${d}`),Y+=")"),new tn(Ot.INVALID_ARGUMENT,P+i+Y)}function gy(i,e){return i.some(n=>n.isEqual(e))}class bp{constructor(e,n,o,d,m){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=d,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Ks(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new my(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class my extends bp{data(){return super.data()}}function Fm(i,e){return"string"==typeof e?xg(i,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}class Dp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bh extends bp{constructor(e,n,o,d,m,w){super(e,n,o,d,w),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Og(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Fm("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Og extends bh{data(e={}){return super.data(e)}}class Dh{constructor(e,n,o,d){this._firestore=e,this._userDataWriter=n,this._snapshot=d,this.metadata=new Dp(d.hasPendingWrites,d.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Og(this._firestore,this._userDataWriter,o.key,o,new Dp(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new tn(Ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,d){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(w=>({type:"added",doc:new Og(o._firestore,o._userDataWriter,w.doc.key,w.doc,new Dp(o._snapshot.mutatedKeys.has(w.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:m++}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(w=>d||3!==w.type).map(w=>{const P=new Og(o._firestore,o._userDataWriter,w.doc.key,w.doc,new Dp(o._snapshot.mutatedKeys.has(w.doc.key),o._snapshot.fromCache),o.query.converter);let Y=-1,ee=-1;return 0!==w.type&&(Y=m.indexOf(w.doc.key),m=m.delete(w.doc.key)),1!==w.type&&(m=m.add(w.doc),ee=m.indexOf(w.doc.key)),{type:p0(w.type),doc:P,oldIndex:Y,newIndex:ee}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dn()}}function uv(i,e){return i instanceof bh&&e instanceof bh?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Dh&&e instanceof Dh&&i._firestore===e._firestore&&iv(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function a_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new tn(Ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}function Ch(i,...e){for(const n of e)i=n._apply(i);return i}class l_ extends Pg{constructor(e,n,o){super(),this.fa=e,this.da=n,this._a=o,this.type="where"}_apply(e){const n=zc(e.firestore),o=function(d,m,w,P,Y,ee,_e){let it;if(Y.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new tn(Ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){Bg(_e,ee);const en=[];for(const un of _e)en.push(Lm(P,d,un));it={arrayValue:{values:en}}}else it=Lm(P,d,_e)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||Bg(_e,ee),it=vf(w,"where",_e,"in"===ee||"not-in"===ee);const Rt=qo.create(Y,ee,it);return function(en,un){if(un.ht()){const dr=Xc(en);if(null!==dr&&!dr.isEqual(un.field))throw new tn(Ot.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${dr.toString()}' and '${un.field.toString()}'`);const cs=Lo(en);null!==cs&&$g(0,un.field,cs)}const Kn=function(dr,cs){for(const to of dr.filters)if(cs.indexOf(to.op)>=0)return to.op;return null}(en,function(dr){switch(dr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(un.op));if(null!==Kn)throw new tn(Ot.INVALID_ARGUMENT,Kn===un.op?`Invalid query. You cannot use more than one '${un.op.toString()}' filter.`:`Invalid query. You cannot use '${un.op.toString()}' filters with '${Kn.toString()}' filters.`)}(d,Rt),Rt}(e._query,0,n,e.firestore._databaseId,this.fa,this.da,this._a);return new Xa(e.firestore,e.converter,function(d,m){const w=d.filters.concat([m]);return new Ma(d.path,d.collectionGroup,d.explicitOrderBy.slice(),w,d.limit,d.limitType,d.startAt,d.endAt)}(e._query,o))}}class Ng extends Pg{constructor(e,n){super(),this.fa=e,this.wa=n,this.type="orderBy"}_apply(e){const n=function(o,d,m){if(null!==o.startAt)throw new tn(Ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new tn(Ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new la(d,m);return function(P,Y){if(null===Lo(P)){const ee=Xc(P);null!==ee&&$g(0,ee,Y.field)}}(o,w),w}(e._query,this.fa,this.wa);return new Xa(e.firestore,e.converter,function(o,d){const m=o.explicitOrderBy.concat([d]);return new Ma(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}class kg extends Pg{constructor(e,n,o){super(),this.type=e,this.ma=n,this.ga=o}_apply(e){return new Xa(e.firestore,e.converter,Od(e._query,this.ma,this.ga))}}class _y extends Pg{constructor(e,n,o){super(),this.type=e,this.ya=n,this.pa=o}_apply(e){const n=hv(e,this.type,this.ya,this.pa);return new Xa(e.firestore,e.converter,(d=n,new Ma((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,d,o.endAt)));var o,d}}class dv extends Pg{constructor(e,n,o){super(),this.type=e,this.ya=n,this.pa=o}_apply(e){const n=hv(e,this.type,this.ya,this.pa);return new Xa(e.firestore,e.converter,(d=n,new Ma((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,d)));var o,d}}function hv(i,e,n,o){if(n[0]=(0,Ke.m9)(n[0]),n[0]instanceof bp)return function(d,m,w,P,Y){if(!P)throw new tn(Ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const ee=[];for(const _e of au(d))if(_e.field.isKeyField())ee.push(qi(m,P.key));else{const it=P.data.field(_e.field);if(Yc(it))throw new tn(Ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_e.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===it){const Rt=_e.field.canonicalString();throw new tn(Ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Rt}' (used as the orderBy) does not exist.`)}ee.push(it)}return new ao(ee,Y)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const d=zc(i.firestore);return function(m,w,P,Y,ee,_e){const it=m.explicitOrderBy;if(ee.length>it.length)throw new tn(Ot.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Rt=[];for(let en=0;en<ee.length;en++){const un=ee[en];if(it[en].field.isKeyField()){if("string"!=typeof un)throw new tn(Ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof un}`);if(!Vl(m)&&-1!==un.indexOf("/"))throw new tn(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${un}' contains a slash.`);const Kn=m.path.child(Ur.fromString(un));if(!bn.isDocumentKey(Kn))throw new tn(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${Kn}' is not because it contains an odd number of segments.`);const dr=new bn(Kn);Rt.push(qi(w,dr))}else{const Kn=vf(P,Y,un);Rt.push(Kn)}}return new ao(Rt,_e)}(i._query,i.firestore._databaseId,d,e,n,o)}}function Lm(i,e,n){if("string"==typeof(n=(0,Ke.m9)(n))){if(""===n)throw new tn(Ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vl(e)&&-1!==n.indexOf("/"))throw new tn(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Ur.fromString(n));if(!bn.isDocumentKey(o))throw new tn(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return qi(i,new bn(o))}if(n instanceof Ks)return qi(i,n._key);throw new tn(Ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(n)}.`)}function Bg(i,e){if(!Array.isArray(i)||0===i.length)throw new tn(Ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new tn(Ot.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $g(i,e,n){if(!n.isEqual(e))throw new tn(Ot.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const g0={maxAttempts:5};class Ey{convertValue(e,n="none"){switch(At(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw dn()}}convertObject(e,n){const o={};return tr(e.fields,(d,m)=>{o[d]=this.convertValue(m,n)}),o}convertGeoPoint(e){return new Pm(vi(e.latitude),vi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Du(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=_o(e);return new mi(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Ur.fromString(e);hr(jd(o));const d=new ws(o.get(1),o.get(3)),m=new bn(o.popFirst(5));return d.isEqual(n)||gi(`Document ${m} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),m}}function Bm(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Iy extends Ey{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ks(this.firestore,null,n)}}class fv{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zc(e)}set(e,n,o){this._verifyNotCommitted();const d=Dd(e,this._firestore),m=Bm(d.converter,n,o),w=_l(this._dataReader,"WriteBatch.set",d._key,m,null!==d.converter,o);return this._mutations.push(w.toMutation(d._key,ks.none())),this}update(e,n,o,...d){this._verifyNotCommitted();const m=Dd(e,this._firestore);let w;return w="string"==typeof(n=(0,Ke.m9)(n))||n instanceof Gc?wh(this._dataReader,"WriteBatch.update",m._key,n,o,d):Ih(this._dataReader,"WriteBatch.update",m._key,n),this._mutations.push(w.toMutation(m._key,ks.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Dd(e,this._firestore);return this._mutations=this._mutations.concat(new Zo(n._key,ks.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tn(Ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dd(i,e){if((i=(0,Ke.m9)(i)).firestore!==e)throw new tn(Ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class _f extends Ey{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ks(this.firestore,null,n)}}function yv(i,e,n){i=Ti(i,Ks);const o=Ti(i.firestore,ho),d=Bm(i.converter,e,n);return Cd(o,[_l(zc(o),"setDoc",i._key,d,null!==i.converter,n).toMutation(i._key,ks.none())])}function wy(i,e,n,...o){i=Ti(i,Ks);const d=Ti(i.firestore,ho),m=zc(d);let w;return w="string"==typeof(e=(0,Ke.m9)(e))||e instanceof Gc?wh(m,"updateDoc",i._key,e,n,o):Ih(m,"updateDoc",i._key,e),Cd(d,[w.toMutation(i._key,ks.exists(!0))])}function vv(i,...e){var n,o,d;i=(0,Ke.m9)(i);let m={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||dy(e[w])||(m=e[w],w++);const P={includeMetadataChanges:m.includeMetadataChanges};if(dy(e[w])){const it=e[w];e[w]=null===(n=it.next)||void 0===n?void 0:n.bind(it),e[w+1]=null===(o=it.error)||void 0===o?void 0:o.bind(it),e[w+2]=null===(d=it.complete)||void 0===d?void 0:d.bind(it)}let Y,ee,_e;if(i instanceof Ks)ee=Ti(i.firestore,ho),_e=Au(i._key.path),Y={next:it=>{e[w]&&e[w](Vg(ee,i,it))},error:e[w+1],complete:e[w+2]};else{const it=Ti(i,Xa);ee=Ti(it.firestore,ho),_e=it._query;const Rt=new _f(ee);Y={next:en=>{e[w]&&e[w](new Dh(ee,Rt,it,en))},error:e[w+1],complete:e[w+2]},a_(i._query)}return function(it,Rt,en,un){const Kn=new ff(un),dr=new Lc(Rt,Kn,en);return it.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Xl(yield le(it),dr)})),()=>{Kn.Tc(),it.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return _m(yield le(it),dr)}))}}(Qo(ee),_e,P,Y)}function Cd(i,e){return function(n,o){const d=new ci;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function vg(i,e,n){return ap.apply(this,arguments)}(yield J(n),o,d)})),d.promise}(Qo(i),e)}function Vg(i,e,n){const o=n.docs.get(e._key),d=new _f(i);return new bh(i,d,e._key,o,new Dp(n.hasPendingWrites,n.fromCache),e.converter)}class _v extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=zc(e)}get(e){const n=Dd(e,this._firestore),o=new Iy(this._firestore);return this._transaction.lookup([n._key]).then(d=>{if(!d||1!==d.length)return dn();const m=d[0];if(m.isFoundDocument())return new bp(this._firestore,o,m.key,m,n.converter);if(m.isNoDocument())return new bp(this._firestore,o,n._key,null,n.converter);throw dn()})}set(e,n,o){const d=Dd(e,this._firestore),m=Bm(d.converter,n,o),w=_l(this._dataReader,"Transaction.set",d._key,m,null!==d.converter,o);return this._transaction.set(d._key,w),this}update(e,n,o,...d){const m=Dd(e,this._firestore);let w;return w="string"==typeof(n=(0,Ke.m9)(n))||n instanceof Gc?wh(this._dataReader,"Transaction.update",m._key,n,o,d):Ih(this._dataReader,"Transaction.update",m._key,n),this._transaction.update(m._key,w),this}delete(e){const n=Dd(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Dd(e,this._firestore),o=new _f(this._firestore);return super.get(e).then(d=>new bh(this._firestore,o,n._key,d._document,new Dp(!1,!1),n.converter))}}function Vm(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tn("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Um(){if(typeof Uint8Array>"u")throw new tn("unimplemented","Uint8Arrays are not available in this environment.")}function My(){if(!function Sl(){return typeof atob<"u"}())throw new tn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Hs=Q.SDK_VERSION,(0,Q._registerComponent)(new rt.wA("firestore",(n,{options:o})=>{const d=n.getProvider("app").getImmediate(),m=new ho(d,new Md(n.getProvider("auth-internal")),new Go(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),m._setSettings(o),m},"PUBLIC")),(0,Q.registerVersion)(Ss,"3.4.13",i),(0,Q.registerVersion)(Ss,"3.4.13","esm2017")}();class Ug{constructor(e){this._delegate=e}static fromBase64String(e){return My(),new Ug(Ql.fromBase64String(e))}static fromUint8Array(e){return Um(),new Ug(Ql.fromUint8Array(e))}toBase64(){return My(),this._delegate.toBase64()}toUint8Array(){return Um(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jm(i){return function wv(i,e){if("object"!=typeof i||null===i)return!1;const n=i;for(const o of e)if(o in n&&"function"==typeof n[o])return!0;return!1}(i,["next","error","complete"])}class bv{enableIndexedDbPersistence(e,n){return function Xv(i,e){s_(i=Ti(i,ho));const n=Qo(i),o=i._freezeSettings(),d=new hp;return ov(n,d,new Mm(d,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Qv(i){s_(i=Ti(i,ho));const e=Qo(i),n=i._freezeSettings(),o=new hp;return ov(e,o,new dp(o,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Jv(i){if(i._initialized&&!i._terminated)throw new tn(Ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(n=(0,ye.Z)(function*(o){if(!S.V())return Promise.resolve();const d=o+"main";yield S.delete(d)}),function(o){return n.apply(this,arguments)})(Wh(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class xy{constructor(e,n,o){this._delegate=n,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof ws||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ua("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,o={}){!function nv(i,e,n,o={}){var d;const m=(i=Ti(i,Mg))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&Ua("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let w,P;if("string"==typeof o.mockUserToken)w=o.mockUserToken,P=Ci.MOCK_USER;else{w=(0,Ke.Sg)(o.mockUserToken,null===(d=i._app)||void 0===d?void 0:d.options.projectId);const Y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Y)throw new tn(Ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new Ci(Y)}i._authCredentials=new Kc(new ja(w,P))}}(this._delegate,e,n,o)}enableNetwork(){return function t_(i){return function pt(i){return i.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield E(i),n=yield B(i);return e.setNetworkEnabled(!0),function(o){const d=mn(o);return d.lu.delete(0),ah(d)}(n)}))}(Qo(i=Ti(i,ho)))}(this._delegate)}disableNetwork(){return function n_(i){return function Dt(i){return i.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield E(i),n=yield B(i);return e.setNetworkEnabled(!1),(o=(0,ye.Z)(function*(d){const m=mn(d);m.lu.add(0),yield md(m),m._u.set("Offline")}),function(d){return o.apply(this,arguments)})(n);var o}))}(Qo(i=Ti(i,ho)))}(this._delegate)}enablePersistence(e){let n=!1,o=!1;return e&&(n=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,vu("synchronizeTabs",n,"experimentalForceOwningTab",o)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function e_(i){return function(e){const n=new ci;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function ph(i,e){return uf.apply(this,arguments)}(yield J(e),n)})),n.promise}(Qo(i=Ti(i,ho)))}(this._delegate)}onSnapshotsInSync(e){return function $m(i,e){return function oi(i,e){const n=new ff(e);return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return o=yield le(i),d=n,mn(o).Tu.add(d),void d.next();var o,d})),()=>{n.Tc(),i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return o=yield le(i),d=n,void mn(o).Tu.delete(d);var o,d}))}}(Qo(i=Ti(i,ho)),dy(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new tn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new eu(this,vp(this._delegate,e))}catch(n){throw Qa(n,"collection()","Firestore.collection()")}}doc(e){try{return new Jl(this,cy(this._delegate,e))}catch(n){throw Qa(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ja(this,function Wv(i,e){if(i=Ti(i,Mg),jc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tn(Ot.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xa(i,null,(n=e,new Ma(Ur.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw Qa(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function g_(i,e,n){i=Ti(i,ho);const o=Object.assign(Object.assign({},g0),n);return function(d){if(d.maxAttempts<1)throw new tn(Ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function Mo(i,e,n){const o=new ci;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const d=yield(m=i,l(m).then(w=>w.datastore));var m;new xm(i.asyncQueue,d,n,e,o).run()})),o.promise}(Qo(i),d=>e(new _v(i,d)),o)}(this._delegate,n=>e(new Ry(this,n)))}batch(){return Qo(this._delegate),new Oy(new fv(this._delegate,e=>Cd(this._delegate,e)))}loadBundle(e){return function av(i,e){const n=Qo(i=Ti(i,ho)),o=new Yv;return function eo(i,e,n,o){const d=function(m,w){let P;return P="string"==typeof m?(new TextEncoder).encode(m):m,Y=function(Y,ee){if(Y instanceof Uint8Array)return Sg(Y,void 0);if(Y instanceof ArrayBuffer)return Sg(new Uint8Array(Y),void 0);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new yu(Y,w);var Y}(n,pu(e));i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function uy(i,e,n){const o=mn(i);var d;(d=(0,ye.Z)(function*(m,w,P){try{const Y=yield w.getMetadata();if(yield function(Rt,en){const un=mn(Rt),Kn=Js(en.createTime);return un.persistence.runTransaction("hasNewerBundle","readonly",dr=>un.Ds.getBundleMetadata(dr,en.id)).then(dr=>!!dr&&dr.createTime.compareTo(Kn)>=0)}(m.localStore,Y))return yield w.close(),P._completeWith({taskState:"Success",documentsLoaded:(Rt=Y).totalDocuments,bytesLoaded:Rt.totalBytes,totalDocuments:Rt.totalDocuments,totalBytes:Rt.totalBytes}),Promise.resolve(new Set);P._updateProgress(hg(Y));const ee=new sf(Y,m.localStore,w.wt);let _e=yield w.fc();for(;_e;){const Rt=yield ee.Nu(_e);Rt&&P._updateProgress(Rt),_e=yield w.fc()}const it=yield ee.complete();return yield qu(m,it.Mu,void 0),yield function(Rt,en){const un=mn(Rt);return un.persistence.runTransaction("Save bundle","readwrite",Kn=>un.Ds.saveBundleMetadata(Kn,en))}(m.localStore,Y),P._completeWith(it.progress),Promise.resolve(it.Ou)}catch(Y){return Ua("SyncEngine",`Loading bundle failed with ${Y}`),P._failWith(Y),Promise.resolve(new Set)}var Rt}),function(m,w,P){return d.apply(this,arguments)})(o,e,n).then(d=>{o.sharedClientState.notifyBundleLoaded(d)})}(yield J(i),d,o)}))}(n,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function i_(i,e){return function xs(i,e){return i.asyncQueue.enqueue((0,ye.Z)(function*(){return function(n,o){const d=mn(n);return d.persistence.runTransaction("Get named query","readonly",m=>d.Ds.getNamedQuery(m,o))}(yield A(i),e)}))}(Qo(i=Ti(i,ho)),e).then(n=>n?new Xa(i,null,n.query):null)}(this._delegate,e).then(n=>n?new Ja(this,n):null)}}class Hm extends Ey{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ug(new Ql(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Jl.forKey(n,this.firestore,null)}}class Ry{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Hm(e)}get(e){const n=Ef(e);return this._delegate.get(n).then(o=>new Cp(this._firestore,new bh(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,n.converter)))}set(e,n,o){const d=Ef(e);return o?(Vm("Transaction.set",o),this._delegate.set(d,n,o)):this._delegate.set(d,n),this}update(e,n,o,...d){const m=Ef(e);return 2===arguments.length?this._delegate.update(m,n):this._delegate.update(m,n,o,...d),this}delete(e){const n=Ef(e);return this._delegate.delete(n),this}}class Oy{constructor(e){this._delegate=e}set(e,n,o){const d=Ef(e);return o?(Vm("WriteBatch.set",o),this._delegate.set(d,n,o)):this._delegate.set(d,n),this}update(e,n,o,...d){const m=Ef(e);return 2===arguments.length?this._delegate.update(m,n):this._delegate.update(m,n,o,...d),this}delete(e){const n=Ef(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Td{constructor(e,n,o){this._firestore=e,this._userDataWriter=n,this._delegate=o}fromFirestore(e,n){const o=new Og(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tp(this._firestore,o),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const o=Td.INSTANCES;let d=o.get(e);d||(d=new WeakMap,o.set(e,d));let m=d.get(n);return m||(m=new Td(e,new Hm(e),n),d.set(n,m)),m}}Td.INSTANCES=new WeakMap;class Jl{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Hm(e)}static forPath(e,n,o){if(e.length%2!=0)throw new tn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Jl(n,new Ks(n._delegate,o,new bn(e)))}static forKey(e,n,o){return new Jl(n,new Ks(n._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new eu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new eu(this.firestore,vp(this._delegate,e))}catch(n){throw Qa(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ke.m9)(e))instanceof Ks&&rv(this._delegate,e)}set(e,n){n=Vm("DocumentReference.set",n);try{return n?yv(this._delegate,e,n):yv(this._delegate,e)}catch(o){throw Qa(o,"setDoc()","DocumentReference.set()")}}update(e,n,...o){try{return 1===arguments.length?wy(this._delegate,e):wy(this._delegate,e,n,...o)}catch(d){throw Qa(d,"updateDoc()","DocumentReference.update()")}}delete(){return function by(i){return Cd(Ti(i.firestore,ho),[new Zo(i._key,ks.none())])}(this._delegate)}onSnapshot(...e){const n=Py(e),o=Ny(e,d=>new Cp(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return vv(this._delegate,n,o)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function pv(i){i=Ti(i,Ks);const e=Ti(i.firestore,ho),n=Qo(e),o=new _f(e);return function Yt(i,e){const n=new ci;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(o=(0,ye.Z)(function*(d,m,w){try{const P=yield function(Y,ee){const _e=mn(Y);return _e.persistence.runTransaction("read document","readonly",it=>_e.localDocuments.getDocument(it,ee))}(d,m);P.isFoundDocument()?w.resolve(P):P.isNoDocument()?w.resolve(null):w.reject(new tn(Ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const Y=nf(P,`Failed to get document '${m} from cache`);w.reject(Y)}}),function(d,m,w){return o.apply(this,arguments)})(yield A(i),e,n);var o})),n.promise}(n,i._key).then(d=>new bh(e,o,i._key,d,new Dp(null!==d&&d.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function gv(i){i=Ti(i,Ks);const e=Ti(i.firestore,ho);return Sn(Qo(e),i._key,{source:"server"}).then(n=>Vg(e,i,n))}(this._delegate):function h_(i){i=Ti(i,Ks);const e=Ti(i.firestore,ho);return Sn(Qo(e),i._key).then(n=>Vg(e,i,n))}(this._delegate),n.then(o=>new Cp(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Jl(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Qa(i,e,n){return i.message=i.message.replace(e,n),i}function Py(i){for(const e of i)if("object"==typeof e&&!jm(e))return e;return{}}function Ny(i,e){var n,o;let d;return d=jm(i[0])?i[0]:jm(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:m=>{d.next&&d.next(e(m))},error:null===(n=d.error)||void 0===n?void 0:n.bind(d),complete:null===(o=d.complete)||void 0===o?void 0:o.bind(d)}}class Cp{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Jl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return uv(this._delegate,e._delegate)}}class Tp extends Cp{data(e){const n=this._delegate.data(e);return function su(i,e){i||dn()}(void 0!==n),n}}class Ja{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Hm(e)}where(e,n,o){try{return new Ja(this.firestore,Ch(this._delegate,function yy(i,e,n){const o=e,d=Fm("where",i);return new l_(d,o,n)}(e,n,o)))}catch(d){throw Qa(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Ja(this.firestore,Ch(this._delegate,function vy(i,e="asc"){const n=e,o=Fm("orderBy",i);return new Ng(o,n)}(e,n)))}catch(o){throw Qa(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ja(this.firestore,Ch(this._delegate,function cv(i){return tv("limit",i),new kg("limit",i,"F")}(e)))}catch(n){throw Qa(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Ja(this.firestore,Ch(this._delegate,function Fg(i){return tv("limitToLast",i),new kg("limitToLast",i,"L")}(e)))}catch(n){throw Qa(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ja(this.firestore,Ch(this._delegate,function u_(...i){return new _y("startAt",i,!0)}(...e)))}catch(n){throw Qa(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ja(this.firestore,Ch(this._delegate,function Lg(...i){return new _y("startAfter",i,!1)}(...e)))}catch(n){throw Qa(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ja(this.firestore,Ch(this._delegate,function c_(...i){return new dv("endBefore",i,!1)}(...e)))}catch(n){throw Qa(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ja(this.firestore,Ch(this._delegate,function d_(...i){return new dv("endAt",i,!0)}(...e)))}catch(n){throw Qa(n,"endAt()","Query.endAt()")}}isEqual(e){return iv(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function f_(i){i=Ti(i,Xa);const e=Ti(i.firestore,ho),n=Qo(e),o=new _f(e);return function zn(i,e){const n=new ci;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(o=(0,ye.Z)(function*(d,m,w){try{const P=yield rh(d,m,!0),Y=new Hr(m,P.ji),ee=Y.Ku(P.documents),_e=Y.applyChanges(ee,!1);w.resolve(_e.snapshot)}catch(P){const Y=nf(P,`Failed to execute query '${m} against cache`);w.reject(Y)}}),function(d,m,w){return o.apply(this,arguments)})(yield A(i),e,n);var o})),n.promise}(n,i._query).then(d=>new Dh(e,o,i,d))}(this._delegate):"server"===(null==e?void 0:e.source)?function p_(i){i=Ti(i,Xa);const e=Ti(i.firestore,ho),n=Qo(e),o=new _f(e);return Kr(n,i._query,{source:"server"}).then(d=>new Dh(e,o,i,d))}(this._delegate):function mv(i){i=Ti(i,Xa);const e=Ti(i.firestore,ho),n=Qo(e),o=new _f(e);return a_(i._query),Kr(n,i._query).then(d=>new Dh(e,o,i,d))}(this._delegate),n.then(o=>new Sp(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const n=Py(e),o=Ny(e,d=>new Sp(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return vv(this._delegate,n,o)}withConverter(e){return new Ja(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}class Cv{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Tp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sp{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ja(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Tp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Cv(this._firestore,n))}forEach(e,n){this._delegate.forEach(o=>{e.call(n,new Tp(this._firestore,o))})}isEqual(e){return uv(this._delegate,e._delegate)}}class eu extends Ja{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Jl(this.firestore,e):null}doc(e){try{return new Jl(this.firestore,void 0===e?cy(this._delegate):cy(this._delegate,e))}catch(n){throw Qa(n,"doc()","CollectionReference.doc()")}}add(e){return function Dy(i,e){const n=Ti(i.firestore,ho),o=cy(i),d=Bm(i.converter,e);return Cd(n,[_l(zc(i.firestore),"addDoc",o._key,d,null!==i.converter,{}).toMutation(o._key,ks.exists(!1))]).then(()=>o)}(this._delegate,e).then(n=>new Jl(this.firestore,n))}isEqual(e){return rv(this._delegate,e._delegate)}withConverter(e){return new eu(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Ef(i){return Ti(i,Ks)}class ky{constructor(...e){this._delegate=new Gc(...e)}static documentId(){return new ky(us.keyField().canonicalString())}isEqual(e){return(e=(0,Ke.m9)(e))instanceof Gc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Sd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function y_(){return new Eh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Sd(e)}static delete(){const e=function m_(){return new mf("deleteField")}();return e._methodName="FieldValue.delete",new Sd(e)}static arrayUnion(...e){const n=function Cy(...i){return new Ep("arrayUnion",i)}(...e);return n._methodName="FieldValue.arrayUnion",new Sd(n)}static arrayRemove(...e){const n=function Ty(...i){return new Ip("arrayRemove",i)}(...e);return n._methodName="FieldValue.arrayRemove",new Sd(n)}static increment(e){const n=function Sy(i){return new wp("increment",i)}(e);return n._methodName="FieldValue.increment",new Sd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const If={Firestore:xy,GeoPoint:Pm,Timestamp:mi,Blob:Ug,Transaction:Ry,WriteBatch:Oy,DocumentReference:Jl,DocumentSnapshot:Cp,Query:Ja,QueryDocumentSnapshot:Tp,QuerySnapshot:Sp,CollectionReference:eu,FieldPath:ky,FieldValue:Sd,setLogLevel:function Dv(i){!function Zs(i){Es.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function __(i){(function Fy(i,e){i.INTERNAL.registerComponent(new rt.wA("firestore-compat",n=>{const o=n.getProvider("app-compat").getImmediate(),d=n.getProvider("firestore").getImmediate();return e(o,d)},"PUBLIC").setServiceProps(Object.assign({},If)))})(i,(e,n)=>new xy(e,n,new bv)),i.registerVersion("@firebase/firestore-compat","0.1.22")}(be.Z);var Wc=F(1205),y0=F(440),v0=F(127);function Tv(i,e){return function E_(i,e=y.z){return new te.y(n=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},n)}):o=i.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=o&&o()}})}(i,e)}function Ly(i,e){return Tv(i,e).pipe((0,ue.U)(n=>({payload:n,type:"query"})))}function xo(i,e){return Ly(i,e).pipe((0,ge.O)(void 0),Se(),(0,ue.U)(([n,o])=>{const d=o.payload.docChanges(),m=d.map(w=>({type:w.type,payload:w}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((w,P)=>{const Y=d.find(_e=>_e.doc.ref.isEqual(w.ref)),ee=null==n?void 0:n.payload.docs.find(_e=>_e.ref.isEqual(w.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(w.metadata)||!Y&&ee&&JSON.stringify(ee.metadata)===JSON.stringify(w.metadata)||m.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:w}})}),m}))}function By(i,e,n){return xo(i,n).pipe((0,Ne.R)((o,d)=>function I_(i,e,n){return e.forEach(o=>{n.indexOf(o.type)>-1&&(i=function Av(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return $y(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=i.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return $y(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $y(i,e.oldIndex,1)}return i}(i,o))}),i}(o,d.map(m=>m.payload),e),[]),(0,Pe.x)(),(0,ue.U)(o=>o.map(d=>({type:d.type,payload:d}))))}function $y(i,e,n,...o){const d=i.slice();return d.splice(e,n,...o),d}function Mv(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Vy{constructor(e,n,o){this.ref=e,this.query=n,this.afs=o}stateChanges(e){let n=xo(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,ue.U)(o=>o.filter(d=>e.indexOf(d.type)>-1)))),n.pipe((0,ge.O)(void 0),Se(),(0,Be.h)(([o,d])=>d.length>0||!o),(0,ue.U)(([o,d])=>d),ve.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ne.R)((n,o)=>[...n,...o],[]))}snapshotChanges(e){const n=Mv(e);return By(this.query,n,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return Ly(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(n=>n.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ve.iC)}get(e){return(0,de.D)(this.query.get(e)).pipe(ve.iC)}add(e){return this.ref.add(e)}doc(e){return new Uy(this.ref.doc(e),this.afs)}}class Uy{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const o=this.ref.collection(e),{ref:d,query:m}=jy(o,n);return new Vy(d,m,this.afs)}snapshotChanges(){return function Sv(i,e){return Tv(i,e).pipe((0,ge.O)(void 0),Se(),(0,ue.U)(([n,o])=>o.exists?null!=n&&n.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ue.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,de.D)(this.ref.get(e)).pipe(ve.iC)}}class Ap{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?xo(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(n=>n.filter(o=>e.indexOf(o.type)>-1)),(0,Be.h)(n=>n.length>0),ve.iC):xo(this.query,this.afs.schedulers.outsideAngular).pipe(ve.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ne.R)((n,o)=>[...n,...o],[]))}snapshotChanges(e){const n=Mv(e);return By(this.query,n,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return Ly(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(o=>o.payload.docs.map(d=>e.idField?Object.assign({[e.idField]:d.id},d.data()):d.data())),ve.iC)}get(e){return(0,de.D)(this.query.get(e)).pipe(ve.iC)}}const xv=new v.OlP("angularfire2.enableFirestorePersistence"),Rv=new v.OlP("angularfire2.firestore.persistenceSettings"),Ov=new v.OlP("angularfire2.firestore.settings"),w_=new v.OlP("angularfire2.firestore.use-emulator");function jy(i,e=(n=>n)){return{query:e(i),ref:i}}let b_=(()=>{class i{constructor(n,o,d,m,w,P,Y,ee,_e,it,Rt,en,un,Kn,dr,cs,to){this.schedulers=Y;const bs=(0,Ye.on)(n,P,o),Uo=_e;it&&(0,Wc.nw)(bs,P,Rt,un,Kn,dr,en,cs),[this.firestore,this.persistenceEnabled$]=(0,Ye.cc)(`${bs.name}.firestore`,"AngularFirestore",bs.name,()=>{const Rs=P.runOutsideAngular(()=>bs.firestore());if(m&&Rs.settings(m),Uo&&Rs.useEmulator(...Uo),d&&!(0,mt.PM)(w)){const wo=()=>{try{return(0,de.D)(Rs.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(Ba){return typeof console<"u"&&console.warn(Ba),(0,Ie.of)(!1)}};return[Rs,P.runOutsideAngular(wo)]}return[Rs,(0,Ie.of)(!1)]},[m,Uo,d])}collection(n,o){let d;d="string"==typeof n?this.firestore.collection(n):n;const{ref:m,query:w}=jy(d,o),P=this.schedulers.ngZone.run(()=>m);return new Vy(P,w,this)}collectionGroup(n,o){const d=o||(w=>w),m=this.firestore.collectionGroup(n);return new Ap(d(m),this)}doc(n){let o;o="string"==typeof n?this.firestore.doc(n):n;const d=this.schedulers.ngZone.run(()=>o);return new Uy(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(Ye.Dh),v.LFG(Ye.xv,8),v.LFG(xv,8),v.LFG(Ov,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(ve.HU),v.LFG(Rv,8),v.LFG(w_,8),v.LFG(Wc.zQ,8),v.LFG(Wc.Qv,8),v.LFG(Wc.L6,8),v.LFG(Wc._Q,8),v.LFG(Wc.rT,8),v.LFG(Wc.lh,8),v.LFG(Wc.f7,8),v.LFG(y0.nm,8))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Pv=(()=>{class i{constructor(){v0.Z.registerVersion("angularfire",ve.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:i,providers:[{provide:xv,useValue:!0},{provide:Rv,useValue:n}]}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:[b_]}),i})()},2011:(cn,ut,F)=>{"use strict";F.d(ut,{Dh:()=>Oe,GT:()=>ve,cc:()=>Be,hO:()=>Pe,on:()=>Se,pX:()=>Ie,xv:()=>$e});var v=F(2223),y=F(127),te=F(5813);cn=F.hmd(cn);const de=["ngOnDestroy"],Ie=(be,ye,Q,rt={})=>new Proxy(be,{get:(Ce,Ke)=>Q.runOutsideAngular(()=>{var Ue;if(be[Ke])return!(null===(Ue=null==rt?void 0:rt.spy)||void 0===Ue)&&Ue.get&&rt.spy.get(Ke,be[Ke]),be[Ke];if(de.indexOf(Ke)>-1)return()=>{};const Te=ye.toPromise().then(q=>{const He=q&&q[Ke];return"function"==typeof He?He.bind(q):He&&He.then?He.then(we=>Q.run(()=>we)):Q.run(()=>He)});return new Proxy(()=>{},{get:(q,He)=>Te[He],apply:(q,He,we)=>Te.then(yt=>{var ht;const Ge=yt&&yt(...we);return!(null===(ht=null==rt?void 0:rt.spy)||void 0===ht)&&ht.apply&&rt.spy.apply(Ke,we,Ge),Ge})})})}),ve=(be,ye)=>{ye.forEach(Q=>{Object.getOwnPropertyNames(Q.prototype||Q).forEach(rt=>{Object.defineProperty(be.prototype,rt,Object.getOwnPropertyDescriptor(Q.prototype||Q,rt))})})};class ge{constructor(ye){return ye}}const Oe=new v.OlP("angularfire2.app.options"),$e=new v.OlP("angularfire2.app.name");function Se(be,ye,Q){const Ce="object"==typeof Q&&Q||{};Ce.name=Ce.name||"string"==typeof Q&&Q||"[DEFAULT]";const Ue=y.Z.apps.filter(Te=>Te&&Te.name===Ce.name)[0]||ye.runOutsideAngular(()=>y.Z.initializeApp(be,Ce));try{JSON.stringify(be)!==JSON.stringify(Ue.options)&&ue("error",`${Ue.name} Firebase App already initialized with different options${cn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(Ue)}const ue=(be,...ye)=>{(0,v.X6Q)()&&typeof console<"u"&&console[be](...ye)},Ne={provide:ge,useFactory:Se,deps:[Oe,v.R0b,[new v.FiY,$e]]};let Pe=(()=>{class be{constructor(Q){y.Z.registerVersion("angularfire",te.q4.full,"core"),y.Z.registerVersion("angularfire",te.q4.full,"app-compat"),y.Z.registerVersion("angular",v.q4F.full,Q.toString())}static initializeApp(Q,rt){return{ngModule:be,providers:[{provide:Oe,useValue:Q},{provide:$e,useValue:rt}]}}}return be.\u0275fac=function(Q){return new(Q||be)(v.LFG(v.Lbi))},be.\u0275mod=v.oAB({type:be}),be.\u0275inj=v.cJS({providers:[Ne]}),be})();function Be(be,ye,Q,rt,Ce){const[,Ke,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===be)||[];if(Ke)return function Ye(be,ye){try{return be.toString()===ye.toString()}catch{return be===ye}}(Ce,Ue)||(ke("error",`${ye} was already initialized on the ${Q} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),ke("warn",{is:Ce,was:Ue})),Ke;{const Te=rt();return globalThis.\u0275AngularfireInstanceCache.push([be,Te,Ce]),Te}}const mt=!!cn.hot,ke=(be,...ye)=>{(0,v.X6Q)()&&typeof console<"u"&&console[be](...ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(cn,ut,F)=>{"use strict";F.d(ut,{q4:()=>ce,iC:()=>Du,fc:()=>Aa,HU:()=>Vi,vb:()=>Tl,JM:()=>Fr});var v=F(2223),y=F(5867),te=F(5861),de=F(9681),Ie=F(2090),ve=F(4859),ge=F(1877),Oe=F(8766);const $e="@firebase/installations",Se="0.5.12",ue=1e4,Ne=`w:${Se}`,Pe="FIS_v2",Be="https://firebaseinstallations.googleapis.com/v1",Ye=36e5,ye=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Q($){return $ instanceof Ie.ZR&&$.code.includes("request-failed")}function rt({projectId:$}){return`${Be}/projects/${$}/installations`}function Ce($){return{token:$.token,requestStatus:2,expiresIn:yt($.expiresIn),creationTime:Date.now()}}function Ke($,H){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,te.Z)(function*($,H){const Fe=(yield H.json()).error;return ye.create("request-failed",{requestName:$,serverCode:Fe.code,serverMessage:Fe.message,serverStatus:Fe.status})})).apply(this,arguments)}function Te({apiKey:$}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function He($){return we.apply(this,arguments)}function we(){return(we=(0,te.Z)(function*($){const H=yield $();return H.status>=500&&H.status<600?$():H})).apply(this,arguments)}function yt($){return Number($.replace("s","000"))}function Qt(){return(Qt=(0,te.Z)(function*({appConfig:$,heartbeatServiceProvider:H},{fid:ae}){const Fe=rt($),ft=Te($),At=H.getImmediate({optional:!0});if(At){const Ar=yield At.getHeartbeatsHeader();Ar&&ft.append("x-firebase-client",Ar)}const Cn={method:"POST",headers:ft,body:JSON.stringify({fid:ae,authVersion:Pe,appId:$.appId,sdkVersion:Ne})},Bn=yield He(()=>fetch(Fe,Cn));if(Bn.ok){const Ar=yield Bn.json();return{fid:Ar.fid||ae,registrationStatus:2,refreshToken:Ar.refreshToken,authToken:Ce(Ar.authToken)}}throw yield Ke("Create Installation",Bn)})).apply(this,arguments)}function dt($){return new Promise(H=>{setTimeout(H,$)})}const Me=/^[cdef][\w-]{21}$/,Ae="";function Le(){try{const $=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($),$[0]=112+$[0]%16;const ae=function qe($){return function tt($){return btoa(String.fromCharCode(...$)).replace(/\+/g,"-").replace(/\//g,"_")}($).substr(0,22)}($);return Me.test(ae)?ae:Ae}catch{return Ae}}function Et($){return`${$.appName}!${$.appId}`}const Bt=new Map;function on($,H){const ae=Et($);Mt(ae,H),function Pt($,H){const ae=function It(){return!St&&"BroadcastChannel"in self&&(St=new BroadcastChannel("[Firebase] FID Change"),St.onmessage=$=>{Mt($.data.key,$.data.fid)}),St}();ae&&ae.postMessage({key:$,fid:H}),function Ut(){0===Bt.size&&St&&(St.close(),St=null)}()}(ae,H)}function Mt($,H){const ae=Bt.get($);if(ae)for(const Fe of ae)Fe(H)}let St=null;const kt="firebase-installations-database",Zt=1,Mn="firebase-installations-store";let Ct=null;function nr(){return Ct||(Ct=(0,Oe.X3)(kt,Zt,{upgrade:($,H)=>{0===H&&$.createObjectStore(Mn)}})),Ct}function Fn($,H){return On.apply(this,arguments)}function On(){return(On=(0,te.Z)(function*($,H){const ae=Et($),ft=(yield nr()).transaction(Mn,"readwrite"),At=ft.objectStore(Mn),Xt=yield At.get(ae);return yield At.put(H,ae),yield ft.done,(!Xt||Xt.fid!==H.fid)&&on($,H.fid),H})).apply(this,arguments)}function Qn($){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,te.Z)(function*($){const H=Et($),Fe=(yield nr()).transaction(Mn,"readwrite");yield Fe.objectStore(Mn).delete(H),yield Fe.done})).apply(this,arguments)}function Yn($,H){return fr.apply(this,arguments)}function fr(){return(fr=(0,te.Z)(function*($,H){const ae=Et($),ft=(yield nr()).transaction(Mn,"readwrite"),At=ft.objectStore(Mn),Xt=yield At.get(ae),Cn=H(Xt);return void 0===Cn?yield At.delete(ae):yield At.put(Cn,ae),yield ft.done,Cn&&(!Xt||Xt.fid!==Cn.fid)&&on($,Cn.fid),Cn})).apply(this,arguments)}function Vt($){return $n.apply(this,arguments)}function $n(){return $n=(0,te.Z)(function*($){let H;const ae=yield Yn($.appConfig,Fe=>{const ft=function zr($){return vr($||{fid:Le(),registrationStatus:0})}(Fe),At=function Mr($,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(ye.create("app-offline"))};const ae={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},Fe=function Yr($,H){return Jr.apply(this,arguments)}($,ae);return{installationEntry:ae,registrationPromise:Fe}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:Gn($)}:{installationEntry:H}}($,ft);return H=At.registrationPromise,At.installationEntry});return ae.fid===Ae?{installationEntry:yield H}:{installationEntry:ae,registrationPromise:H}}),$n.apply(this,arguments)}function Jr(){return Jr=(0,te.Z)(function*($,H){try{const ae=yield function Ge($,H){return Qt.apply(this,arguments)}($,H);return Fn($.appConfig,ae)}catch(ae){throw Q(ae)&&409===ae.customData.serverCode?yield Qn($.appConfig):yield Fn($.appConfig,{fid:H.fid,registrationStatus:0}),ae}}),Jr.apply(this,arguments)}function Gn($){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,te.Z)(function*($){let H=yield yr($.appConfig);for(;1===H.registrationStatus;)yield dt(100),H=yield yr($.appConfig);if(0===H.registrationStatus){const{installationEntry:ae,registrationPromise:Fe}=yield Vt($);return Fe||ae}return H})).apply(this,arguments)}function yr($){return Yn($,H=>{if(!H)throw ye.create("installation-not-found");return vr(H)})}function vr($){return function sr($){return 1===$.registrationStatus&&$.registrationTime+ue<Date.now()}($)?{fid:$.fid,registrationStatus:0}:$}function Er(){return(Er=(0,te.Z)(function*({appConfig:$,heartbeatServiceProvider:H},ae){const Fe=function Qi($,{fid:H}){return`${rt($)}/${H}/authTokens:generate`}($,ae),ft=function q($,{refreshToken:H}){const ae=Te($);return ae.append("Authorization",function ht($){return`${Pe} ${$}`}(H)),ae}($,ae),At=H.getImmediate({optional:!0});if(At){const Ar=yield At.getHeartbeatsHeader();Ar&&ft.append("x-firebase-client",Ar)}const Cn={method:"POST",headers:ft,body:JSON.stringify({installation:{sdkVersion:Ne,appId:$.appId}})},Bn=yield He(()=>fetch(Fe,Cn));if(Bn.ok)return Ce(yield Bn.json());throw yield Ke("Generate Auth Token",Bn)})).apply(this,arguments)}function st($){return et.apply(this,arguments)}function et(){return et=(0,te.Z)(function*($,H=!1){let ae;const Fe=yield Yn($.appConfig,At=>{if(!ln(At))throw ye.create("not-registered");const Xt=At.authToken;if(!H&&function er($){return 2===$.requestStatus&&!function Tn($){const H=Date.now();return H<$.creationTime||$.creationTime+$.expiresIn<H+Ye}($)}(Xt))return At;if(1===Xt.requestStatus)return ae=function je($,H){return Qe.apply(this,arguments)}($,H),At;{if(!navigator.onLine)throw ye.create("app-offline");const Cn=function _t($){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$),{authToken:H})}(At);return ae=function $t($,H){return hn.apply(this,arguments)}($,Cn),Cn}});return ae?yield ae:Fe.authToken}),et.apply(this,arguments)}function Qe(){return(Qe=(0,te.Z)(function*($,H){let ae=yield ze($.appConfig);for(;1===ae.authToken.requestStatus;)yield dt(100),ae=yield ze($.appConfig);const Fe=ae.authToken;return 0===Fe.requestStatus?st($,H):Fe})).apply(this,arguments)}function ze($){return Yn($,H=>{if(!ln(H))throw ye.create("not-registered");return function Ve($){return 1===$.requestStatus&&$.requestTime+ue<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function hn(){return hn=(0,te.Z)(function*($,H){try{const ae=yield function Si($,H){return Er.apply(this,arguments)}($,H),Fe=Object.assign(Object.assign({},H),{authToken:ae});return yield Fn($.appConfig,Fe),ae}catch(ae){if(!Q(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const Fe=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield Fn($.appConfig,Fe)}else yield Qn($.appConfig);throw ae}}),hn.apply(this,arguments)}function ln($){return void 0!==$&&2===$.registrationStatus}function gt(){return(gt=(0,te.Z)(function*($){const H=$,{installationEntry:ae,registrationPromise:Fe}=yield Vt(H);return Fe?Fe.catch(console.error):st(H).catch(console.error),ae.fid})).apply(this,arguments)}function fn(){return fn=(0,te.Z)(function*($,H=!1){const ae=$;return yield function An($){return Un.apply(this,arguments)}(ae),(yield st(ae,H)).token}),fn.apply(this,arguments)}function Un(){return(Un=(0,te.Z)(function*($){const{registrationPromise:H}=yield Vt($);H&&(yield H)})).apply(this,arguments)}function si($){return ye.create("missing-app-config-values",{valueName:$})}const gr="installations",Pr=$=>{const H=$.getProvider("app").getImmediate(),ae=function Ei($){if(!$||!$.options)throw si("App Configuration");if(!$.name)throw si("App Name");const H=["projectId","apiKey","appId"];for(const ae of H)if(!$.options[ae])throw si(ae);return{appName:$.name,projectId:$.options.projectId,apiKey:$.options.apiKey,appId:$.options.appId}}(H);return{app:H,appConfig:ae,heartbeatServiceProvider:(0,de._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},Pi=$=>{const H=$.getProvider("app").getImmediate(),ae=(0,de._getProvider)(H,gr).getImmediate();return{getId:()=>function xe($){return gt.apply(this,arguments)}(ae),getToken:ft=>function Nt($){return fn.apply(this,arguments)}(ae,ft)}};(function Ai(){(0,de._registerComponent)(new ve.wA(gr,Pr,"PUBLIC")),(0,de._registerComponent)(new ve.wA("installations-internal",Pi,"PRIVATE"))})(),(0,de.registerVersion)($e,Se),(0,de.registerVersion)($e,Se,"esm2017");const li="@firebase/remote-config",wi=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ft{constructor(H,ae,Fe,ft){this.client=H,this.storage=ae,this.storageCache=Fe,this.logger=ft}isCachedDataFresh(H,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Fe=Date.now()-ae,ft=Fe<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${ft}.`),ft}fetch(H){var ae=this;return(0,te.Z)(function*(){const[Fe,ft]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(ft&&ae.isCachedDataFresh(H.cacheMaxAgeMillis,Fe))return ft;H.eTag=ft&&ft.eTag;const At=yield ae.client.fetch(H),Xt=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===At.status&&Xt.push(ae.storage.setLastSuccessfulFetchResponse(At)),yield Promise.all(Xt),At})()}}function En($=navigator){return $.languages&&$.languages[0]||$.language}class gn{constructor(H,ae,Fe,ft,At,Xt){this.firebaseInstallations=H,this.sdkVersion=ae,this.namespace=Fe,this.projectId=ft,this.apiKey=At,this.appId=Xt}fetch(H){var ae=this;return(0,te.Z)(function*(){var Fe,ft,At;const[Xt,Cn]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),Ar=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,wr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},or={sdk_version:ae.sdkVersion,app_instance_id:Xt,app_instance_id_token:Cn,app_id:ae.appId,language_code:En()},qi={method:"POST",headers:wr,body:JSON.stringify(or)},Ms=fetch(Ar,qi),za=new Promise((al,ou)=>{H.signal.addEventListener(()=>{const Li=new Error("The operation was aborted.");Li.name="AbortError",ou(Li)})});let il;try{yield Promise.race([Ms,za]),il=yield Ms}catch(al){let ou="fetch-client-network";throw"AbortError"===(null===(Fe=al)||void 0===Fe?void 0:Fe.name)&&(ou="fetch-timeout"),wi.create(ou,{originalErrorMessage:null===(ft=al)||void 0===ft?void 0:ft.message})}let Ko=il.status;const Wa=il.headers.get("ETag")||void 0;let sl,ol;if(200===il.status){let al;try{al=yield il.json()}catch(ou){throw wi.create("fetch-client-parse",{originalErrorMessage:null===(At=ou)||void 0===At?void 0:At.message})}sl=al.entries,ol=al.state}if("INSTANCE_STATE_UNSPECIFIED"===ol?Ko=500:"NO_CHANGE"===ol?Ko=304:("NO_TEMPLATE"===ol||"EMPTY_CONFIG"===ol)&&(sl={}),304!==Ko&&200!==Ko)throw wi.create("fetch-status",{httpStatus:Ko});return{status:Ko,eTag:Wa,config:sl}})()}}class at{constructor(H,ae){this.client=H,this.storage=ae}fetch(H){var ae=this;return(0,te.Z)(function*(){const Fe=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(H,Fe)})()}attemptFetch(H,{throttleEndTimeMillis:ae,backoffCount:Fe}){var ft=this;return(0,te.Z)(function*(){yield function Pn($,H){return new Promise((ae,Fe)=>{const ft=Math.max(H-Date.now(),0),At=setTimeout(ae,ft);$.addEventListener(()=>{clearTimeout(At),Fe(wi.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,ae);try{const At=yield ft.client.fetch(H);return yield ft.storage.deleteThrottleMetadata(),At}catch(At){if(!function Xe($){if(!($ instanceof Ie.ZR&&$.customData))return!1;const H=Number($.customData.httpStatus);return 429===H||500===H||503===H||504===H}(At))throw At;const Xt={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(Fe),backoffCount:Fe+1};return yield ft.storage.setThrottleMetadata(Xt),ft.attemptFetch(H,Xt)}})()}}class sn{constructor(H,ae,Fe,ft,At){this.app=H,this._client=ae,this._storageCache=Fe,this._storage=ft,this._logger=At,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function In($,H){var ae;const Fe=$.target.error||void 0;return wi.create(H,{originalErrorMessage:Fe&&(null===(ae=Fe)||void 0===ae?void 0:ae.message)})}const lr="app_namespace_store";class Wn{constructor(H,ae,Fe,ft=function vn(){return new Promise(($,H)=>{var ae;try{const Fe=indexedDB.open("firebase_remote_config",1);Fe.onerror=ft=>{H(In(ft,"storage-open"))},Fe.onsuccess=ft=>{$(ft.target.result)},Fe.onupgradeneeded=ft=>{0===ft.oldVersion&&ft.target.result.createObjectStore(lr,{keyPath:"compositeKey"})}}catch(Fe){H(wi.create("storage-open",{originalErrorMessage:null===(ae=Fe)||void 0===ae?void 0:ae.message}))}})}()){this.appId=H,this.appName=ae,this.namespace=Fe,this.openDbPromise=ft}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var ae=this;return(0,te.Z)(function*(){const Fe=yield ae.openDbPromise;return new Promise((ft,At)=>{var Xt;const Bn=Fe.transaction([lr],"readonly").objectStore(lr),Ar=ae.createCompositeKey(H);try{const wr=Bn.get(Ar);wr.onerror=or=>{At(In(or,"storage-get"))},wr.onsuccess=or=>{const qi=or.target.result;ft(qi?qi.value:void 0)}}catch(wr){At(wi.create("storage-get",{originalErrorMessage:null===(Xt=wr)||void 0===Xt?void 0:Xt.message}))}})})()}set(H,ae){var Fe=this;return(0,te.Z)(function*(){const ft=yield Fe.openDbPromise;return new Promise((At,Xt)=>{var Cn;const Ar=ft.transaction([lr],"readwrite").objectStore(lr),wr=Fe.createCompositeKey(H);try{const or=Ar.put({compositeKey:wr,value:ae});or.onerror=qi=>{Xt(In(qi,"storage-set"))},or.onsuccess=()=>{At()}}catch(or){Xt(wi.create("storage-set",{originalErrorMessage:null===(Cn=or)||void 0===Cn?void 0:Cn.message}))}})})()}delete(H){var ae=this;return(0,te.Z)(function*(){const Fe=yield ae.openDbPromise;return new Promise((ft,At)=>{var Xt;const Bn=Fe.transaction([lr],"readwrite").objectStore(lr),Ar=ae.createCompositeKey(H);try{const wr=Bn.delete(Ar);wr.onerror=or=>{At(In(or,"storage-delete"))},wr.onsuccess=()=>{ft()}}catch(wr){At(wi.create("storage-delete",{originalErrorMessage:null===(Xt=wr)||void 0===Xt?void 0:Xt.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class Rr{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,te.Z)(function*(){const ae=H.storage.getLastFetchStatus(),Fe=H.storage.getLastSuccessfulFetchTimestampMillis(),ft=H.storage.getActiveConfig(),At=yield ae;At&&(H.lastFetchStatus=At);const Xt=yield Fe;Xt&&(H.lastSuccessfulFetchTimestampMillis=Xt);const Cn=yield ft;Cn&&(H.activeConfig=Cn)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function fs(){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,te.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}!function ni(){(0,de._registerComponent)(new ve.wA("remote-config",function $(H,{instanceIdentifier:ae}){const Fe=H.getProvider("app").getImmediate(),ft=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wi.create("registration-window");if(!(0,Ie.hl)())throw wi.create("indexed-db-unavailable");const{projectId:At,apiKey:Xt,appId:Cn}=Fe.options;if(!At)throw wi.create("registration-project-id");if(!Xt)throw wi.create("registration-api-key");if(!Cn)throw wi.create("registration-app-id");const Bn=new Wn(Cn,Fe.name,ae=ae||"firebase"),Ar=new Rr(Bn),wr=new ge.Yd(li);wr.logLevel=ge.in.ERROR;const or=new gn(ft,de.SDK_VERSION,ae,At,Xt,Cn),qi=new at(or,Bn),Ms=new Ft(qi,Bn,Ar,wr),za=new sn(Fe,Ms,Ar,Bn,wr);return function Hi($){const H=(0,Ie.m9)($);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(za),za},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(li,"0.3.11"),(0,de.registerVersion)(li,"0.3.11","esm2017")}();const Fs="/firebase-messaging-sw.js",ss="/firebase-cloud-messaging-push-scope",jn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Is="https://fcmregistrations.googleapis.com/v1",Ls="google.c.a.c_id",Ys="google.c.a.c_l",ri="google.c.a.ts";var Mi=(()=>((Mi=Mi||{}).PUSH_RECEIVED="push-received",Mi.NOTIFICATION_CLICKED="notification-clicked",Mi))();function xi($){const H=new Uint8Array($);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bs($){const ae=($+"=".repeat((4-$.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Fe=atob(ae),ft=new Uint8Array(Fe.length);for(let At=0;At<Fe.length;++At)ft[At]=Fe.charCodeAt(At);return ft}const gs="fcm_token_details_db",Gi=5,os="fcm_token_object_Store";function ur(){return ur=(0,te.Z)(function*($){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(At=>At.name).includes(gs))return null;let H=null;return(yield(0,Oe.X3)(gs,Gi,{upgrade:(Fe=(0,te.Z)(function*(ft,At,Xt,Cn){var Bn;if(At<2||!ft.objectStoreNames.contains(os))return;const Ar=Cn.objectStore(os),wr=yield Ar.index("fcmSenderId").get($);if(yield Ar.clear(),wr)if(2===At){const or=wr;if(!or.auth||!or.p256dh||!or.endpoint)return;H={token:or.fcmToken,createTime:null!==(Bn=or.createTime)&&void 0!==Bn?Bn:Date.now(),subscriptionOptions:{auth:or.auth,p256dh:or.p256dh,endpoint:or.endpoint,swScope:or.swScope,vapidKey:"string"==typeof or.vapidKey?or.vapidKey:xi(or.vapidKey)}}}else if(3===At){const or=wr;H={token:or.fcmToken,createTime:or.createTime,subscriptionOptions:{auth:xi(or.auth),p256dh:xi(or.p256dh),endpoint:or.endpoint,swScope:or.swScope,vapidKey:xi(or.vapidKey)}}}else if(4===At){const or=wr;H={token:or.fcmToken,createTime:or.createTime,subscriptionOptions:{auth:xi(or.auth),p256dh:xi(or.p256dh),endpoint:or.endpoint,swScope:or.swScope,vapidKey:xi(or.vapidKey)}}}}),function(At,Xt,Cn,Bn){return Fe.apply(this,arguments)})})).close(),yield(0,Oe.Lj)(gs),yield(0,Oe.Lj)("fcm_vapid_details_db"),yield(0,Oe.Lj)("undefined"),function pa($){if(!$||!$.subscriptionOptions)return!1;const{subscriptionOptions:H}=$;return"number"==typeof $.createTime&&$.createTime>0&&"string"==typeof $.token&&$.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}(H)?H:null;var Fe}),ur.apply(this,arguments)}const $s="firebase-messaging-database",Ro=1,pi="firebase-messaging-store";let Ts=null;function ms(){return Ts||(Ts=(0,Oe.X3)($s,Ro,{upgrade:($,H)=>{0===H&&$.createObjectStore(pi)}})),Ts}function ys($){return $i.apply(this,arguments)}function $i(){return $i=(0,te.Z)(function*($){const H=no($),Fe=yield(yield ms()).transaction(pi).objectStore(pi).get(H);if(Fe)return Fe;{const ft=yield function jo($){return ur.apply(this,arguments)}($.appConfig.senderId);if(ft)return yield bo($,ft),ft}}),$i.apply(this,arguments)}function bo($,H){return vs.apply(this,arguments)}function vs(){return(vs=(0,te.Z)(function*($,H){const ae=no($),ft=(yield ms()).transaction(pi,"readwrite");return yield ft.objectStore(pi).put(H,ae),yield ft.done,H})).apply(this,arguments)}function Vs(){return(Vs=(0,te.Z)(function*($){const H=no($),Fe=(yield ms()).transaction(pi,"readwrite");yield Fe.objectStore(pi).delete(H),yield Fe.done})).apply(this,arguments)}function no({appConfig:$}){return $.appId}const mr=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ri($,H){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,te.Z)(function*($,H){var ae;const Fe=yield K($),ft=G(H),At={method:"POST",headers:Fe,body:JSON.stringify(ft)};let Xt;try{Xt=yield(yield fetch(C($.appConfig),At)).json()}catch(Cn){throw mr.create("token-subscribe-failed",{errorInfo:null===(ae=Cn)||void 0===ae?void 0:ae.toString()})}if(Xt.error)throw mr.create("token-subscribe-failed",{errorInfo:Xt.error.message});if(!Xt.token)throw mr.create("token-subscribe-no-token");return Xt.token})).apply(this,arguments)}function $a(){return($a=(0,te.Z)(function*($,H){var ae;const Fe=yield K($),ft=G(H.subscriptionOptions),At={method:"PATCH",headers:Fe,body:JSON.stringify(ft)};let Xt;try{Xt=yield(yield fetch(`${C($.appConfig)}/${H.token}`,At)).json()}catch(Cn){throw mr.create("token-update-failed",{errorInfo:null===(ae=Cn)||void 0===ae?void 0:ae.toString()})}if(Xt.error)throw mr.create("token-update-failed",{errorInfo:Xt.error.message});if(!Xt.token)throw mr.create("token-update-no-token");return Xt.token})).apply(this,arguments)}function ba($,H){return Da.apply(this,arguments)}function Da(){return(Da=(0,te.Z)(function*($,H){var ae;const ft={method:"DELETE",headers:yield K($)};try{const Xt=yield(yield fetch(`${C($.appConfig)}/${H}`,ft)).json();if(Xt.error)throw mr.create("token-unsubscribe-failed",{errorInfo:Xt.error.message})}catch(At){throw mr.create("token-unsubscribe-failed",{errorInfo:null===(ae=At)||void 0===ae?void 0:ae.toString()})}})).apply(this,arguments)}function C({projectId:$}){return`${Is}/projects/${$}/registrations`}function K($){return T.apply(this,arguments)}function T(){return(T=(0,te.Z)(function*({appConfig:$,installations:H}){const ae=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function G({p256dh:$,auth:H,endpoint:ae,vapidKey:Fe}){const ft={web:{endpoint:ae,auth:H,p256dh:$}};return Fe!==jn&&(ft.web.applicationPubKey=Fe),ft}const fe=6048e5;function kn(){return kn=(0,te.Z)(function*($){const H=yield function ro($,H){return Qr.apply(this,arguments)}($.swRegistration,$.vapidKey),ae={vapidKey:$.vapidKey,swScope:$.swRegistration.scope,endpoint:H.endpoint,auth:xi(H.getKey("auth")),p256dh:xi(H.getKey("p256dh"))},Fe=yield ys($.firebaseDependencies);if(Fe){if(function Po($,H){return H.vapidKey===$.vapidKey&&H.endpoint===$.endpoint&&H.auth===$.auth&&H.p256dh===$.p256dh}(Fe.subscriptionOptions,ae))return Date.now()>=Fe.createTime+fe?function Lr($,H){return zi.apply(this,arguments)}($,{token:Fe.token,createTime:Date.now(),subscriptionOptions:ae}):Fe.token;try{yield ba($.firebaseDependencies,Fe.token)}catch(ft){console.warn(ft)}return Do($.firebaseDependencies,ae)}return Do($.firebaseDependencies,ae)}),kn.apply(this,arguments)}function Dr(){return Dr=(0,te.Z)(function*($){const H=yield ys($.firebaseDependencies);H&&(yield ba($.firebaseDependencies,H.token),yield function Sr($){return Vs.apply(this,arguments)}($.firebaseDependencies));const ae=yield $.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()}),Dr.apply(this,arguments)}function zi(){return zi=(0,te.Z)(function*($,H){try{const ae=yield function Oo($,H){return $a.apply(this,arguments)}($.firebaseDependencies,H),Fe=Object.assign(Object.assign({},H),{token:ae,createTime:Date.now()});return yield bo($.firebaseDependencies,Fe),ae}catch(ae){throw yield function Jn($){return Dr.apply(this,arguments)}($),ae}}),zi.apply(this,arguments)}function Do($,H){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,te.Z)(function*($,H){const Fe={token:yield Ri($,H),createTime:Date.now(),subscriptionOptions:H};return yield bo($,Fe),Fe.token})).apply(this,arguments)}function Qr(){return(Qr=(0,te.Z)(function*($,H){return(yield $.pushManager.getSubscription())||$.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bs(H)})})).apply(this,arguments)}function j($){const H={from:$.from,collapseKey:$.collapse_key,messageId:$.fcmMessageId};return function U($,H){if(!H.notification)return;$.notification={};const ae=H.notification.title;ae&&($.notification.title=ae);const Fe=H.notification.body;Fe&&($.notification.body=Fe);const ft=H.notification.image;ft&&($.notification.image=ft)}(H,$),function L($,H){H.data&&($.data=H.data)}(H,$),function ie($,H){var ae,Fe,ft,At,Xt;if(!(H.fcmOptions||null!==(ae=H.notification)&&void 0!==ae&&ae.click_action))return;$.fcmOptions={};const Cn=null!==(ft=null===(Fe=H.fcmOptions)||void 0===Fe?void 0:Fe.link)&&void 0!==ft?ft:null===(At=H.notification)||void 0===At?void 0:At.click_action;Cn&&($.fcmOptions.link=Cn);const Bn=null===(Xt=H.fcmOptions)||void 0===Xt?void 0:Xt.analytics_label;Bn&&($.fcmOptions.analyticsLabel=Bn)}(H,$),H}function wn($,H){const ae=[];for(let Fe=0;Fe<$.length;Fe++)ae.push($.charAt(Fe)),Fe<H.length&&ae.push(H.charAt(Fe));return ae.join("")}function as($){return mr.create("missing-app-config-values",{valueName:$})}wn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ea{constructor(H,ae,Fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ft=function ti($){if(!$||!$.options)throw as("App Configuration Object");if(!$.name)throw as("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=$;for(const Fe of H)if(!ae[Fe])throw as(Fe);return{appName:$.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:ft,installations:ae,analyticsProvider:Fe}}_delete(){return Promise.resolve()}}function Wi(){return(Wi=(0,te.Z)(function*($){var H;try{$.swRegistration=yield navigator.serviceWorker.register(Fs,{scope:ss}),$.swRegistration.update().catch(()=>{})}catch(ae){throw mr.create("failed-service-worker-registration",{browserErrorMessage:null===(H=ae)||void 0===H?void 0:H.message})}})).apply(this,arguments)}function ki(){return(ki=(0,te.Z)(function*($,H){if(!H&&!$.swRegistration&&(yield function Co($){return Wi.apply(this,arguments)}($)),H||!$.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw mr.create("invalid-sw-registration");$.swRegistration=H}})).apply(this,arguments)}function El(){return(El=(0,te.Z)(function*($,H){H?$.vapidKey=H:$.vapidKey||($.vapidKey=jn)})).apply(this,arguments)}function ta(){return ta=(0,te.Z)(function*($,H){if(!navigator)throw mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mr.create("permission-blocked");return yield function ui($,H){return El.apply(this,arguments)}($,null==H?void 0:H.vapidKey),yield function qs($,H){return ki.apply(this,arguments)}($,null==H?void 0:H.serviceWorkerRegistration),function Gt($){return kn.apply(this,arguments)}($)}),ta.apply(this,arguments)}function po(){return(po=(0,te.Z)(function*($,H,ae){const Fe=function tl($){switch($){case Mi.NOTIFICATION_CLICKED:return"notification_open";case Mi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(H);(yield $.firebaseDependencies.analyticsProvider.get()).logEvent(Fe,{message_id:ae[Ls],message_name:ae[Ys],message_time:ae[ri],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ma(){return ma=(0,te.Z)(function*($,H){const ae=H.data;if(!ae.isFirebaseMessaging)return;$.onMessageHandler&&ae.messageType===Mi.PUSH_RECEIVED&&("function"==typeof $.onMessageHandler?$.onMessageHandler(j(ae)):$.onMessageHandler.next(j(ae)));const Fe=ae.data;(function bt($){return"object"==typeof $&&!!$&&Ls in $})(Fe)&&"1"===Fe["google.c.a.e"]&&(yield function na($,H,ae){return po.apply(this,arguments)}($,ae.messageType,Fe))}),ma.apply(this,arguments)}const Va="@firebase/messaging",io=$=>{const H=new ea($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),$.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function ga($,H){return ma.apply(this,arguments)}(H,ae)),H},ya=$=>{const H=$.getProvider("messaging").getImmediate();return{getToken:Fe=>function el($,H){return ta.apply(this,arguments)}(H,Fe)}};function _s(){return No.apply(this,arguments)}function No(){return(No=(0,te.Z)(function*(){try{yield(0,Ie.eu)()}catch{return!1}return typeof window<"u"&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ru(){(0,de._registerComponent)(new ve.wA("messaging",io,"PUBLIC")),(0,de._registerComponent)(new ve.wA("messaging-internal",ya,"PRIVATE")),(0,de.registerVersion)(Va,"0.9.16"),(0,de.registerVersion)(Va,"0.9.16","esm2017")}();const To="analytics",Ll="firebase_id",Bl="origin",js=6e4,ko="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ts="https://www.googletagmanager.com/gtag/js",Cr=new ge.Yd("@firebase/analytics");function iu($){return Promise.all($.map(H=>H.catch(ae=>ae)))}function Z(){return(Z=(0,te.Z)(function*($,H,ae,Fe,ft,At){const Xt=Fe[ft];try{if(Xt)yield H[Xt];else{const Bn=(yield iu(ae)).find(Ar=>Ar.measurementId===ft);Bn&&(yield H[Bn.appId])}}catch(Cn){Cr.error(Cn)}$("config",ft,At)})).apply(this,arguments)}function ne(){return(ne=(0,te.Z)(function*($,H,ae,Fe,ft){try{let At=[];if(ft&&ft.send_to){let Xt=ft.send_to;Array.isArray(Xt)||(Xt=[Xt]);const Cn=yield iu(ae);for(const Bn of Xt){const Ar=Cn.find(or=>or.measurementId===Bn),wr=Ar&&H[Ar.appId];if(!wr){At=[];break}At.push(wr)}}0===At.length&&(At=Object.values(H)),yield Promise.all(At),$("event",Fe,ft||{})}catch(At){Cr.error(At)}})).apply(this,arguments)}const cr=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Br=30,Oi=new class rr{constructor(H={},ae=1e3){this.throttleMetadata=H,this.intervalMillis=ae}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,ae){this.throttleMetadata[H]=ae}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function Di($){return new Headers({Accept:"application/json","x-goog-api-key":$})}function So(){return(So=(0,te.Z)(function*($){var H;const{appId:ae,apiKey:Fe}=$,ft={method:"GET",headers:Di(Fe)},At=ko.replace("{app-id}",ae),Xt=yield fetch(At,ft);if(200!==Xt.status&&304!==Xt.status){let Cn="";try{const Bn=yield Xt.json();null!==(H=Bn.error)&&void 0!==H&&H.message&&(Cn=Bn.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:Xt.status,responseMessage:Cn})}return Xt.json()})).apply(this,arguments)}function ls(){return(ls=(0,te.Z)(function*($,H=Oi,ae){const{appId:Fe,apiKey:ft,measurementId:At}=$.options;if(!Fe)throw cr.create("no-app-id");if(!ft){if(At)return{measurementId:At,appId:Fe};throw cr.create("no-api-key")}const Xt=H.getThrottleMetadata(Fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Cn=new Iu;return setTimeout((0,te.Z)(function*(){Cn.abort()}),void 0!==ae?ae:js),Ss({appId:Fe,apiKey:ft,measurementId:At},Xt,Cn,H)})).apply(this,arguments)}function Ss($,H,ae){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,te.Z)(function*($,{throttleEndTimeMillis:H,backoffCount:ae},Fe,ft=Oi){var At,Xt;const{appId:Cn,measurementId:Bn}=$;try{yield function Hs($,H){return new Promise((ae,Fe)=>{const ft=Math.max(H-Date.now(),0),At=setTimeout(ae,ft);$.addEventListener(()=>{clearTimeout(At),Fe(cr.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(Fe,H)}catch(Ar){if(Bn)return Cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${null===(At=Ar)||void 0===At?void 0:At.message}]`),{appId:Cn,measurementId:Bn};throw Ar}try{const Ar=yield function Rn($){return So.apply(this,arguments)}($);return ft.deleteThrottleMetadata(Cn),Ar}catch(Ar){const wr=Ar;if(!function Es($){if(!($ instanceof Ie.ZR&&$.customData))return!1;const H=Number($.customData.httpStatus);return 429===H||500===H||503===H||504===H}(wr)){if(ft.deleteThrottleMetadata(Cn),Bn)return Cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${null==wr?void 0:wr.message}]`),{appId:Cn,measurementId:Bn};throw Ar}const or=503===Number(null===(Xt=null==wr?void 0:wr.customData)||void 0===Xt?void 0:Xt.httpStatus)?(0,Ie.$s)(ae,ft.intervalMillis,Br):(0,Ie.$s)(ae,ft.intervalMillis),qi={throttleEndTimeMillis:Date.now()+or,backoffCount:ae+1};return ft.setThrottleMetadata(Cn,qi),Cr.debug(`Calling attemptFetch again in ${or} millis`),Ss($,qi,Fe,ft)}}),Ci.apply(this,arguments)}class Iu{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let Zs,ci;function gi(){return(gi=(0,te.Z)(function*($,H,ae,Fe,ft){if(ft&&ft.global)$("event",ae,Fe);else{const At=yield H;$("event",ae,Object.assign(Object.assign({},Fe),{send_to:At}))}})).apply(this,arguments)}function Md(){return(Md=(0,te.Z)(function*(){var $;if(!(0,Ie.hl)())return Cr.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(H){return Cr.warn(cr.create("indexeddb-unavailable",{errorInfo:null===($=H)||void 0===$?void 0:$.toString()}).message),!1}return!0})).apply(this,arguments)}function so(){return so=(0,te.Z)(function*($,H,ae,Fe,ft,At,Xt){var Cn;const Bn=function ai($){return ls.apply(this,arguments)}($);Bn.then(Ms=>{ae[Ms.measurementId]=Ms.appId,$.options.measurementId&&Ms.measurementId!==$.options.measurementId&&Cr.warn(`The measurement ID in the local Firebase config (${$.options.measurementId}) does not match the measurement ID fetched from the server (${Ms.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ms=>Cr.error(Ms)),H.push(Bn);const Ar=function Kc(){return Md.apply(this,arguments)}().then(Ms=>{if(Ms)return Fe.getId()}),[wr,or]=yield Promise.all([Bn,Ar]);(function zt(){const $=window.document.getElementsByTagName("script");for(const H of Object.values($))if(H.src&&H.src.includes(ts))return H;return null})()||function Il($,H){const ae=document.createElement("script");ae.src=`${ts}?l=${$}&id=${H}`,ae.async=!0,document.head.appendChild(ae)}(At,wr.measurementId),ci&&(ft("consent","default",ci),function ja($){ci=$}(void 0)),ft("js",new Date);const qi=null!==(Cn=null==Xt?void 0:Xt.config)&&void 0!==Cn?Cn:{};return qi[Bl]="firebase",qi.update=!0,null!=or&&(qi[Ll]=or),ft("config",wr.measurementId,qi),Zs&&(ft("set",Zs),function Fo($){Zs=$}(void 0)),wr.measurementId}),so.apply(this,arguments)}class ia{constructor(H){this.app=H}_delete(){return delete Go[this.app.options.appId],Promise.resolve()}}let Go={},sa=[];const _a={};let yo,zo,bl="dataLayer",mi=!1;function Ur($,H,ae){!function Ha(){const $=[];if((0,Ie.ru)()&&$.push("This is a browser extension environment."),(0,Ie.zI)()||$.push("Cookies are not available."),$.length>0){const H=$.map((Fe,ft)=>`(${ft+1}) ${Fe}`).join(" "),ae=cr.create("invalid-analytics-context",{errorInfo:H});Cr.warn(ae.message)}}();const Fe=$.options.appId;if(!Fe)throw cr.create("no-app-id");if(!$.options.apiKey){if(!$.options.measurementId)throw cr.create("no-api-key");Cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${$.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Go[Fe])throw cr.create("already-exists",{id:Fe});if(!mi){!function Yi($){let H=[];Array.isArray(window[$])?H=window[$]:window[$]=H}(bl);const{wrappedGtag:At,gtagCore:Xt}=function wt($,H,ae,Fe,ft){let At=function(...Xt){window[Fe].push(arguments)};return window[ft]&&"function"==typeof window[ft]&&(At=window[ft]),window[ft]=function Re($,H,ae,Fe){function At(){return At=(0,te.Z)(function*(Xt,Cn,Bn){try{"event"===Xt?yield function V($,H,ae,Fe,ft){return ne.apply(this,arguments)}($,H,ae,Cn,Bn):"config"===Xt?yield function k($,H,ae,Fe,ft,At){return Z.apply(this,arguments)}($,H,ae,Fe,Cn,Bn):"consent"===Xt?$("consent","update",Bn):$("set",Cn)}catch(Ar){Cr.error(Ar)}}),At.apply(this,arguments)}return function ft(Xt,Cn,Bn){return At.apply(this,arguments)}}(At,$,H,ae),{gtagCore:At,wrappedGtag:window[ft]}}(Go,sa,_a,bl,"gtag");zo=At,yo=Xt,mi=!0}return Go[Fe]=function wl($,H,ae,Fe,ft,At,Xt){return so.apply(this,arguments)}($,sa,_a,H,yo,bl,ae),new ia($)}function bn(){return rl.apply(this,arguments)}function rl(){return(rl=(0,te.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}const oa="@firebase/analytics";!function tc(){(0,de._registerComponent)(new ve.wA(To,(H,{options:ae})=>Ur(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,de._registerComponent)(new ve.wA("analytics-internal",function $(H){try{const ae=H.getProvider(To).getImmediate();return{logEvent:(Fe,ft,At)=>function ec($,H,ae,Fe){$=(0,Ie.m9)($),function pn($,H,ae,Fe,ft){return gi.apply(this,arguments)}(zo,Go[$.app.options.appId],H,ae,Fe).catch(ft=>Cr.error(ft))}(ae,Fe,ft,At)}}catch(ae){throw cr.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,de.registerVersion)(oa,"0.8.0"),(0,de.registerVersion)(oa,"0.8.0","esm2017")}();var Ta=F(4408),xt=F(7565);const S=new class Ga extends xt.v{}(class bu extends Ta.o{constructor(H,ae){super(H,ae),this.scheduler=H,this.work=ae}schedule(H,ae=0){return ae>0?super.schedule(H,ae):(this.delay=ae,this.state=H,this.scheduler.flush(this),this)}execute(H,ae){return ae>0||this.closed?super.execute(H,ae):this._execute(H,ae)}requestAsyncId(H,ae,Fe=0){return null!=Fe&&Fe>0||null==Fe&&this.delay>0?super.requestAsyncId(H,ae,Fe):(H.flush(this),0)}});var b=F(4986),R=F(8505),z=F(5363),oe=F(9468);const ce=new v.GfV("7.6.1"),Je="__angularfire_symbol__analyticsIsSupportedValue",Kt="__angularfire_symbol__analyticsIsSupported",Dn="__angularfire_symbol__remoteConfigIsSupportedValue",Ln="__angularfire_symbol__remoteConfigIsSupported",Vn="__angularfire_symbol__messagingIsSupportedValue",tr="__angularfire_symbol__messagingIsSupported";function Fr($,H,ae){if(H){if(1===H.length)return H[0];const At=H.filter(Xt=>Xt.app===ae);if(1===At.length)return At[0]}return ae.container.getProvider($).getImmediate({optional:!0})}globalThis[Kt]||(globalThis[Kt]=bn().then($=>globalThis[Je]=$).catch(()=>globalThis[Je]=!1)),globalThis[tr]||(globalThis[tr]=_s().then($=>globalThis[Vn]=$).catch(()=>globalThis[Vn]=!1)),globalThis[Ln]||(globalThis[Ln]=fs().then($=>globalThis[Dn]=$).catch(()=>globalThis[Dn]=!1));const Tl=($,H)=>{const ae=H?[H]:(0,y.C6)(),Fe=[];return ae.forEach(ft=>{ft.container.getProvider($).instances.forEach(Xt=>{Fe.includes(Xt)||Fe.push(Xt)})}),Fe};function Wo(){}class Xs{constructor(H,ae=S){this.zone=H,this.delegate=ae}now(){return this.delegate.now()}schedule(H,ae,Fe){const ft=this.zone;return this.delegate.schedule(function(Xt){ft.runGuarded(()=>{H.apply(this,[Xt])})},ae,Fe)}}class Sl{constructor(H){this.zone=H,this.task=null}call(H,ae){const Fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo)),ae.pipe((0,R.b)({next:Fe,complete:Fe,error:Fe})).subscribe(H).add(Fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vi=(()=>{class ${constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new Xs(Zone.current)),this.insideAngular=ae.run(()=>new Xs(Zone.current,b.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return $.\u0275fac=function(ae){return new(ae||$)(v.LFG(v.R0b))},$.\u0275prov=v.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();function Sa(){const $=globalThis.\u0275AngularFireScheduler;if(!$)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return $}function Aa($){return $.pipe((0,z.Q)(Sa().outsideAngular))}function Du($){return Sa(),function $l($){return function(ae){return(ae=ae.lift(new Sl($.ngZone))).pipe((0,oe.R)($.outsideAngular),(0,z.Q)($.insideAngular))}}(Sa())($)}},2090:(cn,ut,F)=>{"use strict";F.d(ut,{$s:()=>sr,BH:()=>Pe,DV:()=>nn,Dv:()=>Yn,G6:()=>Te,GJ:()=>on,L:()=>Oe,LL:()=>Qt,Mn:()=>Ke,Pz:()=>Ae,Sg:()=>Be,UG:()=>ke,UI:()=>Pt,US:()=>ve,Wj:()=>$n,Yr:()=>Ue,ZB:()=>ue,ZR:()=>Ge,b$:()=>Q,cI:()=>Me,d:()=>rt,dS:()=>Mr,eu:()=>He,g5:()=>te,gK:()=>fr,gQ:()=>Ct,h$:()=>ge,hl:()=>q,hu:()=>y,jU:()=>be,lb:()=>zr,m9:()=>Qi,ne:()=>nr,p$:()=>Se,pd:()=>Mn,r3:()=>rn,ru:()=>ye,tV:()=>$e,uI:()=>mt,ug:()=>Yr,vZ:()=>St,w1:()=>Ce,w9:()=>Bt,xO:()=>kt,xb:()=>Mt,z$:()=>Ye,zI:()=>we,zd:()=>Zt});const v={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},y=function(st,et){if(!st)throw te(et)},te=function(st){return new Error("Firebase Database ("+v.SDK_VERSION+") INTERNAL ASSERT FAILED: "+st)},de=function(st){const et=[];let je=0;for(let Qe=0;Qe<st.length;Qe++){let ze=st.charCodeAt(Qe);ze<128?et[je++]=ze:ze<2048?(et[je++]=ze>>6|192,et[je++]=63&ze|128):55296==(64512&ze)&&Qe+1<st.length&&56320==(64512&st.charCodeAt(Qe+1))?(ze=65536+((1023&ze)<<10)+(1023&st.charCodeAt(++Qe)),et[je++]=ze>>18|240,et[je++]=ze>>12&63|128,et[je++]=ze>>6&63|128,et[je++]=63&ze|128):(et[je++]=ze>>12|224,et[je++]=ze>>6&63|128,et[je++]=63&ze|128)}return et},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(st,et){if(!Array.isArray(st))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=et?this.byteToCharMapWebSafe_:this.byteToCharMap_,Qe=[];for(let ze=0;ze<st.length;ze+=3){const $t=st[ze],hn=ze+1<st.length,ln=hn?st[ze+1]:0,er=ze+2<st.length,Tn=er?st[ze+2]:0;let xe=(15&ln)<<2|Tn>>6,gt=63&Tn;er||(gt=64,hn||(xe=64)),Qe.push(je[$t>>2],je[(3&$t)<<4|ln>>4],je[xe],je[gt])}return Qe.join("")},encodeString(st,et){return this.HAS_NATIVE_SUPPORT&&!et?btoa(st):this.encodeByteArray(de(st),et)},decodeString(st,et){return this.HAS_NATIVE_SUPPORT&&!et?atob(st):function(st){const et=[];let je=0,Qe=0;for(;je<st.length;){const ze=st[je++];if(ze<128)et[Qe++]=String.fromCharCode(ze);else if(ze>191&&ze<224){const $t=st[je++];et[Qe++]=String.fromCharCode((31&ze)<<6|63&$t)}else if(ze>239&&ze<365){const er=((7&ze)<<18|(63&st[je++])<<12|(63&st[je++])<<6|63&st[je++])-65536;et[Qe++]=String.fromCharCode(55296+(er>>10)),et[Qe++]=String.fromCharCode(56320+(1023&er))}else{const $t=st[je++],hn=st[je++];et[Qe++]=String.fromCharCode((15&ze)<<12|(63&$t)<<6|63&hn)}}return et.join("")}(this.decodeStringToByteArray(st,et))},decodeStringToByteArray(st,et){this.init_();const je=et?this.charToByteMapWebSafe_:this.charToByteMap_,Qe=[];for(let ze=0;ze<st.length;){const $t=je[st.charAt(ze++)],ln=ze<st.length?je[st.charAt(ze)]:0;++ze;const Tn=ze<st.length?je[st.charAt(ze)]:64;++ze;const Ve=ze<st.length?je[st.charAt(ze)]:64;if(++ze,null==$t||null==ln||null==Tn||null==Ve)throw Error();Qe.push($t<<2|ln>>4),64!==Tn&&(Qe.push(ln<<4&240|Tn>>2),64!==Ve&&Qe.push(Tn<<6&192|Ve))}return Qe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let st=0;st<this.ENCODED_VALS.length;st++)this.byteToCharMap_[st]=this.ENCODED_VALS.charAt(st),this.charToByteMap_[this.byteToCharMap_[st]]=st,this.byteToCharMapWebSafe_[st]=this.ENCODED_VALS_WEBSAFE.charAt(st),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[st]]=st,st>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(st)]=st,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(st)]=st)}}},ge=function(st){const et=de(st);return ve.encodeByteArray(et,!0)},Oe=function(st){return ge(st).replace(/\./g,"")},$e=function(st){try{return ve.decodeString(st,!0)}catch(et){console.error("base64Decode failed: ",et)}return null};function Se(st){return ue(void 0,st)}function ue(st,et){if(!(et instanceof Object))return et;switch(et.constructor){case Date:return new Date(et.getTime());case Object:void 0===st&&(st={});break;case Array:st=[];break;default:return et}for(const je in et)!et.hasOwnProperty(je)||!Ne(je)||(st[je]=ue(st[je],et[je]));return st}function Ne(st){return"__proto__"!==st}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((et,je)=>{this.resolve=et,this.reject=je})}wrapCallback(et){return(je,Qe)=>{je?this.reject(je):this.resolve(Qe),"function"==typeof et&&(this.promise.catch(()=>{}),1===et.length?et(je):et(je,Qe))}}}function Be(st,et){if(st.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Qe=et||"demo-project",ze=st.iat||0,$t=st.sub||st.user_id;if(!$t)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const hn=Object.assign({iss:`https://securetoken.google.com/${Qe}`,aud:Qe,iat:ze,exp:ze+3600,auth_time:ze,sub:$t,user_id:$t,firebase:{sign_in_provider:"custom",identities:{}}},st);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(hn)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function be(){return"object"==typeof self&&self.self===self}function ye(){const st="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof st&&void 0!==st.id}function Q(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){return Ye().indexOf("Electron/")>=0}function Ce(){const st=Ye();return st.indexOf("MSIE ")>=0||st.indexOf("Trident/")>=0}function Ke(){return Ye().indexOf("MSAppHost/")>=0}function Ue(){return!0===v.NODE_CLIENT||!0===v.NODE_ADMIN}function Te(){return!ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function He(){return new Promise((st,et)=>{try{let je=!0;const Qe="validate-browser-context-for-indexeddb-analytics-module",ze=self.indexedDB.open(Qe);ze.onsuccess=()=>{ze.result.close(),je||self.indexedDB.deleteDatabase(Qe),st(!0)},ze.onupgradeneeded=()=>{je=!1},ze.onerror=()=>{var $t;et((null===($t=ze.error)||void 0===$t?void 0:$t.message)||"")}}catch(je){et(je)}})}function we(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ge extends Error{constructor(et,je,Qe){super(je),this.code=et,this.customData=Qe,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}}class Qt{constructor(et,je,Qe){this.service=et,this.serviceName=je,this.errors=Qe}create(et,...je){const Qe=je[0]||{},ze=`${this.service}/${et}`,$t=this.errors[et],hn=$t?function dt(st,et){return st.replace(tt,(je,Qe)=>{const ze=et[Qe];return null!=ze?String(ze):`<${Qe}?>`})}($t,Qe):"Error";return new Ge(ze,`${this.serviceName}: ${hn} (${ze}).`,Qe)}}const tt=/\{\$([^}]+)}/g;function Me(st){return JSON.parse(st)}function Ae(st){return JSON.stringify(st)}const Le=function(st){let et={},je={},Qe={},ze="";try{const $t=st.split(".");et=Me($e($t[0])||""),je=Me($e($t[1])||""),ze=$t[2],Qe=je.d||{},delete je.d}catch{}return{header:et,claims:je,data:Qe,signature:ze}},Bt=function(st){const je=Le(st).claims;return!!je&&"object"==typeof je&&je.hasOwnProperty("iat")},on=function(st){const et=Le(st).claims;return"object"==typeof et&&!0===et.admin};function rn(st,et){return Object.prototype.hasOwnProperty.call(st,et)}function nn(st,et){if(Object.prototype.hasOwnProperty.call(st,et))return st[et]}function Mt(st){for(const et in st)if(Object.prototype.hasOwnProperty.call(st,et))return!1;return!0}function Pt(st,et,je){const Qe={};for(const ze in st)Object.prototype.hasOwnProperty.call(st,ze)&&(Qe[ze]=et.call(je,st[ze],ze,st));return Qe}function St(st,et){if(st===et)return!0;const je=Object.keys(st),Qe=Object.keys(et);for(const ze of je){if(!Qe.includes(ze))return!1;const $t=st[ze],hn=et[ze];if(It($t)&&It(hn)){if(!St($t,hn))return!1}else if($t!==hn)return!1}for(const ze of Qe)if(!je.includes(ze))return!1;return!0}function It(st){return null!==st&&"object"==typeof st}function kt(st){const et=[];for(const[je,Qe]of Object.entries(st))Array.isArray(Qe)?Qe.forEach(ze=>{et.push(encodeURIComponent(je)+"="+encodeURIComponent(ze))}):et.push(encodeURIComponent(je)+"="+encodeURIComponent(Qe));return et.length?"&"+et.join("&"):""}function Zt(st){const et={};return st.replace(/^\?/,"").split("&").forEach(Qe=>{if(Qe){const[ze,$t]=Qe.split("=");et[decodeURIComponent(ze)]=decodeURIComponent($t)}}),et}function Mn(st){const et=st.indexOf("?");if(!et)return"";const je=st.indexOf("#",et);return st.substring(et,je>0?je:void 0)}class Ct{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let et=1;et<this.blockSize;++et)this.pad_[et]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(et,je){je||(je=0);const Qe=this.W_;if("string"==typeof et)for(let Ve=0;Ve<16;Ve++)Qe[Ve]=et.charCodeAt(je)<<24|et.charCodeAt(je+1)<<16|et.charCodeAt(je+2)<<8|et.charCodeAt(je+3),je+=4;else for(let Ve=0;Ve<16;Ve++)Qe[Ve]=et[je]<<24|et[je+1]<<16|et[je+2]<<8|et[je+3],je+=4;for(let Ve=16;Ve<80;Ve++){const xe=Qe[Ve-3]^Qe[Ve-8]^Qe[Ve-14]^Qe[Ve-16];Qe[Ve]=4294967295&(xe<<1|xe>>>31)}let Tn,_t,ze=this.chain_[0],$t=this.chain_[1],hn=this.chain_[2],ln=this.chain_[3],er=this.chain_[4];for(let Ve=0;Ve<80;Ve++){Ve<40?Ve<20?(Tn=ln^$t&(hn^ln),_t=1518500249):(Tn=$t^hn^ln,_t=1859775393):Ve<60?(Tn=$t&hn|ln&($t|hn),_t=2400959708):(Tn=$t^hn^ln,_t=3395469782);const xe=(ze<<5|ze>>>27)+Tn+er+_t+Qe[Ve]&4294967295;er=ln,ln=hn,hn=4294967295&($t<<30|$t>>>2),$t=ze,ze=xe}this.chain_[0]=this.chain_[0]+ze&4294967295,this.chain_[1]=this.chain_[1]+$t&4294967295,this.chain_[2]=this.chain_[2]+hn&4294967295,this.chain_[3]=this.chain_[3]+ln&4294967295,this.chain_[4]=this.chain_[4]+er&4294967295}update(et,je){if(null==et)return;void 0===je&&(je=et.length);const Qe=je-this.blockSize;let ze=0;const $t=this.buf_;let hn=this.inbuf_;for(;ze<je;){if(0===hn)for(;ze<=Qe;)this.compress_(et,ze),ze+=this.blockSize;if("string"==typeof et){for(;ze<je;)if($t[hn]=et.charCodeAt(ze),++hn,++ze,hn===this.blockSize){this.compress_($t),hn=0;break}}else for(;ze<je;)if($t[hn]=et[ze],++hn,++ze,hn===this.blockSize){this.compress_($t),hn=0;break}}this.inbuf_=hn,this.total_+=je}digest(){const et=[];let je=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ze=this.blockSize-1;ze>=56;ze--)this.buf_[ze]=255&je,je/=256;this.compress_(this.buf_);let Qe=0;for(let ze=0;ze<5;ze++)for(let $t=24;$t>=0;$t-=8)et[Qe]=this.chain_[ze]>>$t&255,++Qe;return et}}function nr(st,et){const je=new Fn(st,et);return je.subscribe.bind(je)}class Fn{constructor(et,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{et(this)}).catch(Qe=>{this.error(Qe)})}next(et){this.forEachObserver(je=>{je.next(et)})}error(et){this.forEachObserver(je=>{je.error(et)}),this.close(et)}complete(){this.forEachObserver(et=>{et.complete()}),this.close()}subscribe(et,je,Qe){let ze;if(void 0===et&&void 0===je&&void 0===Qe)throw new Error("Missing Observer.");ze=function Qn(st,et){if("object"!=typeof st||null===st)return!1;for(const je of et)if(je in st&&"function"==typeof st[je])return!0;return!1}(et,["next","error","complete"])?et:{next:et,error:je,complete:Qe},void 0===ze.next&&(ze.next=Gr),void 0===ze.error&&(ze.error=Gr),void 0===ze.complete&&(ze.complete=Gr);const $t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ze.error(this.finalError):ze.complete()}catch{}}),this.observers.push(ze),$t}unsubscribeOne(et){void 0===this.observers||void 0===this.observers[et]||(delete this.observers[et],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(et){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,et)}sendOne(et,je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[et])try{je(this.observers[et])}catch(Qe){typeof console<"u"&&console.error&&console.error(Qe)}})}close(et){this.finalized||(this.finalized=!0,void 0!==et&&(this.finalError=et),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gr(){}const Yn=function(st,et,je,Qe){let ze;if(Qe<et?ze="at least "+et:Qe>je&&(ze=0===je?"none":"no more than "+je),ze)throw new Error(st+" failed: Was called with "+Qe+(1===Qe?" argument.":" arguments.")+" Expects "+ze+".")};function fr(st,et){return`${st} failed: ${et} argument `}function $n(st,et,je,Qe){if((!Qe||je)&&"function"!=typeof je)throw new Error(fr(st,et)+"must be a valid function.")}function zr(st,et,je,Qe){if((!Qe||je)&&("object"!=typeof je||null===je))throw new Error(fr(st,et)+"must be a valid context object.")}const Mr=function(st){const et=[];let je=0;for(let Qe=0;Qe<st.length;Qe++){let ze=st.charCodeAt(Qe);if(ze>=55296&&ze<=56319){const $t=ze-55296;Qe++,y(Qe<st.length,"Surrogate pair missing trail surrogate."),ze=65536+($t<<10)+(st.charCodeAt(Qe)-56320)}ze<128?et[je++]=ze:ze<2048?(et[je++]=ze>>6|192,et[je++]=63&ze|128):ze<65536?(et[je++]=ze>>12|224,et[je++]=ze>>6&63|128,et[je++]=63&ze|128):(et[je++]=ze>>18|240,et[je++]=ze>>12&63|128,et[je++]=ze>>6&63|128,et[je++]=63&ze|128)}return et},Yr=function(st){let et=0;for(let je=0;je<st.length;je++){const Qe=st.charCodeAt(je);Qe<128?et++:Qe<2048?et+=2:Qe>=55296&&Qe<=56319?(et+=4,je++):et+=3}return et},Gn=1e3,Zr=2,yr=144e5,vr=.5;function sr(st,et=Gn,je=Zr){const Qe=et*Math.pow(je,st),ze=Math.round(vr*Qe*(Math.random()-.5)*2);return Math.min(yr,Qe+ze)}function Qi(st){return st&&st._delegate?st._delegate:st}},8127:(cn,ut,F)=>{"use strict";F.d(ut,{c:()=>mt});var v=F(4110),y=F(6655);let te;const Ie=ke=>ke.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ve=ke=>(void 0===te&&(te=void 0===ke.style.animationName&&void 0!==ke.style.webkitAnimationName?"-webkit-":""),te),ge=(ke,be,ye)=>{const Q=be.startsWith("animation")?ve(ke):"";ke.style.setProperty(Q+be,ye)},Oe=(ke,be)=>{const ye=be.startsWith("animation")?ve(ke):"";ke.style.removeProperty(ye+be)},ue=[],Ye=(ke=[],be)=>{if(void 0!==be){const ye=Array.isArray(be)?be:[be];return[...ke,...ye]}return ke},mt=ke=>{let be,ye,Q,rt,Ce,Ke,we,Ae,Le,qe,Et,nn,Mt,Ue=[],Te=[],q=[],He=!1,yt={},ht=[],Ge=[],Qt={},dt=0,tt=!1,Me=!1,Bt=!0,on=!1,rn=!0,Pt=!1;const St=ke,It=[],Ut=[],kt=[],Zt=[],Mn=[],Ct=[],nr=[],Fn=[],On=[],Qn=[],Gr="function"==typeof AnimationEffect||void 0!==v.w&&"function"==typeof v.w.AnimationEffect,Yn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Gr,Vt=()=>Qn,Jr=(pe,nt)=>((null!=nt&&nt.oneTimeCallback?Ut:It).push({c:pe,o:nt}),Mt),Zr=()=>{if(Yn)Qn.forEach(pe=>{pe.cancel()}),Qn.length=0;else{const pe=kt.slice();(0,y.r)(()=>{pe.forEach(nt=>{Oe(nt,"animation-name"),Oe(nt,"animation-duration"),Oe(nt,"animation-timing-function"),Oe(nt,"animation-iteration-count"),Oe(nt,"animation-delay"),Oe(nt,"animation-play-state"),Oe(nt,"animation-fill-mode"),Oe(nt,"animation-direction")})})}},yr=()=>{Mn.forEach(pe=>{null!=pe&&pe.parentNode&&pe.parentNode.removeChild(pe)}),Mn.length=0},ln=()=>void 0!==Ce?Ce:we?we.getFill():"both",er=()=>void 0!==Le?Le:void 0!==Ke?Ke:we?we.getDirection():"normal",Tn=()=>tt?"linear":void 0!==Q?Q:we?we.getEasing():"linear",_t=()=>Me?0:void 0!==qe?qe:void 0!==ye?ye:we?we.getDuration():0,Ve=()=>void 0!==rt?rt:we?we.getIterations():1,xe=()=>void 0!==Et?Et:void 0!==be?be:we?we.getDelay():0,gr=()=>{0!==dt&&(dt--,0===dt&&((()=>{Ji(),Fn.forEach(Wt=>Wt()),On.forEach(Wt=>Wt());const pe=Bt?1:0,nt=ht,We=Ge,Tt=Qt;kt.forEach(Wt=>{const jt=Wt.classList;nt.forEach(Ft=>jt.add(Ft)),We.forEach(Ft=>jt.remove(Ft));for(const Ft in Tt)Tt.hasOwnProperty(Ft)&&ge(Wt,Ft,Tt[Ft])}),It.forEach(Wt=>Wt.c(pe,Mt)),Ut.forEach(Wt=>Wt.c(pe,Mt)),Ut.length=0,rn=!0,Bt&&(on=!0),Bt=!0})(),we&&we.animationFinish()))},Ir=(pe=!0)=>{yr();const nt=(ke=>(ke.forEach(be=>{for(const ye in be)if(be.hasOwnProperty(ye)){const Q=be[ye];if("easing"===ye)be["animation-timing-function"]=Q,delete be[ye];else{const rt=Ie(ye);rt!==ye&&(be[rt]=Q,delete be[ye])}}}),ke))(Ue);kt.forEach(We=>{if(nt.length>0){const Tt=((ke=[])=>ke.map(be=>{const ye=be.offset,Q=[];for(const rt in be)be.hasOwnProperty(rt)&&"offset"!==rt&&Q.push(`${rt}: ${be[rt]};`);return`${100*ye}% { ${Q.join(" ")} }`}).join(" "))(nt);nn=void 0!==ke?ke:(ke=>{let be=ue.indexOf(ke);return be<0&&(be=ue.push(ke)-1),`ion-animation-${be}`})(Tt);const Wt=((ke,be,ye)=>{var Q;const rt=(ke=>{const be=void 0!==ke.getRootNode?ke.getRootNode():ke;return be.head||be})(ye),Ce=ve(ye),Ke=rt.querySelector("#"+ke);if(Ke)return Ke;const Ue=(null!==(Q=ye.ownerDocument)&&void 0!==Q?Q:document).createElement("style");return Ue.id=ke,Ue.textContent=`@${Ce}keyframes ${ke} { ${be} } @${Ce}keyframes ${ke}-alt { ${be} }`,rt.appendChild(Ue),Ue})(nn,Tt,We);Mn.push(Wt),ge(We,"animation-duration",`${_t()}ms`),ge(We,"animation-timing-function",Tn()),ge(We,"animation-delay",`${xe()}ms`),ge(We,"animation-fill-mode",ln()),ge(We,"animation-direction",er());const jt=Ve()===1/0?"infinite":Ve().toString();ge(We,"animation-iteration-count",jt),ge(We,"animation-play-state","paused"),pe&&ge(We,"animation-name",`${Wt.id}-alt`),(0,y.r)(()=>{ge(We,"animation-name",Wt.id||null)})}})},Pi=(pe=!0)=>{(()=>{Ct.forEach(Tt=>Tt()),nr.forEach(Tt=>Tt());const pe=Te,nt=q,We=yt;kt.forEach(Tt=>{const Wt=Tt.classList;pe.forEach(jt=>Wt.add(jt)),nt.forEach(jt=>Wt.remove(jt));for(const jt in We)We.hasOwnProperty(jt)&&ge(Tt,jt,We[jt])})})(),Ue.length>0&&(Yn?(kt.forEach(pe=>{const nt=pe.animate(Ue,{id:St,delay:xe(),duration:_t(),easing:Tn(),iterations:Ve(),fill:ln(),direction:er()});nt.pause(),Qn.push(nt)}),Qn.length>0&&(Qn[0].onfinish=()=>{gr()})):Ir(pe)),He=!0},Ai=pe=>{if(pe=Math.min(Math.max(pe,0),.9999),Yn)Qn.forEach(nt=>{nt.currentTime=nt.effect.getComputedTiming().delay+_t()*pe,nt.pause()});else{const nt=`-${_t()*pe}ms`;kt.forEach(We=>{Ue.length>0&&(ge(We,"animation-delay",nt),ge(We,"animation-play-state","paused"))})}},li=pe=>{Qn.forEach(nt=>{nt.effect.updateTiming({delay:xe(),duration:_t(),easing:Tn(),iterations:Ve(),fill:ln(),direction:er()})}),void 0!==pe&&Ai(pe)},Ii=(pe=!0,nt)=>{(0,y.r)(()=>{kt.forEach(We=>{ge(We,"animation-name",nn||null),ge(We,"animation-duration",`${_t()}ms`),ge(We,"animation-timing-function",Tn()),ge(We,"animation-delay",void 0!==nt?`-${nt*_t()}ms`:`${xe()}ms`),ge(We,"animation-fill-mode",ln()||null),ge(We,"animation-direction",er()||null);const Tt=Ve()===1/0?"infinite":Ve().toString();ge(We,"animation-iteration-count",Tt),pe&&ge(We,"animation-name",`${nn}-alt`),(0,y.r)(()=>{ge(We,"animation-name",nn||null)})})})},Nr=(pe=!1,nt=!0,We)=>(pe&&Zt.forEach(Tt=>{Tt.update(pe,nt,We)}),Yn?li(We):Ii(nt,We),Mt),Ds=()=>{He&&(Yn?Qn.forEach(pe=>{pe.pause()}):kt.forEach(pe=>{ge(pe,"animation-play-state","paused")}),Pt=!0)},Cs=()=>{Ae=void 0,gr()},Ji=()=>{Ae&&clearTimeout(Ae)},Os=pe=>new Promise(nt=>{null!=pe&&pe.sync&&(Me=!0,Jr(()=>Me=!1,{oneTimeCallback:!0})),He||Pi(),on&&(Yn?(Ai(0),li()):Ii(),on=!1),rn&&(dt=Zt.length+1,rn=!1),Jr(()=>nt(),{oneTimeCallback:!0}),Zt.forEach(We=>{We.play()}),Yn?(Qn.forEach(pe=>{pe.play()}),(0===Ue.length||0===kt.length)&&gr()):(()=>{if(Ji(),(0,y.r)(()=>{kt.forEach(pe=>{Ue.length>0&&ge(pe,"animation-play-state","running")})}),0===Ue.length||0===kt.length)gr();else{const pe=xe()||0,nt=_t()||0,We=Ve()||1;isFinite(We)&&(Ae=setTimeout(Cs,pe+nt*We+100)),((ke,be)=>{let ye;const Q={passive:!0},Ce=Ke=>{ke===Ke.target&&(ye&&ye(),Ji(),(0,y.r)(()=>{kt.forEach(pe=>{Oe(pe,"animation-duration"),Oe(pe,"animation-delay"),Oe(pe,"animation-play-state")}),(0,y.r)(gr)}))};ke&&(ke.addEventListener("webkitAnimationEnd",Ce,Q),ke.addEventListener("animationend",Ce,Q),ye=()=>{ke.removeEventListener("webkitAnimationEnd",Ce,Q),ke.removeEventListener("animationend",Ce,Q)})})(kt[0])}})(),Pt=!1}),se=(pe,nt)=>{const We=Ue[0];return void 0===We||void 0!==We.offset&&0!==We.offset?Ue=[{offset:0,[pe]:nt},...Ue]:We[pe]=nt,Mt};return Mt={parentAnimation:we,elements:kt,childAnimations:Zt,id:St,animationFinish:gr,from:se,to:(pe,nt)=>{const We=Ue[Ue.length-1];return void 0===We||void 0!==We.offset&&1!==We.offset?Ue=[...Ue,{offset:1,[pe]:nt}]:We[pe]=nt,Mt},fromTo:(pe,nt,We)=>se(pe,nt).to(pe,We),parent:pe=>(we=pe,Mt),play:Os,pause:()=>(Zt.forEach(pe=>{pe.pause()}),Ds(),Mt),stop:()=>{Zt.forEach(pe=>{pe.stop()}),He&&(Zr(),He=!1),tt=!1,Me=!1,rn=!0,Le=void 0,qe=void 0,Et=void 0,dt=0,on=!1,Bt=!0,Pt=!1},destroy:pe=>(Zt.forEach(nt=>{nt.destroy(pe)}),(pe=>{Zr(),pe&&yr()})(pe),kt.length=0,Zt.length=0,Ue.length=0,It.length=0,Ut.length=0,He=!1,rn=!0,Mt),keyframes:pe=>{const nt=Ue!==pe;return Ue=pe,nt&&(pe=>{Yn?Vt().forEach(nt=>{if(nt.effect.setKeyframes)nt.effect.setKeyframes(pe);else{const We=new KeyframeEffect(nt.effect.target,pe,nt.effect.getTiming());nt.effect=We}}):Ir()})(Ue),Mt},addAnimation:pe=>{if(null!=pe)if(Array.isArray(pe))for(const nt of pe)nt.parent(Mt),Zt.push(nt);else pe.parent(Mt),Zt.push(pe);return Mt},addElement:pe=>{if(null!=pe)if(1===pe.nodeType)kt.push(pe);else if(pe.length>=0)for(let nt=0;nt<pe.length;nt++)kt.push(pe[nt]);else console.error("Invalid addElement value");return Mt},update:Nr,fill:pe=>(Ce=pe,Nr(!0),Mt),direction:pe=>(Ke=pe,Nr(!0),Mt),iterations:pe=>(rt=pe,Nr(!0),Mt),duration:pe=>(!Yn&&0===pe&&(pe=1),ye=pe,Nr(!0),Mt),easing:pe=>(Q=pe,Nr(!0),Mt),delay:pe=>(be=pe,Nr(!0),Mt),getWebAnimations:Vt,getKeyframes:()=>Ue,getFill:ln,getDirection:er,getDelay:xe,getIterations:Ve,getEasing:Tn,getDuration:_t,afterAddRead:pe=>(Fn.push(pe),Mt),afterAddWrite:pe=>(On.push(pe),Mt),afterClearStyles:(pe=[])=>{for(const nt of pe)Qt[nt]="";return Mt},afterStyles:(pe={})=>(Qt=pe,Mt),afterRemoveClass:pe=>(Ge=Ye(Ge,pe),Mt),afterAddClass:pe=>(ht=Ye(ht,pe),Mt),beforeAddRead:pe=>(Ct.push(pe),Mt),beforeAddWrite:pe=>(nr.push(pe),Mt),beforeClearStyles:(pe=[])=>{for(const nt of pe)yt[nt]="";return Mt},beforeStyles:(pe={})=>(yt=pe,Mt),beforeRemoveClass:pe=>(q=Ye(q,pe),Mt),beforeAddClass:pe=>(Te=Ye(Te,pe),Mt),onFinish:Jr,isRunning:()=>0!==dt&&!Pt,progressStart:(pe=!1,nt)=>(Zt.forEach(We=>{We.progressStart(pe,nt)}),Ds(),tt=pe,He||Pi(),Nr(!1,!0,nt),Mt),progressStep:pe=>(Zt.forEach(nt=>{nt.progressStep(pe)}),Ai(pe),Mt),progressEnd:(pe,nt,We)=>(tt=!1,Zt.forEach(Tt=>{Tt.progressEnd(pe,nt,We)}),void 0!==We&&(qe=We),on=!1,Bt=!0,0===pe?(Le="reverse"===er()?"normal":"reverse","reverse"===Le&&(Bt=!1),Yn?(Nr(),Ai(1-nt)):(Et=(1-nt)*_t()*-1,Nr(!1,!1))):1===pe&&(Yn?(Nr(),Ai(nt)):(Et=nt*_t()*-1,Nr(!1,!1))),void 0!==pe&&(Jr(()=>{qe=void 0,Le=void 0,Et=void 0},{oneTimeCallback:!0}),we||Os()),Mt)}}},3982:(cn,ut,F)=>{"use strict";F.d(ut,{E:()=>Se,a:()=>v,s:()=>Oe});const v=ue=>{try{if(ue instanceof ge)return ue.value;if(!de()||"string"!=typeof ue||""===ue)return ue;if(ue.includes("onload="))return"";const Ne=document.createDocumentFragment(),Pe=document.createElement("div");Ne.appendChild(Pe),Pe.innerHTML=ue,ve.forEach(ke=>{const be=Ne.querySelectorAll(ke);for(let ye=be.length-1;ye>=0;ye--){const Q=be[ye];Q.parentNode?Q.parentNode.removeChild(Q):Ne.removeChild(Q);const rt=te(Q);for(let Ce=0;Ce<rt.length;Ce++)y(rt[Ce])}});const Be=te(Ne);for(let ke=0;ke<Be.length;ke++)y(Be[ke]);const Ye=document.createElement("div");Ye.appendChild(Ne);const mt=Ye.querySelector("div");return null!==mt?mt.innerHTML:Ye.innerHTML}catch(Ne){return console.error(Ne),""}},y=ue=>{if(ue.nodeType&&1!==ue.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ue.attributes instanceof NamedNodeMap))return void ue.remove();for(let Pe=ue.attributes.length-1;Pe>=0;Pe--){const Be=ue.attributes.item(Pe),Ye=Be.name;if(!Ie.includes(Ye.toLowerCase())){ue.removeAttribute(Ye);continue}const mt=Be.value,ke=ue[Ye];(null!=mt&&mt.toLowerCase().includes("javascript:")||null!=ke&&ke.toLowerCase().includes("javascript:"))&&ue.removeAttribute(Ye)}const Ne=te(ue);for(let Pe=0;Pe<Ne.length;Pe++)y(Ne[Pe])},te=ue=>null!=ue.children?ue.children:ue.childNodes,de=()=>{var ue;const Ne=window,Pe=null===(ue=null==Ne?void 0:Ne.Ionic)||void 0===ue?void 0:ue.config;return!Pe||(Pe.get?Pe.get("sanitizerEnabled",!0):!0===Pe.sanitizerEnabled||void 0===Pe.sanitizerEnabled)},Ie=["class","id","href","src","name","slot"],ve=["script","style","iframe","meta","link","object","embed"];class ge{constructor(Ne){this.value=Ne}}const Oe=ue=>{const Ne=window,Pe=Ne.Ionic;if(!Pe||!Pe.config||"Object"===Pe.config.constructor.name)return Ne.Ionic=Ne.Ionic||{},Ne.Ionic.config=Object.assign(Object.assign({},Ne.Ionic.config),ue),Ne.Ionic.config},Se=!1},5381:(cn,ut,F)=>{"use strict";F.d(ut,{C:()=>Ie,a:()=>te,d:()=>de});var v=F(5861),y=F(6655);const te=function(){var ve=(0,v.Z)(function*(ge,Oe,$e,Se,ue,Ne){var Pe;if(ge)return ge.attachViewToDom(Oe,$e,ue,Se);if(!(Ne||"string"==typeof $e||$e instanceof HTMLElement))throw new Error("framework delegate is missing");const Be="string"==typeof $e?null===(Pe=Oe.ownerDocument)||void 0===Pe?void 0:Pe.createElement($e):$e;return Se&&Se.forEach(Ye=>Be.classList.add(Ye)),ue&&Object.assign(Be,ue),Oe.appendChild(Be),yield new Promise(Ye=>(0,y.c)(Be,Ye)),Be});return function(Oe,$e,Se,ue,Ne,Pe){return ve.apply(this,arguments)}}(),de=(ve,ge)=>{if(ge){if(ve)return ve.removeViewFromDom(ge.parentElement,ge);ge.remove()}return Promise.resolve()},Ie=()=>{let ve,ge;return{attachViewToDom:function(){var Se=(0,v.Z)(function*(ue,Ne,Pe={},Be=[]){var Ye,mt;if(ve=ue,Ne){const be="string"==typeof Ne?null===(Ye=ve.ownerDocument)||void 0===Ye?void 0:Ye.createElement(Ne):Ne;Be.forEach(ye=>be.classList.add(ye)),Object.assign(be,Pe),ve.appendChild(be),yield new Promise(ye=>(0,y.c)(be,ye))}else if(ve.children.length>0&&("ION-MODAL"===ve.tagName||"ION-POPOVER"===ve.tagName)&&!ve.children[0].classList.contains("ion-delegate-host")){const ye=null===(mt=ve.ownerDocument)||void 0===mt?void 0:mt.createElement("div");ye.classList.add("ion-delegate-host"),Be.forEach(Q=>ye.classList.add(Q)),ye.append(...ve.children),ve.appendChild(ye)}const ke=document.querySelector("ion-app")||document.body;return ge=document.createComment("ionic teleport"),ve.parentNode.insertBefore(ge,ve),ke.appendChild(ve),ve});return function(Ne,Pe){return Se.apply(this,arguments)}}(),removeViewFromDom:()=>(ve&&ge&&(ge.parentNode.insertBefore(ve,ge),ge.remove()),Promise.resolve())}}},4349:(cn,ut,F)=>{"use strict";F.d(ut,{G:()=>Ie});class y{constructor(ge,Oe,$e,Se,ue){this.id=Oe,this.name=$e,this.disableScroll=ue,this.priority=1e6*Se+Oe,this.ctrl=ge}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ge=this.ctrl.capture(this.name,this.id,this.priority);return ge&&this.disableScroll&&this.ctrl.disableScroll(this.id),ge}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class te{constructor(ge,Oe,$e,Se){this.id=Oe,this.disable=$e,this.disableScroll=Se,this.ctrl=ge}block(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.disableGesture(ge,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.enableGesture(ge,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const de="backdrop-no-scroll",Ie=new class v{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ge){var Oe;return new y(this,this.newID(),ge.name,null!==(Oe=ge.priority)&&void 0!==Oe?Oe:0,!!ge.disableScroll)}createBlocker(ge={}){return new te(this,this.newID(),ge.disable,!!ge.disableScroll)}start(ge,Oe,$e){return this.canStart(ge)?(this.requestedStart.set(Oe,$e),!0):(this.requestedStart.delete(Oe),!1)}capture(ge,Oe,$e){if(!this.start(ge,Oe,$e))return!1;const Se=this.requestedStart;let ue=-1e4;if(Se.forEach(Ne=>{ue=Math.max(ue,Ne)}),ue===$e){this.capturedId=Oe,Se.clear();const Ne=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ge}});return document.dispatchEvent(Ne),!0}return Se.delete(Oe),!1}release(ge){this.requestedStart.delete(ge),this.capturedId===ge&&(this.capturedId=void 0)}disableGesture(ge,Oe){let $e=this.disabledGestures.get(ge);void 0===$e&&($e=new Set,this.disabledGestures.set(ge,$e)),$e.add(Oe)}enableGesture(ge,Oe){const $e=this.disabledGestures.get(ge);void 0!==$e&&$e.delete(Oe)}disableScroll(ge){this.disabledScroll.add(ge),1===this.disabledScroll.size&&document.body.classList.add(de)}enableScroll(ge){this.disabledScroll.delete(ge),0===this.disabledScroll.size&&document.body.classList.remove(de)}canStart(ge){return!(void 0!==this.capturedId||this.isDisabled(ge))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ge){const Oe=this.disabledGestures.get(ge);return!!(Oe&&Oe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(cn,ut,F)=>{"use strict";F.r(ut),F.d(ut,{MENU_BACK_BUTTON_PRIORITY:()=>Ie,OVERLAY_BACK_BUTTON_PRIORITY:()=>de,blockHardwareBackButton:()=>y,startHardwareBackButton:()=>te});var v=F(5861);const y=()=>{document.addEventListener("backbutton",()=>{})},te=()=>{const ve=document;let ge=!1;ve.addEventListener("backbutton",()=>{if(ge)return;let Oe=0,$e=[];const Se=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Pe,Be){$e.push({priority:Pe,handler:Be,id:Oe++})}}});ve.dispatchEvent(Se);const ue=function(){var Pe=(0,v.Z)(function*(Be){try{if(null!=Be&&Be.handler){const Ye=Be.handler(Ne);null!=Ye&&(yield Ye)}}catch(Ye){console.error(Ye)}});return function(Ye){return Pe.apply(this,arguments)}}(),Ne=()=>{if($e.length>0){let Pe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};$e.forEach(Be=>{Be.priority>=Pe.priority&&(Pe=Be)}),ge=!0,$e=$e.filter(Be=>Be.id!==Pe.id),ue(Pe).then(()=>ge=!1)}};Ne()})},de=100,Ie=99},6655:(cn,ut,F)=>{"use strict";F.d(ut,{a:()=>Oe,b:()=>$e,c:()=>te,d:()=>mt,e:()=>Ye,f:()=>Be,g:()=>Se,h:()=>Pe,i:()=>ge,j:()=>Ce,k:()=>Ie,l:()=>ke,m:()=>de,n:()=>Ne,o:()=>be,p:()=>rt,q:()=>Ke,r:()=>ue,s:()=>Ue,t:()=>v,u:()=>ye,v:()=>Q});const v=(Te,q=0)=>new Promise(He=>{y(Te,q,He)}),y=(Te,q=0,He)=>{let we,yt;const ht={passive:!0},Qt=()=>{we&&we()},dt=tt=>{(void 0===tt||Te===tt.target)&&(Qt(),He(tt))};return Te&&(Te.addEventListener("webkitTransitionEnd",dt,ht),Te.addEventListener("transitionend",dt,ht),yt=setTimeout(dt,q+500),we=()=>{yt&&(clearTimeout(yt),yt=void 0),Te.removeEventListener("webkitTransitionEnd",dt,ht),Te.removeEventListener("transitionend",dt,ht)}),Qt},te=(Te,q)=>{Te.componentOnReady?Te.componentOnReady().then(He=>q(He)):ue(()=>q(Te))},de=Te=>void 0!==Te.componentOnReady,Ie=(Te,q=[])=>{const He={};return q.forEach(we=>{Te.hasAttribute(we)&&(null!==Te.getAttribute(we)&&(He[we]=Te.getAttribute(we)),Te.removeAttribute(we))}),He},ve=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ge=(Te,q)=>{let He=ve;return q&&q.length>0&&(He=He.filter(we=>!q.includes(we))),Ie(Te,He)},Oe=(Te,q,He,we)=>{var yt;if(typeof window<"u"){const ht=window,Ge=null===(yt=null==ht?void 0:ht.Ionic)||void 0===yt?void 0:yt.config;if(Ge){const Qt=Ge.get("_ael");if(Qt)return Qt(Te,q,He,we);if(Ge._ael)return Ge._ael(Te,q,He,we)}}return Te.addEventListener(q,He,we)},$e=(Te,q,He,we)=>{var yt;if(typeof window<"u"){const ht=window,Ge=null===(yt=null==ht?void 0:ht.Ionic)||void 0===yt?void 0:yt.config;if(Ge){const Qt=Ge.get("_rel");if(Qt)return Qt(Te,q,He,we);if(Ge._rel)return Ge._rel(Te,q,He,we)}}return Te.removeEventListener(q,He,we)},Se=(Te,q=Te)=>Te.shadowRoot||q,ue=Te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Te):"function"==typeof requestAnimationFrame?requestAnimationFrame(Te):setTimeout(Te),Ne=Te=>!!Te.shadowRoot&&!!Te.attachShadow,Pe=Te=>{const q=Te.closest("ion-item");return q?q.querySelector("ion-label"):null},Be=Te=>{if(Te.focus(),Te.classList.contains("ion-focusable")){const q=Te.closest("ion-app");q&&q.setFocus([Te])}},Ye=(Te,q)=>{let He;const we=Te.getAttribute("aria-labelledby"),yt=Te.id;let ht=null!==we&&""!==we.trim()?we:q+"-lbl",Ge=null!==we&&""!==we.trim()?document.getElementById(we):Pe(Te);return Ge?(null===we&&(Ge.id=ht),He=Ge.textContent,Ge.setAttribute("aria-hidden","true")):""!==yt.trim()&&(Ge=document.querySelector(`label[for="${yt}"]`),Ge&&(""!==Ge.id?ht=Ge.id:Ge.id=ht=`${yt}-lbl`,He=Ge.textContent)),{label:Ge,labelId:ht,labelText:He}},mt=(Te,q,He,we,yt)=>{if(Te||Ne(q)){let ht=q.querySelector("input.aux-input");ht||(ht=q.ownerDocument.createElement("input"),ht.type="hidden",ht.classList.add("aux-input"),q.appendChild(ht)),ht.disabled=yt,ht.name=He,ht.value=we||""}},ke=(Te,q,He)=>Math.max(Te,Math.min(q,He)),be=(Te,q)=>{if(!Te){const He="ASSERT: "+q;throw console.error(He),new Error(He)}},ye=Te=>Te.timeStamp||Date.now(),Q=Te=>{if(Te){const q=Te.changedTouches;if(q&&q.length>0){const He=q[0];return{x:He.clientX,y:He.clientY}}if(void 0!==Te.pageX)return{x:Te.pageX,y:Te.pageY}}return{x:0,y:0}},rt=Te=>{const q="rtl"===document.dir;switch(Te){case"start":return q;case"end":return!q;default:throw new Error(`"${Te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ce=(Te,q)=>{const He=Te._original||Te;return{_original:Te,emit:Ke(He.emit.bind(He),q)}},Ke=(Te,q=0)=>{let He;return(...we)=>{clearTimeout(He),He=setTimeout(Te,q,...we)}},Ue=(Te,q)=>{if(null!=Te||(Te={}),null!=q||(q={}),Te===q)return!0;const He=Object.keys(Te);if(He.length!==Object.keys(q).length)return!1;for(const we of He)if(!(we in q)||Te[we]!==q[we])return!1;return!0}},1898:(cn,ut,F)=>{"use strict";F.r(ut),F.d(ut,{GESTURE_CONTROLLER:()=>v.G,createGesture:()=>$e});var v=F(4349);const y=(Pe,Be,Ye,mt)=>{const ke=te(Pe)?{capture:!!mt.capture,passive:!!mt.passive}:!!mt.capture;let be,ye;return Pe.__zone_symbol__addEventListener?(be="__zone_symbol__addEventListener",ye="__zone_symbol__removeEventListener"):(be="addEventListener",ye="removeEventListener"),Pe[be](Be,Ye,ke),()=>{Pe[ye](Be,Ye,ke)}},te=Pe=>{if(void 0===de)try{const Be=Object.defineProperty({},"passive",{get:()=>{de=!0}});Pe.addEventListener("optsTest",()=>{},Be)}catch{de=!1}return!!de};let de;const ge=Pe=>Pe instanceof Document?Pe:Pe.ownerDocument,$e=Pe=>{let Be=!1,Ye=!1,mt=!0,ke=!1;const be=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Pe),ye=be.canStart,Q=be.onWillStart,rt=be.onStart,Ce=be.onEnd,Ke=be.notCaptured,Ue=be.onMove,Te=be.threshold,q=be.passive,He=be.blurOnStart,we={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},yt=((Pe,Be,Ye)=>{const mt=Ye*(Math.PI/180),ke="x"===Pe,be=Math.cos(mt),ye=Be*Be;let Q=0,rt=0,Ce=!1,Ke=0;return{start(Ue,Te){Q=Ue,rt=Te,Ke=0,Ce=!0},detect(Ue,Te){if(!Ce)return!1;const q=Ue-Q,He=Te-rt,we=q*q+He*He;if(we<ye)return!1;const yt=Math.sqrt(we),ht=(ke?q:He)/yt;return Ke=ht>be?1:ht<-be?-1:0,Ce=!1,!0},isGesture:()=>0!==Ke,getDirection:()=>Ke}})(be.direction,be.threshold,be.maxAngle),ht=v.G.createGesture({name:Pe.gestureName,priority:Pe.gesturePriority,disableScroll:Pe.disableScroll}),dt=()=>{Be&&(ke=!1,Ue&&Ue(we))},tt=()=>!!ht.capture()&&(Be=!0,mt=!1,we.startX=we.currentX,we.startY=we.currentY,we.startTime=we.currentTime,Q?Q(we).then(Ae):Ae(),!0),Ae=()=>{He&&(()=>{if(typeof document<"u"){const on=document.activeElement;null!=on&&on.blur&&on.blur()}})(),rt&&rt(we),mt=!0},Le=()=>{Be=!1,Ye=!1,ke=!1,mt=!0,ht.release()},qe=on=>{const rn=Be,nn=mt;if(Le(),nn){if(Se(we,on),rn)return void(Ce&&Ce(we));Ke&&Ke(we)}},Et=((Pe,Be,Ye,mt,ke)=>{let be,ye,Q,rt,Ce,Ke,Ue,Te=0;const q=Me=>{Te=Date.now()+2e3,Be(Me)&&(!ye&&Ye&&(ye=y(Pe,"touchmove",Ye,ke)),Q||(Q=y(Me.target,"touchend",we,ke)),rt||(rt=y(Me.target,"touchcancel",we,ke)))},He=Me=>{Te>Date.now()||Be(Me)&&(!Ke&&Ye&&(Ke=y(ge(Pe),"mousemove",Ye,ke)),Ue||(Ue=y(ge(Pe),"mouseup",yt,ke)))},we=Me=>{ht(),mt&&mt(Me)},yt=Me=>{Ge(),mt&&mt(Me)},ht=()=>{ye&&ye(),Q&&Q(),rt&&rt(),ye=Q=rt=void 0},Ge=()=>{Ke&&Ke(),Ue&&Ue(),Ke=Ue=void 0},Qt=()=>{ht(),Ge()},dt=(Me=!0)=>{Me?(be||(be=y(Pe,"touchstart",q,ke)),Ce||(Ce=y(Pe,"mousedown",He,ke))):(be&&be(),Ce&&Ce(),be=Ce=void 0,Qt())};return{enable:dt,stop:Qt,destroy:()=>{dt(!1),mt=Ye=Be=void 0}}})(be.el,on=>{const rn=Ne(on);return!(Ye||!mt||(ue(on,we),we.startX=we.currentX,we.startY=we.currentY,we.startTime=we.currentTime=rn,we.velocityX=we.velocityY=we.deltaX=we.deltaY=0,we.event=on,ye&&!1===ye(we))||(ht.release(),!ht.start()))&&(Ye=!0,0===Te?tt():(yt.start(we.startX,we.startY),!0))},on=>{Be?!ke&&mt&&(ke=!0,Se(we,on),requestAnimationFrame(dt)):(Se(we,on),yt.detect(we.currentX,we.currentY)&&(!yt.isGesture()||!tt())&&Bt())},qe,{capture:!1,passive:q}),Bt=()=>{Le(),Et.stop(),Ke&&Ke(we)};return{enable(on=!0){on||(Be&&qe(void 0),Le()),Et.enable(on)},destroy(){ht.destroy(),Et.destroy()}}},Se=(Pe,Be)=>{if(!Be)return;const Ye=Pe.currentX,mt=Pe.currentY,ke=Pe.currentTime;ue(Be,Pe);const be=Pe.currentX,ye=Pe.currentY,rt=(Pe.currentTime=Ne(Be))-ke;if(rt>0&&rt<100){const Ke=(ye-mt)/rt;Pe.velocityX=(be-Ye)/rt*.7+.3*Pe.velocityX,Pe.velocityY=.7*Ke+.3*Pe.velocityY}Pe.deltaX=be-Pe.startX,Pe.deltaY=ye-Pe.startY,Pe.event=Be},ue=(Pe,Be)=>{let Ye=0,mt=0;if(Pe){const ke=Pe.changedTouches;if(ke&&ke.length>0){const be=ke[0];Ye=be.clientX,mt=be.clientY}else void 0!==Pe.pageX&&(Ye=Pe.pageX,mt=Pe.pageY)}Be.currentX=Ye,Be.currentY=mt},Ne=Pe=>Pe.timeStamp||Date.now()},7774:(cn,ut,F)=>{"use strict";F.d(ut,{L:()=>de,a:()=>Ie,b:()=>ve,c:()=>ge,d:()=>Oe,e:()=>Te,g:()=>we,l:()=>Ke,s:()=>q,t:()=>ue,w:()=>Ue});var v=F(5861),y=F(661),te=F(6655);const de="ionViewWillEnter",Ie="ionViewDidEnter",ve="ionViewWillLeave",ge="ionViewDidLeave",Oe="ionViewWillUnload",ue=yt=>new Promise((ht,Ge)=>{(0,y.w)(()=>{Ne(yt),Pe(yt).then(Qt=>{Qt.animation&&Qt.animation.destroy(),Be(yt),ht(Qt)},Qt=>{Be(yt),Ge(Qt)})})}),Ne=yt=>{const ht=yt.enteringEl,Ge=yt.leavingEl;He(ht,Ge,yt.direction),yt.showGoBack?ht.classList.add("can-go-back"):ht.classList.remove("can-go-back"),q(ht,!1),ht.style.setProperty("pointer-events","none"),Ge&&(q(Ge,!1),Ge.style.setProperty("pointer-events","none"))},Pe=function(){var yt=(0,v.Z)(function*(ht){const Ge=yield Ye(ht);return Ge&&y.B.isBrowser?mt(Ge,ht):ke(ht)});return function(Ge){return yt.apply(this,arguments)}}(),Be=yt=>{const ht=yt.enteringEl,Ge=yt.leavingEl;ht.classList.remove("ion-page-invisible"),ht.style.removeProperty("pointer-events"),void 0!==Ge&&(Ge.classList.remove("ion-page-invisible"),Ge.style.removeProperty("pointer-events"))},Ye=function(){var yt=(0,v.Z)(function*(ht){return ht.leavingEl&&ht.animated&&0!==ht.duration?ht.animationBuilder?ht.animationBuilder:"ios"===ht.mode?(yield Promise.resolve().then(F.bind(F,9858))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,2923))).mdTransitionAnimation:void 0});return function(Ge){return yt.apply(this,arguments)}}(),mt=function(){var yt=(0,v.Z)(function*(ht,Ge){yield be(Ge,!0);const Qt=ht(Ge.baseEl,Ge);rt(Ge.enteringEl,Ge.leavingEl);const dt=yield Q(Qt,Ge);return Ge.progressCallback&&Ge.progressCallback(void 0),dt&&Ce(Ge.enteringEl,Ge.leavingEl),{hasCompleted:dt,animation:Qt}});return function(Ge,Qt){return yt.apply(this,arguments)}}(),ke=function(){var yt=(0,v.Z)(function*(ht){const Ge=ht.enteringEl,Qt=ht.leavingEl;return yield be(ht,!1),rt(Ge,Qt),Ce(Ge,Qt),{hasCompleted:!0}});return function(Ge){return yt.apply(this,arguments)}}(),be=function(){var yt=(0,v.Z)(function*(ht,Ge){(void 0!==ht.deepWait?ht.deepWait:Ge)&&(yield Promise.all([Te(ht.enteringEl),Te(ht.leavingEl)])),yield ye(ht.viewIsReady,ht.enteringEl)});return function(Ge,Qt){return yt.apply(this,arguments)}}(),ye=function(){var yt=(0,v.Z)(function*(ht,Ge){ht&&(yield ht(Ge))});return function(Ge,Qt){return yt.apply(this,arguments)}}(),Q=(yt,ht)=>{const Ge=ht.progressCallback,Qt=new Promise(dt=>{yt.onFinish(tt=>dt(1===tt))});return Ge?(yt.progressStart(!0),Ge(yt)):yt.play(),Qt},rt=(yt,ht)=>{Ke(ht,ve),Ke(yt,de)},Ce=(yt,ht)=>{Ke(yt,Ie),Ke(ht,ge)},Ke=(yt,ht)=>{if(yt){const Ge=new CustomEvent(ht,{bubbles:!1,cancelable:!1});yt.dispatchEvent(Ge)}},Ue=()=>new Promise(yt=>(0,te.r)(()=>(0,te.r)(()=>yt()))),Te=function(){var yt=(0,v.Z)(function*(ht){const Ge=ht;if(Ge){if(null!=Ge.componentOnReady){if(null!=(yield Ge.componentOnReady()))return}else if(null!=Ge.__registerHost)return void(yield new Promise(dt=>(0,te.r)(dt)));yield Promise.all(Array.from(Ge.children).map(Te))}});return function(Ge){return yt.apply(this,arguments)}}(),q=(yt,ht)=>{ht?(yt.setAttribute("aria-hidden","true"),yt.classList.add("ion-page-hidden")):(yt.hidden=!1,yt.removeAttribute("aria-hidden"),yt.classList.remove("ion-page-hidden"))},He=(yt,ht,Ge)=>{void 0!==yt&&(yt.style.zIndex="back"===Ge?"99":"101"),void 0!==ht&&(ht.style.zIndex="100")},we=yt=>yt.classList.contains("ion-page")?yt:yt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||yt},1840:(cn,ut,F)=>{"use strict";F.d(ut,{m:()=>ue});var v=F(5861),y=F(7593),te=F(6655),de=F(953),Ie=F(8127);const ve=Ne=>(0,Ie.c)().duration(Ne?400:300),ge=Ne=>{let Pe,Be;const Ye=Ne.width+8,mt=(0,Ie.c)(),ke=(0,Ie.c)();Ne.isEndSide?(Pe=Ye+"px",Be="0px"):(Pe=-Ye+"px",Be="0px"),mt.addElement(Ne.menuInnerEl).fromTo("transform",`translateX(${Pe})`,`translateX(${Be})`);const ye="ios"===(0,de.b)(Ne),Q=ye?.2:.25;return ke.addElement(Ne.backdropEl).fromTo("opacity",.01,Q),ve(ye).addAnimation([mt,ke])},Oe=Ne=>{let Pe,Be;const Ye=(0,de.b)(Ne),mt=Ne.width;Ne.isEndSide?(Pe=-mt+"px",Be=mt+"px"):(Pe=mt+"px",Be=-mt+"px");const ke=(0,Ie.c)().addElement(Ne.menuInnerEl).fromTo("transform",`translateX(${Be})`,"translateX(0px)"),be=(0,Ie.c)().addElement(Ne.contentEl).fromTo("transform","translateX(0px)",`translateX(${Pe})`),ye=(0,Ie.c)().addElement(Ne.backdropEl).fromTo("opacity",.01,.32);return ve("ios"===Ye).addAnimation([ke,be,ye])},$e=Ne=>{const Pe=(0,de.b)(Ne),Be=Ne.width*(Ne.isEndSide?-1:1)+"px",Ye=(0,Ie.c)().addElement(Ne.contentEl).fromTo("transform","translateX(0px)",`translateX(${Be})`);return ve("ios"===Pe).addAnimation(Ye)},ue=(()=>{const Ne=new Map,Pe=[],Be=function(){var Ae=(0,v.Z)(function*(Le){const qe=yield rt(Le);return!!qe&&qe.open()});return function(qe){return Ae.apply(this,arguments)}}(),Ye=function(){var Ae=(0,v.Z)(function*(Le){const qe=yield void 0!==Le?rt(Le):Ce();return void 0!==qe&&qe.close()});return function(qe){return Ae.apply(this,arguments)}}(),mt=function(){var Ae=(0,v.Z)(function*(Le){const qe=yield rt(Le);return!!qe&&qe.toggle()});return function(qe){return Ae.apply(this,arguments)}}(),ke=function(){var Ae=(0,v.Z)(function*(Le,qe){const Et=yield rt(qe);return Et&&(Et.disabled=!Le),Et});return function(qe,Et){return Ae.apply(this,arguments)}}(),be=function(){var Ae=(0,v.Z)(function*(Le,qe){const Et=yield rt(qe);return Et&&(Et.swipeGesture=Le),Et});return function(qe,Et){return Ae.apply(this,arguments)}}(),ye=function(){var Ae=(0,v.Z)(function*(Le){if(null!=Le){const qe=yield rt(Le);return void 0!==qe&&qe.isOpen()}return void 0!==(yield Ce())});return function(qe){return Ae.apply(this,arguments)}}(),Q=function(){var Ae=(0,v.Z)(function*(Le){const qe=yield rt(Le);return!!qe&&!qe.disabled});return function(qe){return Ae.apply(this,arguments)}}(),rt=function(){var Ae=(0,v.Z)(function*(Le){return yield Me(),"start"===Le||"end"===Le?tt(Bt=>Bt.side===Le&&!Bt.disabled)||tt(Bt=>Bt.side===Le):null!=Le?tt(Et=>Et.menuId===Le):tt(Et=>!Et.disabled)||(Pe.length>0?Pe[0].el:void 0)});return function(qe){return Ae.apply(this,arguments)}}(),Ce=function(){var Ae=(0,v.Z)(function*(){return yield Me(),Ge()});return function(){return Ae.apply(this,arguments)}}(),Ke=function(){var Ae=(0,v.Z)(function*(){return yield Me(),Qt()});return function(){return Ae.apply(this,arguments)}}(),Ue=function(){var Ae=(0,v.Z)(function*(){return yield Me(),dt()});return function(){return Ae.apply(this,arguments)}}(),Te=(Ae,Le)=>{Ne.set(Ae,Le)},we=Ae=>{const Le=Ae.side;Pe.filter(qe=>qe.side===Le&&qe!==Ae).forEach(qe=>qe.disabled=!0)},yt=function(){var Ae=(0,v.Z)(function*(Le,qe,Et){if(dt())return!1;if(qe){const Bt=yield Ce();Bt&&Le.el!==Bt&&(yield Bt.setOpen(!1,!1))}return Le._setOpen(qe,Et)});return function(qe,Et,Bt){return Ae.apply(this,arguments)}}(),Ge=()=>tt(Ae=>Ae._isOpen),Qt=()=>Pe.map(Ae=>Ae.el),dt=()=>Pe.some(Ae=>Ae.isAnimating),tt=Ae=>{const Le=Pe.find(Ae);if(void 0!==Le)return Le.el},Me=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ae=>new Promise(Le=>(0,te.c)(Ae,Le))));return Te("reveal",$e),Te("push",Oe),Te("overlay",ge),typeof document<"u"&&document.addEventListener("ionBackButton",Ae=>{const Le=Ge();Le&&Ae.detail.register(y.MENU_BACK_BUTTON_PRIORITY,()=>Le.close())}),{registerAnimation:Te,get:rt,getMenus:Ke,getOpen:Ce,isEnabled:Q,swipeGesture:be,isAnimating:Ue,isOpen:ye,enable:ke,toggle:mt,close:Ye,open:Be,_getOpenSync:Ge,_createAnimation:(Ae,Le)=>{const qe=Ne.get(Ae);if(!qe)throw new Error("animation not registered");return qe(Le)},_register:Ae=>{Pe.indexOf(Ae)<0&&(Ae.disabled||we(Ae),Pe.push(Ae))},_unregister:Ae=>{const Le=Pe.indexOf(Ae);Le>-1&&Pe.splice(Le,1)},_setOpen:yt,_setActiveMenu:we}})()},4110:(cn,ut,F)=>{"use strict";F.d(ut,{d:()=>y,w:()=>v});const v=typeof window<"u"?window:void 0,y=typeof document<"u"?document:void 0},661:(cn,ut,F)=>{"use strict";F.d(ut,{B:()=>ue,H:()=>Qt,a:()=>Bi,b:()=>Un,c:()=>on,d:()=>Pt,e:()=>Os,f:()=>Mt,g:()=>rn,h:()=>ht,i:()=>$t,j:()=>Ne,p:()=>Ds,r:()=>Ei,w:()=>Hi});var v=F(5861);let te,de,Ie,ve=!1,ge=!1,Oe=!1,$e=!1,Se=!1;const ue={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ne=se=>{const Ee=new URL(se,xr.$resourcesUrl$);return Ee.origin!==Ii.location.origin?Ee.href:Ee.pathname},ye="s-id",Q="sty-id",Ke="http://www.w3.org/1999/xlink",Ue={},we=se=>"object"==(se=typeof se)||"function"===se;function yt(se){var Ee,Ze,pe;return null!==(pe=null===(Ze=null===(Ee=se.head)||void 0===Ee?void 0:Ee.querySelector('meta[name="csp-nonce"]'))||void 0===Ze?void 0:Ze.getAttribute("content"))&&void 0!==pe?pe:void 0}const ht=(se,Ee,...Ze)=>{let pe=null,nt=null,We=null,Tt=!1,Wt=!1;const jt=[],Ft=gn=>{for(let Pn=0;Pn<gn.length;Pn++)pe=gn[Pn],Array.isArray(pe)?Ft(pe):null!=pe&&"boolean"!=typeof pe&&((Tt="function"!=typeof se&&!we(pe))&&(pe=String(pe)),Tt&&Wt?jt[jt.length-1].$text$+=pe:jt.push(Tt?Ge(null,pe):pe),Wt=Tt)};if(Ft(Ze),Ee){Ee.key&&(nt=Ee.key),Ee.name&&(We=Ee.name);{const gn=Ee.className||Ee.class;gn&&(Ee.class="object"!=typeof gn?gn:Object.keys(gn).filter(Pn=>gn[Pn]).join(" "))}}if("function"==typeof se)return se(null===Ee?{}:Ee,jt,tt);const En=Ge(se,null);return En.$attrs$=Ee,jt.length>0&&(En.$children$=jt),En.$key$=nt,En.$name$=We,En},Ge=(se,Ee)=>({$flags$:0,$tag$:se,$text$:Ee,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Qt={},tt={forEach:(se,Ee)=>se.map(Me).forEach(Ee),map:(se,Ee)=>se.map(Me).map(Ee).map(Ae)},Me=se=>({vattrs:se.$attrs$,vchildren:se.$children$,vkey:se.$key$,vname:se.$name$,vtag:se.$tag$,vtext:se.$text$}),Ae=se=>{if("function"==typeof se.vtag){const Ze=Object.assign({},se.vattrs);return se.vkey&&(Ze.key=se.vkey),se.vname&&(Ze.name=se.vname),ht(se.vtag,Ze,...se.vchildren||[])}const Ee=Ge(se.vtag,se.vtext);return Ee.$attrs$=se.vattrs,Ee.$children$=se.vchildren,Ee.$key$=se.vkey,Ee.$name$=se.vname,Ee},qe=(se,Ee,Ze,pe,nt,We,Tt)=>{let Wt,jt,Ft,En;if(1===We.nodeType){for(Wt=We.getAttribute("c-id"),Wt&&(jt=Wt.split("."),(jt[0]===Tt||"0"===jt[0])&&(Ft={$flags$:0,$hostId$:jt[0],$nodeId$:jt[1],$depth$:jt[2],$index$:jt[3],$tag$:We.tagName.toLowerCase(),$elm$:We,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Ee.push(Ft),We.removeAttribute("c-id"),se.$children$||(se.$children$=[]),se.$children$[Ft.$index$]=Ft,se=Ft,pe&&"0"===Ft.$depth$&&(pe[Ft.$index$]=Ft.$elm$))),En=We.childNodes.length-1;En>=0;En--)qe(se,Ee,Ze,pe,nt,We.childNodes[En],Tt);if(We.shadowRoot)for(En=We.shadowRoot.childNodes.length-1;En>=0;En--)qe(se,Ee,Ze,pe,nt,We.shadowRoot.childNodes[En],Tt)}else if(8===We.nodeType)jt=We.nodeValue.split("."),(jt[1]===Tt||"0"===jt[1])&&(Wt=jt[0],Ft={$flags$:0,$hostId$:jt[1],$nodeId$:jt[2],$depth$:jt[3],$index$:jt[4],$elm$:We,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Wt?(Ft.$elm$=We.nextSibling,Ft.$elm$&&3===Ft.$elm$.nodeType&&(Ft.$text$=Ft.$elm$.textContent,Ee.push(Ft),We.remove(),se.$children$||(se.$children$=[]),se.$children$[Ft.$index$]=Ft,pe&&"0"===Ft.$depth$&&(pe[Ft.$index$]=Ft.$elm$))):Ft.$hostId$===Tt&&("s"===Wt?(Ft.$tag$="slot",We["s-sn"]=jt[5]?Ft.$name$=jt[5]:"",We["s-sr"]=!0,pe&&(Ft.$elm$=Nr.createElement(Ft.$tag$),Ft.$name$&&Ft.$elm$.setAttribute("name",Ft.$name$),We.parentNode.insertBefore(Ft.$elm$,We),We.remove(),"0"===Ft.$depth$&&(pe[Ft.$index$]=Ft.$elm$)),Ze.push(Ft),se.$children$||(se.$children$=[]),se.$children$[Ft.$index$]=Ft):"r"===Wt&&(pe?We.remove():(nt["s-cr"]=We,We["s-cn"]=!0))));else if(se&&"style"===se.$tag$){const gn=Ge(null,We.textContent);gn.$elm$=We,gn.$index$="0",se.$children$=[gn]}},Et=(se,Ee)=>{if(1===se.nodeType){let Ze=0;for(;Ze<se.childNodes.length;Ze++)Et(se.childNodes[Ze],Ee);if(se.shadowRoot)for(Ze=0;Ze<se.shadowRoot.childNodes.length;Ze++)Et(se.shadowRoot.childNodes[Ze],Ee)}else if(8===se.nodeType){const Ze=se.nodeValue.split(".");"o"===Ze[0]&&(Ee.set(Ze[1]+"."+Ze[2],se),se.nodeValue="",se["s-en"]=Ze[3])}},on=se=>li.push(se),rn=se=>fi(se).$modeName$,Mt=se=>fi(se).$hostElement$,Pt=(se,Ee,Ze)=>{const pe=Mt(se);return{emit:nt=>St(pe,Ee,{bubbles:!!(4&Ze),composed:!!(2&Ze),cancelable:!!(1&Ze),detail:nt})}},St=(se,Ee,Ze)=>{const pe=xr.ce(Ee,Ze);return se.dispatchEvent(pe),pe},It=new WeakMap,Ut=(se,Ee,Ze)=>{let pe=Ai.get(se);Ni&&Ze?(pe=pe||new CSSStyleSheet,"string"==typeof pe?pe=Ee:pe.replaceSync(Ee)):pe=Ee,Ai.set(se,pe)},kt=(se,Ee,Ze,pe)=>{var nt;let We=Mn(Ee,Ze);const Tt=Ai.get(We);if(se=11===se.nodeType?se:Nr,Tt)if("string"==typeof Tt){let jt,Wt=It.get(se=se.head||se);if(Wt||It.set(se,Wt=new Set),!Wt.has(We)){if(se.host&&(jt=se.querySelector(`[${Q}="${We}"]`)))jt.innerHTML=Tt;else{jt=Nr.createElement("style"),jt.innerHTML=Tt;const Ft=null!==(nt=xr.$nonce$)&&void 0!==nt?nt:yt(Nr);null!=Ft&&jt.setAttribute("nonce",Ft),se.insertBefore(jt,se.querySelector("link"))}Wt&&Wt.add(We)}}else se.adoptedStyleSheets.includes(Tt)||(se.adoptedStyleSheets=[...se.adoptedStyleSheets,Tt]);return We},Mn=(se,Ee)=>"sc-"+(Ee&&32&se.$flags$?se.$tagName$+"-"+Ee:se.$tagName$),Ct=se=>se.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),nr=(se,Ee,Ze,pe,nt,We)=>{if(Ze!==pe){let Tt=gr(se,Ee),Wt=Ee.toLowerCase();if("class"===Ee){const jt=se.classList,Ft=On(Ze),En=On(pe);jt.remove(...Ft.filter(gn=>gn&&!En.includes(gn))),jt.add(...En.filter(gn=>gn&&!Ft.includes(gn)))}else if("style"===Ee){for(const jt in Ze)(!pe||null==pe[jt])&&(jt.includes("-")?se.style.removeProperty(jt):se.style[jt]="");for(const jt in pe)(!Ze||pe[jt]!==Ze[jt])&&(jt.includes("-")?se.style.setProperty(jt,pe[jt]):se.style[jt]=pe[jt])}else if("key"!==Ee)if("ref"===Ee)pe&&pe(se);else if(Tt||"o"!==Ee[0]||"n"!==Ee[1]){const jt=we(pe);if((Tt||jt&&null!==pe)&&!nt)try{if(se.tagName.includes("-"))se[Ee]=pe;else{const En=null==pe?"":pe;"list"===Ee?Tt=!1:(null==Ze||se[Ee]!=En)&&(se[Ee]=En)}}catch{}let Ft=!1;Wt!==(Wt=Wt.replace(/^xlink\:?/,""))&&(Ee=Wt,Ft=!0),null==pe||!1===pe?(!1!==pe||""===se.getAttribute(Ee))&&(Ft?se.removeAttributeNS(Ke,Ee):se.removeAttribute(Ee)):(!Tt||4&We||nt)&&!jt&&(pe=!0===pe?"":pe,Ft?se.setAttributeNS(Ke,Ee,pe):se.setAttribute(Ee,pe))}else Ee="-"===Ee[2]?Ee.slice(3):gr(Ii,Wt)?Wt.slice(2):Wt[2]+Ee.slice(3),Ze&&xr.rel(se,Ee,Ze,!1),pe&&xr.ael(se,Ee,pe,!1)}},Fn=/\s/,On=se=>se?se.split(Fn):[],Qn=(se,Ee,Ze,pe)=>{const nt=11===Ee.$elm$.nodeType&&Ee.$elm$.host?Ee.$elm$.host:Ee.$elm$,We=se&&se.$attrs$||Ue,Tt=Ee.$attrs$||Ue;for(pe in We)pe in Tt||nr(nt,pe,We[pe],void 0,Ze,Ee.$flags$);for(pe in Tt)nr(nt,pe,We[pe],Tt[pe],Ze,Ee.$flags$)},Gr=(se,Ee,Ze,pe)=>{const nt=Ee.$children$[Ze];let Tt,Wt,jt,We=0;if(ve||(Oe=!0,"slot"===nt.$tag$&&(te&&pe.classList.add(te+"-s"),nt.$flags$|=nt.$children$?2:1)),null!==nt.$text$)Tt=nt.$elm$=Nr.createTextNode(nt.$text$);else if(1&nt.$flags$)Tt=nt.$elm$=Nr.createTextNode("");else{if($e||($e="svg"===nt.$tag$),Tt=nt.$elm$=Nr.createElementNS($e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&nt.$flags$?"slot-fb":nt.$tag$),$e&&"foreignObject"===nt.$tag$&&($e=!1),Qn(null,nt,$e),(se=>null!=se)(te)&&Tt["s-si"]!==te&&Tt.classList.add(Tt["s-si"]=te),nt.$children$)for(We=0;We<nt.$children$.length;++We)Wt=Gr(se,nt,We,Tt),Wt&&Tt.appendChild(Wt);"svg"===nt.$tag$?$e=!1:"foreignObject"===Tt.tagName&&($e=!0)}return Tt["s-hn"]=Ie,3&nt.$flags$&&(Tt["s-sr"]=!0,Tt["s-cr"]=de,Tt["s-sn"]=nt.$name$||"",jt=se&&se.$children$&&se.$children$[Ze],jt&&jt.$tag$===nt.$tag$&&se.$elm$&&Yn(se.$elm$,!1)),Tt},Yn=(se,Ee)=>{xr.$flags$|=1;const Ze=se.childNodes;for(let pe=Ze.length-1;pe>=0;pe--){const nt=Ze[pe];nt["s-hn"]!==Ie&&nt["s-ol"]&&(Yr(nt).insertBefore(nt,Mr(nt)),nt["s-ol"].remove(),nt["s-ol"]=void 0,Oe=!0),Ee&&Yn(nt,Ee)}xr.$flags$&=-2},fr=(se,Ee,Ze,pe,nt,We)=>{let Wt,Tt=se["s-cr"]&&se["s-cr"].parentNode||se;for(Tt.shadowRoot&&Tt.tagName===Ie&&(Tt=Tt.shadowRoot);nt<=We;++nt)pe[nt]&&(Wt=Gr(null,Ze,nt,se),Wt&&(pe[nt].$elm$=Wt,Tt.insertBefore(Wt,Mr(Ee))))},Vt=(se,Ee,Ze)=>{for(let pe=Ee;pe<=Ze;++pe){const nt=se[pe];if(nt){const We=nt.$elm$;sr(nt),We&&(ge=!0,We["s-ol"]?We["s-ol"].remove():Yn(We,!0),We.remove())}}},zr=(se,Ee)=>se.$tag$===Ee.$tag$&&("slot"===se.$tag$?se.$name$===Ee.$name$:se.$key$===Ee.$key$),Mr=se=>se&&se["s-ol"]||se,Yr=se=>(se["s-ol"]?se["s-ol"]:se).parentNode,Jr=(se,Ee)=>{const Ze=Ee.$elm$=se.$elm$,pe=se.$children$,nt=Ee.$children$,We=Ee.$tag$,Tt=Ee.$text$;let Wt;null===Tt?($e="svg"===We||"foreignObject"!==We&&$e,"slot"===We||Qn(se,Ee,$e),null!==pe&&null!==nt?((se,Ee,Ze,pe)=>{let at,lt,nt=0,We=0,Tt=0,Wt=0,jt=Ee.length-1,Ft=Ee[0],En=Ee[jt],gn=pe.length-1,Pn=pe[0],Xe=pe[gn];for(;nt<=jt&&We<=gn;)if(null==Ft)Ft=Ee[++nt];else if(null==En)En=Ee[--jt];else if(null==Pn)Pn=pe[++We];else if(null==Xe)Xe=pe[--gn];else if(zr(Ft,Pn))Jr(Ft,Pn),Ft=Ee[++nt],Pn=pe[++We];else if(zr(En,Xe))Jr(En,Xe),En=Ee[--jt],Xe=pe[--gn];else if(zr(Ft,Xe))("slot"===Ft.$tag$||"slot"===Xe.$tag$)&&Yn(Ft.$elm$.parentNode,!1),Jr(Ft,Xe),se.insertBefore(Ft.$elm$,En.$elm$.nextSibling),Ft=Ee[++nt],Xe=pe[--gn];else if(zr(En,Pn))("slot"===Ft.$tag$||"slot"===Xe.$tag$)&&Yn(En.$elm$.parentNode,!1),Jr(En,Pn),se.insertBefore(En.$elm$,Ft.$elm$),En=Ee[--jt],Pn=pe[++We];else{for(Tt=-1,Wt=nt;Wt<=jt;++Wt)if(Ee[Wt]&&null!==Ee[Wt].$key$&&Ee[Wt].$key$===Pn.$key$){Tt=Wt;break}Tt>=0?(lt=Ee[Tt],lt.$tag$!==Pn.$tag$?at=Gr(Ee&&Ee[We],Ze,Tt,se):(Jr(lt,Pn),Ee[Tt]=void 0,at=lt.$elm$),Pn=pe[++We]):(at=Gr(Ee&&Ee[We],Ze,We,se),Pn=pe[++We]),at&&Yr(Ft.$elm$).insertBefore(at,Mr(Ft.$elm$))}nt>jt?fr(se,null==pe[gn+1]?null:pe[gn+1].$elm$,Ze,pe,We,gn):We>gn&&Vt(Ee,nt,jt)})(Ze,pe,Ee,nt):null!==nt?(null!==se.$text$&&(Ze.textContent=""),fr(Ze,null,Ee,nt,0,nt.length-1)):null!==pe&&Vt(pe,0,pe.length-1),$e&&"svg"===We&&($e=!1)):(Wt=Ze["s-cr"])?Wt.parentNode.textContent=Tt:se.$text$!==Tt&&(Ze.data=Tt)},Gn=se=>{const Ee=se.childNodes;let Ze,pe,nt,We,Tt,Wt;for(pe=0,nt=Ee.length;pe<nt;pe++)if(Ze=Ee[pe],1===Ze.nodeType){if(Ze["s-sr"])for(Tt=Ze["s-sn"],Ze.hidden=!1,We=0;We<nt;We++)if(Wt=Ee[We].nodeType,Ee[We]["s-hn"]!==Ze["s-hn"]||""!==Tt){if(1===Wt&&Tt===Ee[We].getAttribute("slot")){Ze.hidden=!0;break}}else if(1===Wt||3===Wt&&""!==Ee[We].textContent.trim()){Ze.hidden=!0;break}Gn(Ze)}},Zr=[],yr=se=>{let Ee,Ze,pe,nt,We,Tt,Wt=0;const jt=se.childNodes,Ft=jt.length;for(;Wt<Ft;Wt++){if(Ee=jt[Wt],Ee["s-sr"]&&(Ze=Ee["s-cr"])&&Ze.parentNode)for(pe=Ze.parentNode.childNodes,nt=Ee["s-sn"],Tt=pe.length-1;Tt>=0;Tt--)Ze=pe[Tt],!Ze["s-cn"]&&!Ze["s-nr"]&&Ze["s-hn"]!==Ee["s-hn"]&&(vr(Ze,nt)?(We=Zr.find(En=>En.$nodeToRelocate$===Ze),ge=!0,Ze["s-sn"]=Ze["s-sn"]||nt,We?We.$slotRefNode$=Ee:Zr.push({$slotRefNode$:Ee,$nodeToRelocate$:Ze}),Ze["s-sr"]&&Zr.map(En=>{vr(En.$nodeToRelocate$,Ze["s-sn"])&&(We=Zr.find(gn=>gn.$nodeToRelocate$===Ze),We&&!En.$slotRefNode$&&(En.$slotRefNode$=We.$slotRefNode$))})):Zr.some(En=>En.$nodeToRelocate$===Ze)||Zr.push({$nodeToRelocate$:Ze}));1===Ee.nodeType&&yr(Ee)}},vr=(se,Ee)=>1===se.nodeType?null===se.getAttribute("slot")&&""===Ee||se.getAttribute("slot")===Ee:se["s-sn"]===Ee||""===Ee,sr=se=>{se.$attrs$&&se.$attrs$.ref&&se.$attrs$.ref(null),se.$children$&&se.$children$.map(sr)},Er=(se,Ee)=>{Ee&&!se.$onRenderResolve$&&Ee["s-p"]&&Ee["s-p"].push(new Promise(Ze=>se.$onRenderResolve$=Ze))},Qi=(se,Ee)=>{if(se.$flags$|=16,!(4&se.$flags$))return Er(se,se.$ancestorComponent$),Hi(()=>st(se,Ee));se.$flags$|=512},st=(se,Ee)=>{const pe=se.$lazyInstance$;let nt;return Ee&&(se.$flags$|=256,se.$queuedListeners$&&(se.$queuedListeners$.map(([We,Tt])=>ln(pe,We,Tt)),se.$queuedListeners$=void 0),nt=ln(pe,"componentWillLoad")),nt=et(nt,()=>ln(pe,"componentWillRender")),et(nt,()=>je(se,pe,Ee))},et=(se,Ee)=>se instanceof Promise?se.then(Ee):Ee(),je=function(){var se=(0,v.Z)(function*(Ee,Ze,pe){var nt;const We=Ee.$hostElement$,Wt=We["s-rc"];pe&&(se=>{const Ee=se.$cmpMeta$,Ze=se.$hostElement$,pe=Ee.$flags$,We=kt(Ze.shadowRoot?Ze.shadowRoot:Ze.getRootNode(),Ee,se.$modeName$);10&pe&&(Ze["s-sc"]=We,Ze.classList.add(We+"-h"),2&pe&&Ze.classList.add(We+"-s"))})(Ee);Qe(Ee,Ze),Wt&&(Wt.map(Ft=>Ft()),We["s-rc"]=void 0);{const Ft=null!==(nt=We["s-p"])&&void 0!==nt?nt:[],En=()=>ze(Ee);0===Ft.length?En():(Promise.all(Ft).then(En),Ee.$flags$|=4,Ft.length=0)}});return function(Ze,pe,nt){return se.apply(this,arguments)}}(),Qe=(se,Ee,Ze)=>{try{Ee=Ee.render&&Ee.render(),se.$flags$&=-17,se.$flags$|=2,((se,Ee)=>{const Ze=se.$hostElement$,pe=se.$cmpMeta$,nt=se.$vnode$||Ge(null,null),We=(se=>se&&se.$tag$===Qt)(Ee)?Ee:ht(null,null,Ee);if(Ie=Ze.tagName,pe.$attrsToReflect$&&(We.$attrs$=We.$attrs$||{},pe.$attrsToReflect$.map(([Tt,Wt])=>We.$attrs$[Wt]=Ze[Tt])),We.$tag$=null,We.$flags$|=4,se.$vnode$=We,We.$elm$=nt.$elm$=Ze.shadowRoot||Ze,te=Ze["s-sc"],de=Ze["s-cr"],ve=0!=(1&pe.$flags$),ge=!1,Jr(nt,We),xr.$flags$|=1,Oe){yr(We.$elm$);let Tt,Wt,jt,Ft,En,gn,Pn=0;for(;Pn<Zr.length;Pn++)Tt=Zr[Pn],Wt=Tt.$nodeToRelocate$,Wt["s-ol"]||(jt=Nr.createTextNode(""),jt["s-nr"]=Wt,Wt.parentNode.insertBefore(Wt["s-ol"]=jt,Wt));for(Pn=0;Pn<Zr.length;Pn++)if(Tt=Zr[Pn],Wt=Tt.$nodeToRelocate$,Tt.$slotRefNode$){for(Ft=Tt.$slotRefNode$.parentNode,En=Tt.$slotRefNode$.nextSibling,jt=Wt["s-ol"];jt=jt.previousSibling;)if(gn=jt["s-nr"],gn&&gn["s-sn"]===Wt["s-sn"]&&Ft===gn.parentNode&&(gn=gn.nextSibling,!gn||!gn["s-nr"])){En=gn;break}(!En&&Ft!==Wt.parentNode||Wt.nextSibling!==En)&&Wt!==En&&(!Wt["s-hn"]&&Wt["s-ol"]&&(Wt["s-hn"]=Wt["s-ol"].parentNode.nodeName),Ft.insertBefore(Wt,En))}else 1===Wt.nodeType&&(Wt.hidden=!0)}ge&&Gn(We.$elm$),xr.$flags$&=-2,Zr.length=0})(se,Ee)}catch(pe){Ir(pe,se.$hostElement$)}return null},ze=se=>{const Ze=se.$hostElement$,nt=se.$lazyInstance$,We=se.$ancestorComponent$;ln(nt,"componentDidRender"),64&se.$flags$?ln(nt,"componentDidUpdate"):(se.$flags$|=64,er(Ze),ln(nt,"componentDidLoad"),se.$onReadyResolve$(Ze),We||hn()),se.$onInstanceResolve$(Ze),se.$onRenderResolve$&&(se.$onRenderResolve$(),se.$onRenderResolve$=void 0),512&se.$flags$&&es(()=>Qi(se,!1)),se.$flags$&=-517},$t=se=>{{const Ee=fi(se),Ze=Ee.$hostElement$.isConnected;return Ze&&2==(18&Ee.$flags$)&&Qi(Ee,!1),Ze}},hn=se=>{er(Nr.documentElement),es(()=>St(Ii,"appload",{detail:{namespace:"ionic"}}))},ln=(se,Ee,Ze)=>{if(se&&se[Ee])try{return se[Ee](Ze)}catch(pe){Ir(pe)}},er=se=>se.classList.add("hydrated"),Ve=(se,Ee,Ze)=>{if(Ee.$members$){se.watchers&&(Ee.$watchers$=se.watchers);const pe=Object.entries(Ee.$members$),nt=se.prototype;if(pe.map(([We,[Tt]])=>{31&Tt||2&Ze&&32&Tt?Object.defineProperty(nt,We,{get(){return((se,Ee)=>fi(this).$instanceValues$.get(Ee))(0,We)},set(Wt){((se,Ee,Ze,pe)=>{const nt=fi(se),We=nt.$hostElement$,Tt=nt.$instanceValues$.get(Ee),Wt=nt.$flags$,jt=nt.$lazyInstance$;Ze=((se,Ee)=>null==se||we(se)?se:4&Ee?"false"!==se&&(""===se||!!se):2&Ee?parseFloat(se):1&Ee?String(se):se)(Ze,pe.$members$[Ee][0]);const Ft=Number.isNaN(Tt)&&Number.isNaN(Ze);if((!(8&Wt)||void 0===Tt)&&Ze!==Tt&&!Ft&&(nt.$instanceValues$.set(Ee,Ze),jt)){if(pe.$watchers$&&128&Wt){const gn=pe.$watchers$[Ee];gn&&gn.map(Pn=>{try{jt[Pn](Ze,Tt,Ee)}catch(Xe){Ir(Xe,We)}})}2==(18&Wt)&&Qi(nt,!1)}})(this,We,Wt,Ee)},configurable:!0,enumerable:!0}):1&Ze&&64&Tt&&Object.defineProperty(nt,We,{value(...Wt){const jt=fi(this);return jt.$onInstancePromise$.then(()=>jt.$lazyInstance$[We](...Wt))}})}),1&Ze){const We=new Map;nt.attributeChangedCallback=function(Tt,Wt,jt){xr.jmp(()=>{const Ft=We.get(Tt);if(this.hasOwnProperty(Ft))jt=this[Ft],delete this[Ft];else if(nt.hasOwnProperty(Ft)&&"number"==typeof this[Ft]&&this[Ft]==jt)return;this[Ft]=(null!==jt||"boolean"!=typeof this[Ft])&&jt})},se.observedAttributes=pe.filter(([Tt,Wt])=>15&Wt[0]).map(([Tt,Wt])=>{const jt=Wt[1]||Tt;return We.set(jt,Tt),512&Wt[0]&&Ee.$attrsToReflect$.push([Tt,jt]),jt})}}return se},xe=function(){var se=(0,v.Z)(function*(Ee,Ze,pe,nt,We){if(!(32&Ze.$flags$)){Ze.$flags$|=32;{if((We=Pi(pe)).then){const Ft=()=>{};We=yield We,Ft()}We.isProxied||(pe.$watchers$=We.watchers,Ve(We,pe,2),We.isProxied=!0);const jt=()=>{};Ze.$flags$|=8;try{new We(Ze)}catch(Ft){Ir(Ft)}Ze.$flags$&=-9,Ze.$flags$|=128,jt(),gt(Ze.$lazyInstance$)}if(We.style){let jt=We.style;"string"!=typeof jt&&(jt=jt[Ze.$modeName$=(se=>li.map(Ee=>Ee(se)).find(Ee=>!!Ee))(Ee)]);const Ft=Mn(pe,Ze.$modeName$);if(!Ai.has(Ft)){const En=()=>{};Ut(Ft,jt,!!(1&pe.$flags$)),En()}}}const Tt=Ze.$ancestorComponent$,Wt=()=>Qi(Ze,!0);Tt&&Tt["s-rc"]?Tt["s-rc"].push(Wt):Wt()});return function(Ze,pe,nt,We,Tt){return se.apply(this,arguments)}}(),gt=se=>{ln(se,"connectedCallback")},fn=se=>{const Ee=se["s-cr"]=Nr.createComment("");Ee["s-cn"]=!0,se.insertBefore(Ee,se.firstChild)},Un=(se,Ee={})=>{var Ze;const nt=[],We=Ee.exclude||[],Tt=Ii.customElements,Wt=Nr.head,jt=Wt.querySelector("meta[charset]"),Ft=Nr.createElement("style"),En=[],gn=Nr.querySelectorAll(`[${Q}]`);let Pn,Xe=!0,at=0;for(Object.assign(xr,Ee),xr.$resourcesUrl$=new URL(Ee.resourcesUrl||"./",Nr.baseURI).href,xr.$flags$|=2;at<gn.length;at++)Ut(gn[at].getAttribute(Q),Ct(gn[at].innerHTML),!0);se.map(lt=>{lt[1].map(Ht=>{const sn={$flags$:Ht[0],$tagName$:Ht[1],$members$:Ht[2],$listeners$:Ht[3]};sn.$members$=Ht[2],sn.$listeners$=Ht[3],sn.$attrsToReflect$=[],sn.$watchers$={};const In=sn.$tagName$,lr=class extends HTMLElement{constructor(ei){super(ei),si(ei=this,sn),1&sn.$flags$&&ei.attachShadow({mode:"open",delegatesFocus:!!(16&sn.$flags$)})}connectedCallback(){Pn&&(clearTimeout(Pn),Pn=null),Xe?En.push(this):xr.jmp(()=>(se=>{if(!(1&xr.$flags$)){const Ee=fi(se),Ze=Ee.$cmpMeta$,pe=()=>{};if(1&Ee.$flags$)pr(se,Ee,Ze.$listeners$),gt(Ee.$lazyInstance$);else{let nt;if(Ee.$flags$|=1,nt=se.getAttribute(ye),nt){if(1&Ze.$flags$){const We=kt(se.shadowRoot,Ze,se.getAttribute("s-mode"));se.classList.remove(We+"-h",We+"-s")}((se,Ee,Ze,pe)=>{const We=se.shadowRoot,Tt=[],jt=We?[]:null,Ft=pe.$vnode$=Ge(Ee,null);xr.$orgLocNodes$||Et(Nr.body,xr.$orgLocNodes$=new Map),se[ye]=Ze,se.removeAttribute(ye),qe(Ft,Tt,[],jt,se,se,Ze),Tt.map(En=>{const gn=En.$hostId$+"."+En.$nodeId$,Pn=xr.$orgLocNodes$.get(gn),Xe=En.$elm$;Pn&&wi&&""===Pn["s-en"]&&Pn.parentNode.insertBefore(Xe,Pn.nextSibling),We||(Xe["s-hn"]=Ee,Pn&&(Xe["s-ol"]=Pn,Xe["s-ol"]["s-nr"]=Xe)),xr.$orgLocNodes$.delete(gn)}),We&&jt.map(En=>{En&&We.appendChild(En)})})(se,Ze.$tagName$,nt,Ee)}nt||12&Ze.$flags$&&fn(se);{let We=se;for(;We=We.parentNode||We.host;)if(1===We.nodeType&&We.hasAttribute("s-id")&&We["s-p"]||We["s-p"]){Er(Ee,Ee.$ancestorComponent$=We);break}}Ze.$members$&&Object.entries(Ze.$members$).map(([We,[Tt]])=>{if(31&Tt&&se.hasOwnProperty(We)){const Wt=se[We];delete se[We],se[We]=Wt}}),xe(se,Ee,Ze)}pe()}})(this))}disconnectedCallback(){xr.jmp(()=>(se=>{if(!(1&xr.$flags$)){const Ee=fi(this),Ze=Ee.$lazyInstance$;Ee.$rmListeners$&&(Ee.$rmListeners$.map(pe=>pe()),Ee.$rmListeners$=void 0),ln(Ze,"disconnectedCallback")}})())}componentOnReady(){return fi(this).$onReadyPromise$}};sn.$lazyBundleId$=lt[0],!We.includes(In)&&!Tt.get(In)&&(nt.push(In),Tt.define(In,Ve(lr,sn,1)))})});{Ft.innerHTML=nt+"{visibility:hidden}.hydrated{visibility:inherit}",Ft.setAttribute("data-styles","");const lt=null!==(Ze=xr.$nonce$)&&void 0!==Ze?Ze:yt(Nr);null!=lt&&Ft.setAttribute("nonce",lt),Wt.insertBefore(Ft,jt?jt.nextSibling:Wt.firstChild)}Xe=!1,En.length?En.map(lt=>lt.connectedCallback()):xr.jmp(()=>Pn=setTimeout(hn,30))},pr=(se,Ee,Ze,pe)=>{Ze&&Ze.map(([nt,We,Tt])=>{const Wt=qn(se,nt),jt=Vr(Ee,Tt),Ft=Ui(nt);xr.ael(Wt,We,jt,Ft),(Ee.$rmListeners$=Ee.$rmListeners$||[]).push(()=>xr.rel(Wt,We,jt,Ft))})},Vr=(se,Ee)=>Ze=>{try{256&se.$flags$?se.$lazyInstance$[Ee](Ze):(se.$queuedListeners$=se.$queuedListeners$||[]).push([Ee,Ze])}catch(pe){Ir(pe)}},qn=(se,Ee)=>4&Ee?Nr:8&Ee?Ii:16&Ee?Nr.body:se,Ui=se=>0!=(2&se),ns=new WeakMap,fi=se=>ns.get(se),Ei=(se,Ee)=>ns.set(Ee.$lazyInstance$=se,Ee),si=(se,Ee)=>{const Ze={$flags$:0,$hostElement$:se,$cmpMeta$:Ee,$instanceValues$:new Map};return Ze.$onInstancePromise$=new Promise(pe=>Ze.$onInstanceResolve$=pe),Ze.$onReadyPromise$=new Promise(pe=>Ze.$onReadyResolve$=pe),se["s-p"]=[],se["s-rc"]=[],pr(se,Ze,Ee.$listeners$),ns.set(se,Ze)},gr=(se,Ee)=>Ee in se,Ir=(se,Ee)=>(0,console.error)(se,Ee),Pr=new Map,Pi=(se,Ee,Ze)=>{const pe=se.$tagName$.replace(/-/g,"_"),nt=se.$lazyBundleId$,We=Pr.get(nt);return We?We[pe]:F(863)(`./${nt}.entry.js`).then(Tt=>(Pr.set(nt,Tt),Tt[pe]),Ir)},Ai=new Map,li=[],Ii=typeof window<"u"?window:{},Nr=Ii.document||{head:{}},xr={$flags$:0,$resourcesUrl$:"",jmp:se=>se(),raf:se=>requestAnimationFrame(se),ael:(se,Ee,Ze,pe)=>se.addEventListener(Ee,Ze,pe),rel:(se,Ee,Ze,pe)=>se.removeEventListener(Ee,Ze,pe),ce:(se,Ee)=>new CustomEvent(se,Ee)},Bi=se=>{Object.assign(xr,se)},wi=!0,Ds=se=>Promise.resolve(se),Ni=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Cs=[],Ji=[],rs=(se,Ee)=>Ze=>{se.push(Ze),Se||(Se=!0,Ee&&4&xr.$flags$?es(hs):xr.raf(hs))},ji=se=>{for(let Ee=0;Ee<se.length;Ee++)try{se[Ee](performance.now())}catch(Ze){Ir(Ze)}se.length=0},hs=()=>{ji(Cs),ji(Ji),(Se=Cs.length>0)&&xr.raf(hs)},es=se=>Ds().then(se),Os=rs(Cs,!1),Hi=rs(Ji,!0)},1178:(cn,ut,F)=>{"use strict";F.d(ut,{a:()=>y,b:()=>te,p:()=>v});const v=(de,...Ie)=>console.warn(`[Ionic Warning]: ${de}`,...Ie),y=(de,...Ie)=>console.error(`[Ionic Error]: ${de}`,...Ie),te=(de,...Ie)=>console.error(`<${de.tagName.toLowerCase()}> must be used inside ${Ie.join(" or ")}.`)},953:(cn,ut,F)=>{"use strict";F.d(ut,{a:()=>ue,b:()=>dt,c:()=>te,g:()=>Se,i:()=>tt});var v=F(661);class y{constructor(){this.m=new Map}reset(Ae){this.m=new Map(Object.entries(Ae))}get(Ae,Le){const qe=this.m.get(Ae);return void 0!==qe?qe:Le}getBoolean(Ae,Le=!1){const qe=this.m.get(Ae);return void 0===qe?Le:"string"==typeof qe?"true"===qe:!!qe}getNumber(Ae,Le){const qe=parseFloat(this.m.get(Ae));return isNaN(qe)?void 0!==Le?Le:NaN:qe}set(Ae,Le){this.m.set(Ae,Le)}}const te=new y,$e="ionic-persist-config",Se=Me=>Ne(Me),ue=(Me,Ae)=>("string"==typeof Me&&(Ae=Me,Me=void 0),Se(Me).includes(Ae)),Ne=(Me=window)=>{if(typeof Me>"u")return[];Me.Ionic=Me.Ionic||{};let Ae=Me.Ionic.platforms;return null==Ae&&(Ae=Me.Ionic.platforms=Pe(Me),Ae.forEach(Le=>Me.document.documentElement.classList.add(`plt-${Le}`))),Ae},Pe=Me=>{const Ae=te.get("platform");return Object.keys(Ge).filter(Le=>{const qe=null==Ae?void 0:Ae[Le];return"function"==typeof qe?qe(Me):Ge[Le](Me)})},Ye=Me=>!!(yt(Me,/iPad/i)||yt(Me,/Macintosh/i)&&Ce(Me)),be=Me=>yt(Me,/android|sink/i),Ce=Me=>ht(Me,"(any-pointer:coarse)"),Ue=Me=>Te(Me)||q(Me),Te=Me=>!!(Me.cordova||Me.phonegap||Me.PhoneGap),q=Me=>{const Ae=Me.Capacitor;return!(null==Ae||!Ae.isNative)},yt=(Me,Ae)=>Ae.test(Me.navigator.userAgent),ht=(Me,Ae)=>{var Le;return null===(Le=Me.matchMedia)||void 0===Le?void 0:Le.call(Me,Ae).matches},Ge={ipad:Ye,iphone:Me=>yt(Me,/iPhone/i),ios:Me=>yt(Me,/iPhone|iPod/i)||Ye(Me),android:be,phablet:Me=>{const Ae=Me.innerWidth,Le=Me.innerHeight,qe=Math.min(Ae,Le),Et=Math.max(Ae,Le);return qe>390&&qe<520&&Et>620&&Et<800},tablet:Me=>{const Ae=Me.innerWidth,Le=Me.innerHeight,qe=Math.min(Ae,Le),Et=Math.max(Ae,Le);return Ye(Me)||(Me=>be(Me)&&!yt(Me,/mobile/i))(Me)||qe>460&&qe<820&&Et>780&&Et<1400},cordova:Te,capacitor:q,electron:Me=>yt(Me,/electron/i),pwa:Me=>{var Ae;return!!(null!==(Ae=Me.matchMedia)&&void 0!==Ae&&Ae.call(Me,"(display-mode: standalone)").matches||Me.navigator.standalone)},mobile:Ce,mobileweb:Me=>Ce(Me)&&!Ue(Me),desktop:Me=>!Ce(Me),hybrid:Ue};let Qt;const dt=Me=>Me&&(0,v.g)(Me)||Qt,tt=(Me={})=>{if(typeof window>"u")return;const Ae=window.document,Le=window,qe=Le.Ionic=Le.Ionic||{},Et={};Me._ael&&(Et.ael=Me._ael),Me._rel&&(Et.rel=Me._rel),Me._ce&&(Et.ce=Me._ce),(0,v.a)(Et);const Bt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Me=>{try{const Ae=Me.sessionStorage.getItem($e);return null!==Ae?JSON.parse(Ae):{}}catch{return{}}})(Le)),{persistConfig:!1}),qe.config),(Me=>{const Ae={};return Me.location.search.slice(1).split("&").map(Le=>Le.split("=")).map(([Le,qe])=>[decodeURIComponent(Le),decodeURIComponent(qe)]).filter(([Le])=>((Me,Ae)=>Me.substr(0,Ae.length)===Ae)(Le,"ionic:")).map(([Le,qe])=>[Le.slice(6),qe]).forEach(([Le,qe])=>{Ae[Le]=qe}),Ae})(Le)),Me);te.reset(Bt),te.getBoolean("persistConfig")&&((Me,Ae)=>{try{Me.sessionStorage.setItem($e,JSON.stringify(Ae))}catch{return}})(Le,Bt),Ne(Le),qe.config=te,qe.mode=Qt=te.get("mode",Ae.documentElement.getAttribute("mode")||(ue(Le,"ios")?"ios":"md")),te.set("mode",Qt),Ae.documentElement.setAttribute("mode",Qt),Ae.documentElement.classList.add(Qt),te.getBoolean("_testing")&&te.set("animated",!1);const on=nn=>{var Mt;return null===(Mt=nn.tagName)||void 0===Mt?void 0:Mt.startsWith("ION-")},rn=nn=>["ios","md"].includes(nn);(0,v.c)(nn=>{for(;nn;){const Mt=nn.mode||nn.getAttribute("mode");if(Mt){if(rn(Mt))return Mt;on(nn)&&console.warn('Invalid ionic mode: "'+Mt+'", expected: "ios" or "md"')}nn=nn.parentElement}return Qt})}},9858:(cn,ut,F)=>{"use strict";F.r(ut),F.d(ut,{iosTransitionAnimation:()=>Pe,shadow:()=>ge});var v=F(8127),y=F(7774);F(4110),F(661);const ve=Be=>document.querySelector(`${Be}.ion-cloned-element`),ge=Be=>Be.shadowRoot||Be,Oe=Be=>{const Ye="ION-TABS"===Be.tagName?Be:Be.querySelector("ion-tabs"),mt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ye){const ke=Ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ke?ke.querySelector(mt):null}return Be.querySelector(mt)},$e=(Be,Ye)=>{const mt="ION-TABS"===Be.tagName?Be:Be.querySelector("ion-tabs");let ke=[];if(null!=mt){const be=mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=be&&(ke=be.querySelectorAll("ion-buttons"))}else ke=Be.querySelectorAll("ion-buttons");for(const be of ke){const ye=be.closest("ion-header"),Q=ye&&!ye.classList.contains("header-collapse-condense-inactive"),rt=be.querySelector("ion-back-button"),Ce=be.classList.contains("buttons-collapse");if(null!==rt&&("start"===be.slot||""===be.slot)&&(Ce&&Q&&Ye||!Ce))return rt}return null},ue=(Be,Ye,mt,ke,be,ye)=>{const Q=Ye?`calc(100% - ${ye.right+4}px)`:ye.left-4+"px",rt=Ye?"7px":"-7px",Ce=Ye?"-4px":"4px",Ke=Ye?"-4px":"4px",Ue=Ye?"right":"left",Te=Ye?"left":"right",we=mt?[{offset:0,opacity:1,transform:`translate3d(${Ce}, ${ye.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${rt}, ${be.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${rt}, ${be.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ce}, ${ye.top-46}px, 0) scale(1)`}],Ge=mt?[{offset:0,opacity:1,transform:`translate3d(${Ke}, ${ye.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ke}, ${ye.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ke}, ${ye.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ke}, ${ye.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ke}, ${ye.top-46}px, 0) scale(1)`}],Qt=(0,v.c)(),dt=(0,v.c)(),tt=ve("ion-back-button"),Me=ge(tt).querySelector(".button-text"),Ae=ge(tt).querySelector("ion-icon");tt.text=ke.text,tt.mode=ke.mode,tt.icon=ke.icon,tt.color=ke.color,tt.disabled=ke.disabled,tt.style.setProperty("display","block"),tt.style.setProperty("position","fixed"),dt.addElement(Ae),Qt.addElement(Me),Qt.beforeStyles({"transform-origin":`${Ue} center`}).beforeAddWrite(()=>{ke.style.setProperty("display","none"),tt.style.setProperty(Ue,Q)}).afterAddWrite(()=>{ke.style.setProperty("display",""),tt.style.setProperty("display","none"),tt.style.removeProperty(Ue)}).keyframes(we),dt.beforeStyles({"transform-origin":`${Te} center`}).keyframes(Ge),Be.addAnimation([Qt,dt])},Ne=(Be,Ye,mt,ke,be,ye)=>{const Q=Ye?`calc(100% - ${be.right}px)`:`${be.left}px`,rt=Ye?"-18px":"18px",Ce=Ye?"right":"left",Te=mt?[{offset:0,opacity:0,transform:`translate3d(${rt}, ${ye.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${be.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${be.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${rt}, ${ye.top-4}px, 0) scale(0.5)`}],q=ve("ion-title"),He=(0,v.c)();q.innerText=ke.innerText,q.size=ke.size,q.color=ke.color,He.addElement(q),He.beforeStyles({"transform-origin":`${Ce} center`,height:"46px",display:"",position:"relative",[Ce]:Q}).beforeAddWrite(()=>{ke.style.setProperty("display","none")}).afterAddWrite(()=>{ke.style.setProperty("display",""),q.style.setProperty("display","none")}).keyframes(Te),Be.addAnimation(He)},Pe=(Be,Ye)=>{var mt;try{const ke="cubic-bezier(0.32,0.72,0,1)",be="opacity",ye="transform",Q="0%",Ce="rtl"===Be.ownerDocument.dir,Ke=Ce?"-99.5%":"99.5%",Ue=Ce?"33%":"-33%",Te=Ye.enteringEl,q=Ye.leavingEl,He="back"===Ye.direction,we=Te.querySelector(":scope > ion-content"),yt=Te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ht=Te.querySelectorAll(":scope > ion-header > ion-toolbar"),Ge=(0,v.c)(),Qt=(0,v.c)();if(Ge.addElement(Te).duration((null!==(mt=Ye.duration)&&void 0!==mt?mt:0)||540).easing(Ye.easing||ke).fill("both").beforeRemoveClass("ion-page-invisible"),q&&null!=Be){const Ae=(0,v.c)();Ae.addElement(Be),Ge.addAnimation(Ae)}if(we||0!==ht.length||0!==yt.length?(Qt.addElement(we),Qt.addElement(yt)):Qt.addElement(Te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ge.addAnimation(Qt),He?Qt.beforeClearStyles([be]).fromTo("transform",`translateX(${Ue})`,`translateX(${Q})`).fromTo(be,.8,1):Qt.beforeClearStyles([be]).fromTo("transform",`translateX(${Ke})`,`translateX(${Q})`),we){const Ae=ge(we).querySelector(".transition-effect");if(Ae){const Le=Ae.querySelector(".transition-cover"),qe=Ae.querySelector(".transition-shadow"),Et=(0,v.c)(),Bt=(0,v.c)(),on=(0,v.c)();Et.addElement(Ae).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Bt.addElement(Le).beforeClearStyles([be]).fromTo(be,0,.1),on.addElement(qe).beforeClearStyles([be]).fromTo(be,.03,.7),Et.addAnimation([Bt,on]),Qt.addAnimation([Et])}}const dt=Te.querySelector("ion-header.header-collapse-condense"),{forward:tt,backward:Me}=((Be,Ye,mt,ke,be)=>{const ye=$e(ke,mt),Q=Oe(be),rt=Oe(ke),Ce=$e(be,mt),Ke=null!==ye&&null!==Q&&!mt,Ue=null!==rt&&null!==Ce&&mt;if(Ke){const Te=Q.getBoundingClientRect(),q=ye.getBoundingClientRect();Ne(Be,Ye,mt,Q,Te,q),ue(Be,Ye,mt,ye,Te,q)}else if(Ue){const Te=rt.getBoundingClientRect(),q=Ce.getBoundingClientRect();Ne(Be,Ye,mt,rt,Te,q),ue(Be,Ye,mt,Ce,Te,q)}return{forward:Ke,backward:Ue}})(Ge,Ce,He,Te,q);if(ht.forEach(Ae=>{const Le=(0,v.c)();Le.addElement(Ae),Ge.addAnimation(Le);const qe=(0,v.c)();qe.addElement(Ae.querySelector("ion-title"));const Et=(0,v.c)(),Bt=Array.from(Ae.querySelectorAll("ion-buttons,[menuToggle]")),on=Ae.closest("ion-header"),rn=null==on?void 0:on.classList.contains("header-collapse-condense-inactive");let nn;nn=Bt.filter(He?Ut=>{const kt=Ut.classList.contains("buttons-collapse");return kt&&!rn||!kt}:Ut=>!Ut.classList.contains("buttons-collapse")),Et.addElement(nn);const Mt=(0,v.c)();Mt.addElement(Ae.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Pt=(0,v.c)();Pt.addElement(ge(Ae).querySelector(".toolbar-background"));const St=(0,v.c)(),It=Ae.querySelector("ion-back-button");if(It&&St.addElement(It),Le.addAnimation([qe,Et,Mt,Pt,St]),Et.fromTo(be,.01,1),Mt.fromTo(be,.01,1),He)rn||qe.fromTo("transform",`translateX(${Ue})`,`translateX(${Q})`).fromTo(be,.01,1),Mt.fromTo("transform",`translateX(${Ue})`,`translateX(${Q})`),St.fromTo(be,.01,1);else if(dt||qe.fromTo("transform",`translateX(${Ke})`,`translateX(${Q})`).fromTo(be,.01,1),Mt.fromTo("transform",`translateX(${Ke})`,`translateX(${Q})`),Pt.beforeClearStyles([be,"transform"]),(null==on?void 0:on.translucent)?Pt.fromTo("transform",Ce?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Pt.fromTo(be,.01,"var(--opacity)"),tt||St.fromTo(be,.01,1),It&&!tt){const kt=(0,v.c)();kt.addElement(ge(It).querySelector(".button-text")).fromTo("transform",Ce?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Le.addAnimation(kt)}}),q){const Ae=(0,v.c)(),Le=q.querySelector(":scope > ion-content"),qe=q.querySelectorAll(":scope > ion-header > ion-toolbar"),Et=q.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Le||0!==qe.length||0!==Et.length?(Ae.addElement(Le),Ae.addElement(Et)):Ae.addElement(q.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ge.addAnimation(Ae),He){Ae.beforeClearStyles([be]).fromTo("transform",`translateX(${Q})`,Ce?"translateX(-100%)":"translateX(100%)");const Bt=(0,y.g)(q);Ge.afterAddWrite(()=>{"normal"===Ge.getDirection()&&Bt.style.setProperty("display","none")})}else Ae.fromTo("transform",`translateX(${Q})`,`translateX(${Ue})`).fromTo(be,1,.8);if(Le){const Bt=ge(Le).querySelector(".transition-effect");if(Bt){const on=Bt.querySelector(".transition-cover"),rn=Bt.querySelector(".transition-shadow"),nn=(0,v.c)(),Mt=(0,v.c)(),Pt=(0,v.c)();nn.addElement(Bt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Mt.addElement(on).beforeClearStyles([be]).fromTo(be,.1,0),Pt.addElement(rn).beforeClearStyles([be]).fromTo(be,.7,.03),nn.addAnimation([Mt,Pt]),Ae.addAnimation([nn])}}qe.forEach(Bt=>{const on=(0,v.c)();on.addElement(Bt);const rn=(0,v.c)();rn.addElement(Bt.querySelector("ion-title"));const nn=(0,v.c)(),Mt=Bt.querySelectorAll("ion-buttons,[menuToggle]"),Pt=Bt.closest("ion-header"),St=null==Pt?void 0:Pt.classList.contains("header-collapse-condense-inactive"),It=Array.from(Mt).filter(nr=>{const Fn=nr.classList.contains("buttons-collapse");return Fn&&!St||!Fn});nn.addElement(It);const Ut=(0,v.c)(),kt=Bt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");kt.length>0&&Ut.addElement(kt);const Zt=(0,v.c)();Zt.addElement(ge(Bt).querySelector(".toolbar-background"));const Mn=(0,v.c)(),Ct=Bt.querySelector("ion-back-button");if(Ct&&Mn.addElement(Ct),on.addAnimation([rn,nn,Ut,Mn,Zt]),Ge.addAnimation(on),Mn.fromTo(be,.99,0),nn.fromTo(be,.99,0),Ut.fromTo(be,.99,0),He){if(St||rn.fromTo("transform",`translateX(${Q})`,Ce?"translateX(-100%)":"translateX(100%)").fromTo(be,.99,0),Ut.fromTo("transform",`translateX(${Q})`,Ce?"translateX(-100%)":"translateX(100%)"),Zt.beforeClearStyles([be,"transform"]),(null==Pt?void 0:Pt.translucent)?Zt.fromTo("transform","translateX(0px)",Ce?"translateX(-100%)":"translateX(100%)"):Zt.fromTo(be,"var(--opacity)",0),Ct&&!Me){const Fn=(0,v.c)();Fn.addElement(ge(Ct).querySelector(".button-text")).fromTo("transform",`translateX(${Q})`,`translateX(${(Ce?-124:124)+"px"})`),on.addAnimation(Fn)}}else St||rn.fromTo("transform",`translateX(${Q})`,`translateX(${Ue})`).fromTo(be,.99,0).afterClearStyles([ye,be]),Ut.fromTo("transform",`translateX(${Q})`,`translateX(${Ue})`).afterClearStyles([ye,be]),Mn.afterClearStyles([be]),rn.afterClearStyles([be]),nn.afterClearStyles([be])})}return Ge}catch(ke){throw ke}}},2923:(cn,ut,F)=>{"use strict";F.r(ut),F.d(ut,{mdTransitionAnimation:()=>Ie});var v=F(8127),y=F(7774);F(4110),F(661);const Ie=(ve,ge)=>{var Oe,$e,Se;const Pe="back"===ge.direction,Ye=ge.leavingEl,mt=(0,y.g)(ge.enteringEl),ke=mt.querySelector("ion-toolbar"),be=(0,v.c)();if(be.addElement(mt).fill("both").beforeRemoveClass("ion-page-invisible"),Pe?be.duration((null!==(Oe=ge.duration)&&void 0!==Oe?Oe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):be.duration((null!==($e=ge.duration)&&void 0!==$e?$e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ke){const ye=(0,v.c)();ye.addElement(ke),be.addAnimation(ye)}if(Ye&&Pe){be.duration((null!==(Se=ge.duration)&&void 0!==Se?Se:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ye=(0,v.c)();ye.addElement((0,y.g)(Ye)).onFinish(Q=>{1===Q&&ye.elements.length>0&&ye.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),be.addAnimation(ye)}return be}},349:(cn,ut,F)=>{"use strict";F.d(ut,{B:()=>on,G:()=>rn,a:()=>ue,b:()=>Ne,c:()=>mt,d:()=>nn,e:()=>Mt,f:()=>Ge,g:()=>dt,h:()=>Ae,i:()=>qe,j:()=>be,k:()=>ye,l:()=>Pe,m:()=>Be,n:()=>$e,o:()=>Ce,q:()=>yt,s:()=>Bt,t:()=>ke});var v=F(5861),y=F(953),te=F(5381),de=F(7593),Ie=F(6655),ve=F(1178);let ge=0,Oe=0;const $e=new WeakMap,Se=Pt=>({create:St=>Q(Pt,St),dismiss:(St,It,Ut)=>He(document,St,It,Pt,Ut),getTop:()=>(0,v.Z)(function*(){return yt(document,Pt)})()}),ue=Se("ion-alert"),Ne=Se("ion-action-sheet"),Pe=Se("ion-loading"),Be=Se("ion-modal"),mt=Se("ion-popover"),ke=Se("ion-toast"),be=Pt=>{typeof document<"u"&&q(document);const St=ge++;Pt.overlayIndex=St},ye=Pt=>(Pt.hasAttribute("id")||(Pt.id="ion-overlay-"+ ++Oe),Pt.id),Q=(Pt,St)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Pt).then(()=>{const It=document.createElement(Pt);return It.classList.add("overlay-hidden"),Object.assign(It,Object.assign(Object.assign({},St),{hasController:!0})),tt(document).appendChild(It),new Promise(Ut=>(0,Ie.c)(It,Ut))}):Promise.resolve(),rt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ce=(Pt,St)=>{let It=Pt.querySelector(rt);const Ut=null==It?void 0:It.shadowRoot;Ut&&(It=Ut.querySelector(rt)||It),It?(0,Ie.f)(It):St.focus()},Ue=(Pt,St)=>{const It=Array.from(Pt.querySelectorAll(rt));let Ut=It.length>0?It[It.length-1]:null;const kt=null==Ut?void 0:Ut.shadowRoot;kt&&(Ut=kt.querySelector(rt)||Ut),Ut?Ut.focus():St.focus()},q=Pt=>{0===ge&&(ge=1,Pt.addEventListener("focus",St=>{((Pt,St)=>{const It=yt(St,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ut=Pt.target;It&&Ut&&!It.classList.contains("ion-disable-focus-trap")&&(It.shadowRoot?(()=>{if(It.contains(Ut))It.lastFocus=Ut;else{const Mn=It.lastFocus;Ce(It,It),Mn===St.activeElement&&Ue(It,It),It.lastFocus=St.activeElement}})():(()=>{if(It===Ut)It.lastFocus=void 0;else{const Mn=(0,Ie.g)(It);if(!Mn.contains(Ut))return;const Ct=Mn.querySelector(".ion-overlay-wrapper");if(!Ct)return;if(Ct.contains(Ut))It.lastFocus=Ut;else{const nr=It.lastFocus;Ce(Ct,It),nr===St.activeElement&&Ue(Ct,It),It.lastFocus=St.activeElement}}})())})(St,Pt)},!0),Pt.addEventListener("ionBackButton",St=>{const It=yt(Pt);null!=It&&It.backdropDismiss&&St.detail.register(de.OVERLAY_BACK_BUTTON_PRIORITY,()=>It.dismiss(void 0,on))}),Pt.addEventListener("keydown",St=>{if("Escape"===St.key){const It=yt(Pt);null!=It&&It.backdropDismiss&&It.dismiss(void 0,on)}}))},He=(Pt,St,It,Ut,kt)=>{const Zt=yt(Pt,Ut,kt);return Zt?Zt.dismiss(St,It):Promise.reject("overlay does not exist")},yt=(Pt,St,It)=>{const Ut=((Pt,St)=>(void 0===St&&(St="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Pt.querySelectorAll(St)).filter(It=>It.overlayIndex>0)))(Pt,St).filter(kt=>!(Pt=>Pt.classList.contains("overlay-hidden"))(kt));return void 0===It?Ut[Ut.length-1]:Ut.find(kt=>kt.id===It)},ht=(Pt=!1)=>{const It=tt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");It&&(Pt?It.setAttribute("aria-hidden","true"):It.removeAttribute("aria-hidden"))},Ge=function(){var Pt=(0,v.Z)(function*(St,It,Ut,kt,Zt){var Mn,Ct;if(St.presented)return;ht(!0),St.presented=!0,St.willPresent.emit(),null===(Mn=St.willPresentShorthand)||void 0===Mn||Mn.emit();const nr=(0,y.b)(St),Fn=St.enterAnimation?St.enterAnimation:y.c.get(It,"ios"===nr?Ut:kt);(yield Me(St,Fn,St.el,Zt))&&(St.didPresent.emit(),null===(Ct=St.didPresentShorthand)||void 0===Ct||Ct.emit()),"ION-TOAST"!==St.el.tagName&&Qt(St.el),St.keyboardClose&&(null===document.activeElement||!St.el.contains(document.activeElement))&&St.el.focus()});return function(It,Ut,kt,Zt,Mn){return Pt.apply(this,arguments)}}(),Qt=function(){var Pt=(0,v.Z)(function*(St){let It=document.activeElement;if(!It)return;const Ut=null==It?void 0:It.shadowRoot;Ut&&(It=Ut.querySelector(rt)||It),yield St.onDidDismiss(),It.focus()});return function(It){return Pt.apply(this,arguments)}}(),dt=function(){var Pt=(0,v.Z)(function*(St,It,Ut,kt,Zt,Mn,Ct){var nr,Fn;if(!St.presented)return!1;ht(!1),St.presented=!1;try{St.el.style.setProperty("pointer-events","none"),St.willDismiss.emit({data:It,role:Ut}),null===(nr=St.willDismissShorthand)||void 0===nr||nr.emit({data:It,role:Ut});const On=(0,y.b)(St),Qn=St.leaveAnimation?St.leaveAnimation:y.c.get(kt,"ios"===On?Zt:Mn);Ut!==rn&&(yield Me(St,Qn,St.el,Ct)),St.didDismiss.emit({data:It,role:Ut}),null===(Fn=St.didDismissShorthand)||void 0===Fn||Fn.emit({data:It,role:Ut}),$e.delete(St),St.el.classList.add("overlay-hidden"),St.el.style.removeProperty("pointer-events"),void 0!==St.el.lastFocus&&(St.el.lastFocus=void 0)}catch(On){console.error(On)}return St.el.remove(),!0});return function(It,Ut,kt,Zt,Mn,Ct,nr){return Pt.apply(this,arguments)}}(),tt=Pt=>Pt.querySelector("ion-app")||Pt.body,Me=function(){var Pt=(0,v.Z)(function*(St,It,Ut,kt){Ut.classList.remove("overlay-hidden");const Mn=It(St.el,kt);(!St.animated||!y.c.getBoolean("animated",!0))&&Mn.duration(0),St.keyboardClose&&Mn.beforeAddWrite(()=>{const nr=Ut.ownerDocument.activeElement;null!=nr&&nr.matches("input,ion-input, ion-textarea")&&nr.blur()});const Ct=$e.get(St)||[];return $e.set(St,[...Ct,Mn]),yield Mn.play(),!0});return function(It,Ut,kt,Zt){return Pt.apply(this,arguments)}}(),Ae=(Pt,St)=>{let It;const Ut=new Promise(kt=>It=kt);return Le(Pt,St,kt=>{It(kt.detail)}),Ut},Le=(Pt,St,It)=>{const Ut=kt=>{(0,Ie.b)(Pt,St,Ut),It(kt)};(0,Ie.a)(Pt,St,Ut)},qe=Pt=>"cancel"===Pt||Pt===on,Et=Pt=>Pt(),Bt=(Pt,St)=>{if("function"==typeof Pt)return y.c.get("_zoneGate",Et)(()=>{try{return Pt(St)}catch(Ut){throw Ut}})},on="backdrop",rn="gesture",nn=Pt=>{let It,St=!1;const Ut=(0,te.C)(),kt=(Ct=!1)=>{if(It&&!Ct)return{delegate:It,inline:St};const{el:nr,hasController:Fn,delegate:On}=Pt;return St=null!==nr.parentNode&&!Fn,It=St?On||Ut:On,{inline:St,delegate:It}};return{attachViewToDom:function(){var Ct=(0,v.Z)(function*(nr){const{delegate:Fn}=kt(!0);if(Fn)return yield Fn.attachViewToDom(Pt.el,nr);const{hasController:On}=Pt;if(On&&void 0!==nr)throw new Error("framework delegate is missing");return null});return function(Fn){return Ct.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Ct}=kt();Ct&&void 0!==Pt.el&&Ct.removeViewFromDom(Pt.el.parentElement,Pt.el)}}},Mt=()=>{let Pt;const St=()=>{Pt&&(Pt(),Pt=void 0)};return{addClickListener:(Ut,kt)=>{St();const Zt=void 0!==kt?document.getElementById(kt):null;Zt?Pt=((Ct,nr)=>{const Fn=()=>{nr.present()};return Ct.addEventListener("click",Fn),()=>{Ct.removeEventListener("click",Fn)}})(Zt,Ut):(0,ve.p)(`A trigger element with the ID "${kt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ut)},removeClickListener:St}}},303:(cn,ut,F)=>{"use strict";var v=F(6550),y=F(2223),te=F(7957),de=F(942),Ie=F(2011),ve=F(1205),ge=F(9751),Oe=F(9646),$e=F(8996),Se=F(4986),ue=F(4482),Ne=F(5403),Be=F(4004),Ye=F(3900),mt=F(5813),ke=F(3942),be=F(5861),ye=F(9681),Q=F(2090),rt=F(4859);const Ce="firebasestorage.googleapis.com",Ke="storageBucket";class q extends Q.ZR{constructor(a,l){super(He(a),`Firebase Storage: ${l} (${He(a)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,q.prototype)}_codeEquals(a){return He(a)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(a){this.customData.serverResponse=a,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function He(c){return"storage/"+c}function we(){return new q("unknown","An unknown error occurred, please check the error payload for server response.")}function Me(){return new q("canceled","User canceled the upload/download.")}function Et(){return new q("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function rn(c){return new q("invalid-argument",c)}function nn(){return new q("app-deleted","The Firebase app was deleted.")}function Mt(c){return new q("invalid-root-operation","The operation '"+c+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pt(c,a){return new q("invalid-format","String does not match format '"+c+"': "+a)}function St(c){throw new q("internal-error","Internal error: "+c)}class It{constructor(a,l){this.bucket=a,this.path_=l}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(a,l){let f;try{f=It.makeFromUrl(a,l)}catch{return new It(a,"")}if(""===f.path)return f;throw function Le(c){return new q("invalid-default-bucket","Invalid default bucket '"+c+"'.")}(a)}static makeFromUrl(a,l){let f=null;const E="([A-Za-z0-9.\\-_]+)",J=new RegExp("^gs://"+E+"(/(.*))?$","i");function De(Vo){Vo.path_=decodeURIComponent(Vo.path)}const Dt=l.replace(/[.]/g,"\\."),xs=[{regex:J,indices:{bucket:1,path:3},postModify:function A(Vo){"/"===Vo.path.charAt(Vo.path.length-1)&&(Vo.path_=Vo.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Dt}/v[A-Za-z0-9_]+/b/${E}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:De},{regex:new RegExp(`^https?://${l===Ce?"(?:storage.googleapis.com|storage.cloud.google.com)":l}/${E}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:De}];for(let Vo=0;Vo<xs.length;Vo++){const jc=xs[Vo],vu=jc.regex.exec(a);if(vu){let vh=vu[jc.indices.path];vh||(vh=""),f=new It(vu[jc.indices.bucket],vh),jc.postModify(f);break}}if(null==f)throw function Ae(c){return new q("invalid-url","Invalid URL '"+c+"'.")}(a);return f}}class Ut{constructor(a){this.promise_=Promise.reject(a)}getPromise(){return this.promise_}cancel(a=!1){}}function Fn(c){return"string"==typeof c||c instanceof String}function On(c){return Qn()&&c instanceof Blob}function Qn(){return typeof Blob<"u"}function Gr(c,a,l,f){if(f<a)throw rn(`Invalid value for '${c}'. Expected ${a} or greater.`);if(f>l)throw rn(`Invalid value for '${c}'. Expected ${l} or less.`)}function Yn(c,a,l){let f=a;return null==l&&(f=`https://${a}`),`${l}://${f}/v0${c}`}function fr(c){const a=encodeURIComponent;let l="?";for(const f in c)c.hasOwnProperty(f)&&(l=l+(a(f)+"=")+a(c[f])+"&");return l=l.slice(0,-1),l}var Vt=(()=>((Vt=Vt||{})[Vt.NO_ERROR=0]="NO_ERROR",Vt[Vt.NETWORK_ERROR=1]="NETWORK_ERROR",Vt[Vt.ABORT=2]="ABORT",Vt))();class $n{constructor(a,l,f,E,A,B,J,le,De,pt,Dt){this.url_=a,this.method_=l,this.headers_=f,this.body_=E,this.successCodes_=A,this.additionalRetryCodes_=B,this.callback_=J,this.errorCallback_=le,this.timeout_=De,this.progressCallback_=pt,this.connectionFactory_=Dt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Yt,Sn)=>{this.resolve_=Yt,this.reject_=Sn,this.start_()})}start_(){const l=(f,E)=>{const A=this.resolve_,B=this.reject_,J=E.connection;if(E.wasSuccessCode)try{const le=this.callback_(J,J.getResponse());!function Mn(c){return void 0!==c}(le)?A():A(le)}catch(le){B(le)}else if(null!==J){const le=we();le.serverResponse=J.getErrorText(),B(this.errorCallback_?this.errorCallback_(J,le):le)}else B(E.canceled?this.appDelete_?nn():Me():function tt(){return new q("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?l(0,new zr(!1,null,!0)):this.backoffId_=function kt(c,a,l){let f=1,E=null,A=null,B=!1,J=0;function le(){return 2===J}let De=!1;function pt(...oi){De||(De=!0,a.apply(null,oi))}function Dt(oi){E=setTimeout(()=>{E=null,c(Sn,le())},oi)}function Yt(){A&&clearTimeout(A)}function Sn(oi,...Mo){if(De)return void Yt();if(oi)return Yt(),void pt.call(null,oi,...Mo);if(le()||B)return Yt(),void pt.call(null,oi,...Mo);let xs;f<64&&(f*=2),1===J?(J=2,xs=0):xs=1e3*(f+Math.random()),Dt(xs)}let zn=!1;function Kr(oi){zn||(zn=!0,Yt(),!De&&(null!==E?(oi||(J=2),clearTimeout(E),Dt(0)):oi||(J=1)))}return Dt(0),A=setTimeout(()=>{B=!0,Kr(!0)},l),Kr}((f,E)=>{if(E)return void f(!1,new zr(!1,null,!0));const A=this.connectionFactory_();this.pendingConnection_=A;const B=J=>{null!==this.progressCallback_&&this.progressCallback_(J.loaded,J.lengthComputable?J.total:-1)};null!==this.progressCallback_&&A.addUploadProgressListener(B),A.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&A.removeUploadProgressListener(B),this.pendingConnection_=null;const J=A.getErrorCode()===Vt.NO_ERROR,le=A.getStatus();if(!J||this.isRetryStatusCode_(le)){const pt=A.getErrorCode()===Vt.ABORT;return void f(!1,new zr(!1,null,pt))}const De=-1!==this.successCodes_.indexOf(le);f(!0,new zr(De,A))})},l,this.timeout_)}getPromise(){return this.promise_}cancel(a){this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_&&function Zt(c){c(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(a){const l=a>=500&&a<600,E=-1!==[408,429].indexOf(a),A=-1!==this.additionalRetryCodes_.indexOf(a);return l||E||A}}class zr{constructor(a,l,f){this.wasSuccessCode=a,this.connection=l,this.canceled=!!f}}function vr(...c){const a=function yr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==a){const l=new a;for(let f=0;f<c.length;f++)l.append(c[f]);return l.getBlob()}if(Qn())return new Blob(c);throw new q("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qi{constructor(a,l){this.data=a,this.contentType=l||null}}function st(c,a){switch(c){case Er.RAW:return new Qi(et(a));case Er.BASE64:case Er.BASE64URL:return new Qi(Qe(c,a));case Er.DATA_URL:return new Qi(function $t(c){const a=new ze(c);return a.base64?Qe(Er.BASE64,a.rest):function je(c){let a;try{a=decodeURIComponent(c)}catch{throw Pt(Er.DATA_URL,"Malformed data URL.")}return et(a)}(a.rest)}(a),function hn(c){return new ze(c).contentType}(a))}throw we()}function et(c){const a=[];for(let l=0;l<c.length;l++){let f=c.charCodeAt(l);f<=127?a.push(f):f<=2047?a.push(192|f>>6,128|63&f):55296==(64512&f)?l<c.length-1&&56320==(64512&c.charCodeAt(l+1))?(f=65536|(1023&f)<<10|1023&c.charCodeAt(++l),a.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|63&f)):a.push(239,191,189):56320==(64512&f)?a.push(239,191,189):a.push(224|f>>12,128|f>>6&63,128|63&f)}return new Uint8Array(a)}function Qe(c,a){switch(c){case Er.BASE64:{const E=-1!==a.indexOf("-"),A=-1!==a.indexOf("_");if(E||A)throw Pt(c,"Invalid character '"+(E?"-":"_")+"' found: is it base64url encoded?");break}case Er.BASE64URL:{const E=-1!==a.indexOf("+"),A=-1!==a.indexOf("/");if(E||A)throw Pt(c,"Invalid character '"+(E?"+":"/")+"' found: is it base64 encoded?");a=a.replace(/-/g,"+").replace(/_/g,"/");break}}let l;try{l=function Si(c){return atob(c)}(a)}catch{throw Pt(c,"Invalid character found")}const f=new Uint8Array(l.length);for(let E=0;E<l.length;E++)f[E]=l.charCodeAt(E);return f}class ze{constructor(a){this.base64=!1,this.contentType=null;const l=a.match(/^data:([^,]+)?,/);if(null===l)throw Pt(Er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const f=l[1]||null;null!=f&&(this.base64=function ln(c,a){return c.length>=a.length&&c.substring(c.length-a.length)===a}(f,";base64"),this.contentType=this.base64?f.substring(0,f.length-7):f),this.rest=a.substring(a.indexOf(",")+1)}}class er{constructor(a,l){let f=0,E="";On(a)?(this.data_=a,f=a.size,E=a.type):a instanceof ArrayBuffer?(l?this.data_=new Uint8Array(a):(this.data_=new Uint8Array(a.byteLength),this.data_.set(new Uint8Array(a))),f=this.data_.length):a instanceof Uint8Array&&(l?this.data_=a:(this.data_=new Uint8Array(a.length),this.data_.set(a)),f=a.length),this.size_=f,this.type_=E}size(){return this.size_}type(){return this.type_}slice(a,l){if(On(this.data_)){const E=function sr(c,a,l){return c.webkitSlice?c.webkitSlice(a,l):c.mozSlice?c.mozSlice(a,l):c.slice?c.slice(a,l):null}(this.data_,a,l);return null===E?null:new er(E)}{const f=new Uint8Array(this.data_.buffer,a,l-a);return new er(f,!0)}}static getBlob(...a){if(Qn()){const l=a.map(f=>f instanceof er?f.data_:f);return new er(vr.apply(null,l))}{const l=a.map(B=>Fn(B)?st(Er.RAW,B).data:B.data_);let f=0;l.forEach(B=>{f+=B.byteLength});const E=new Uint8Array(f);let A=0;return l.forEach(B=>{for(let J=0;J<B.length;J++)E[A++]=B[J]}),new er(E,!0)}}uploadData(){return this.data_}}function Tn(c){let a;try{a=JSON.parse(c)}catch{return null}return function nr(c){return"object"==typeof c&&!Array.isArray(c)}(a)?a:null}function xe(c){const a=c.lastIndexOf("/",c.length-2);return-1===a?c:c.slice(a+1)}function gt(c,a){return a}class Nt{constructor(a,l,f,E){this.server=a,this.local=l||a,this.writable=!!f,this.xform=E||gt}}let fn=null;function Un(){if(fn)return fn;const c=[];c.push(new Nt("bucket")),c.push(new Nt("generation")),c.push(new Nt("metageneration")),c.push(new Nt("name","fullPath",!0));const l=new Nt("name");l.xform=function a(A,B){return function An(c){return!Fn(c)||c.length<2?c:xe(c)}(B)},c.push(l);const E=new Nt("size");return E.xform=function f(A,B){return void 0!==B?Number(B):B},c.push(E),c.push(new Nt("timeCreated")),c.push(new Nt("updated")),c.push(new Nt("md5Hash",null,!0)),c.push(new Nt("cacheControl",null,!0)),c.push(new Nt("contentDisposition",null,!0)),c.push(new Nt("contentEncoding",null,!0)),c.push(new Nt("contentLanguage",null,!0)),c.push(new Nt("contentType",null,!0)),c.push(new Nt("metadata","customMetadata",!0)),fn=c,fn}function qn(c,a,l){const f=Tn(a);return null===f?null:function Vr(c,a,l){const f={type:"file"},E=l.length;for(let A=0;A<E;A++){const B=l[A];f[B.local]=B.xform(f,a[B.server])}return function pr(c,a){Object.defineProperty(c,"ref",{get:function l(){const A=new It(c.bucket,c.fullPath);return a._makeStorageReference(A)}})}(f,c),f}(c,f,l)}function hi(c,a){const l={},f=a.length;for(let E=0;E<f;E++){const A=a[E];A.writable&&(l[A.server]=c[A.local])}return JSON.stringify(l)}const ns="prefixes",fi="items";class gr{constructor(a,l,f,E){this.url=a,this.method=l,this.handler=f,this.timeout=E,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ir(c){if(!c)throw we()}function Pr(c,a){return function l(f,E){const A=qn(c,E,a);return Ir(null!==A),A}}function li(c){return function a(l,f){let E;return E=401===l.getStatus()?l.getErrorText().includes("Firebase App Check token is invalid")?function Qt(){return new q("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ge(){return new q("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===l.getStatus()?function ht(c){return new q("quota-exceeded","Quota for bucket '"+c+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(c.bucket):403===l.getStatus()?function dt(c){return new q("unauthorized","User does not have permission to access '"+c+"'.")}(c.path):f,E.serverResponse=f.serverResponse,E}}function Ii(c){const a=li(c);return function l(f,E){let A=a(f,E);return 404===f.getStatus()&&(A=function yt(c){return new q("object-not-found","Object '"+c+"' does not exist.")}(c.path)),A.serverResponse=E.serverResponse,A}}function Nr(c,a,l){const E=Yn(a.fullServerUrl(),c.host,c._protocol),B=c.maxOperationRetryTime,J=new gr(E,"GET",Pr(c,l),B);return J.errorHandler=Ii(a),J}function xr(c,a,l,f,E){const A={};A.prefix=a.isRoot?"":a.path+"/",l&&l.length>0&&(A.delimiter=l),f&&(A.pageToken=f),E&&(A.maxResults=E);const J=Yn(a.bucketOnlyServerUrl(),c.host,c._protocol),De=c.maxOperationRetryTime,pt=new gr(J,"GET",function Pi(c,a){return function l(f,E){const A=function si(c,a,l){const f=Tn(l);return null===f?null:function Ei(c,a,l){const f={prefixes:[],items:[],nextPageToken:l.nextPageToken};if(l[ns])for(const E of l[ns]){const A=E.replace(/\/$/,""),B=c._makeStorageReference(new It(a,A));f.prefixes.push(B)}if(l[fi])for(const E of l[fi]){const A=c._makeStorageReference(new It(a,E.name));f.items.push(A)}return f}(c,a,f)}(c,a,E);return Ir(null!==A),A}}(c,a.bucket),De);return pt.urlParams=A,pt.errorHandler=li(a),pt}function Ji(c,a,l){const f=Object.assign({},l);return f.fullPath=c.path,f.size=a.size(),f.contentType||(f.contentType=function Cs(c,a){return c&&c.contentType||a&&a.type()||"application/octet-stream"}(null,a)),f}class ji{constructor(a,l,f,E){this.current=a,this.total=l,this.finalized=!!f,this.metadata=E||null}}function hs(c,a){let l=null;try{l=c.getResponseHeader("X-Goog-Upload-Status")}catch{Ir(!1)}return Ir(!!l&&-1!==(a||["active"]).indexOf(l)),l}const Ee={STATE_CHANGED:"state_changed"},Ze={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pe(c){switch(c){case"running":case"pausing":case"canceling":return Ze.RUNNING;case"paused":return Ze.PAUSED;case"success":return Ze.SUCCESS;case"canceled":return Ze.CANCELED;default:return Ze.ERROR}}class nt{constructor(a,l,f){if(function Ct(c){return"function"==typeof c}(a)||null!=l||null!=f)this.next=a,this.error=null!=l?l:void 0,this.complete=null!=f?f:void 0;else{const A=a;this.next=A.next,this.error=A.error,this.complete=A.complete}}}function We(c){return(...a)=>{Promise.resolve().then(()=>c(...a))}}let Tt=null;class Wt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vt.NO_ERROR,this.sendPromise_=new Promise(a=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vt.ABORT,a()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vt.NETWORK_ERROR,a()}),this.xhr_.addEventListener("load",()=>{a()})})}send(a,l,f,E){if(this.sent_)throw St("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(l,a,!0),void 0!==E)for(const A in E)E.hasOwnProperty(A)&&this.xhr_.setRequestHeader(A,E[A].toString());return void 0!==f?this.xhr_.send(f):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw St("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw St("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw St("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw St("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(a){return this.xhr_.getResponseHeader(a)}addUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",a)}removeUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",a)}}class jt extends Wt{initXhr(){this.xhr_.responseType="text"}}function Ft(){return Tt?Tt():new jt}class at{constructor(a,l,f=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=a,this._blob=l,this._metadata=f,this._mappings=Un(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=E=>{this._request=void 0,this._chunkMultiplier=1,E._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=E,this._transition("error"))},this._metadataErrorHandler=E=>{this._request=void 0,E._codeEquals("canceled")?this.completeTransitions_():(this._error=E,this._transition("error"))},this._promise=new Promise((E,A)=>{this._resolve=E,this._reject=A,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const a=this._transferred;return l=>this._updateProgress(a+l)}_shouldDoResumable(a){return a.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(a){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([l,f])=>{switch(this._state){case"running":a(l,f);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((a,l)=>{const f=function es(c,a,l,f,E){const A=a.bucketOnlyServerUrl(),B=Ji(a,f,E),J={name:B.fullPath},le=Yn(A,c.host,c._protocol),pt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${f.size()}`,"X-Goog-Upload-Header-Content-Type":B.contentType,"Content-Type":"application/json; charset=utf-8"},Dt=hi(B,l),zn=new gr(le,"POST",function Sn(Kr){let oi;hs(Kr);try{oi=Kr.getResponseHeader("X-Goog-Upload-URL")}catch{Ir(!1)}return Ir(Fn(oi)),oi},c.maxUploadRetryTime);return zn.urlParams=J,zn.headers=pt,zn.body=Dt,zn.errorHandler=li(a),zn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),E=this._ref.storage._makeRequest(f,Ft,a,l);this._request=E,E.getPromise().then(A=>{this._request=void 0,this._uploadUrl=A,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const a=this._uploadUrl;this._resolveToken((l,f)=>{const E=function Os(c,a,l,f){const le=new gr(l,"POST",function A(De){const pt=hs(De,["active","final"]);let Dt=null;try{Dt=De.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ir(!1)}Dt||Ir(!1);const Yt=Number(Dt);return Ir(!isNaN(Yt)),new ji(Yt,f.size(),"final"===pt)},c.maxUploadRetryTime);return le.headers={"X-Goog-Upload-Command":"query"},le.errorHandler=li(a),le}(this._ref.storage,this._ref._location,a,this._blob),A=this._ref.storage._makeRequest(E,Ft,l,f);this._request=A,A.getPromise().then(B=>{this._request=void 0,this._updateProgress(B.current),this._needToFetchStatus=!1,B.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const a=262144*this._chunkMultiplier,l=new ji(this._transferred,this._blob.size()),f=this._uploadUrl;this._resolveToken((E,A)=>{let B;try{B=function se(c,a,l,f,E,A,B,J){const le=new ji(0,0);if(B?(le.current=B.current,le.total=B.total):(le.current=0,le.total=f.size()),f.size()!==le.total)throw function Bt(){return new q("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const De=le.total-le.current;let pt=De;E>0&&(pt=Math.min(pt,E));const Dt=le.current,zn={"X-Goog-Upload-Command":pt===De?"upload, finalize":"upload","X-Goog-Upload-Offset":`${le.current}`},Kr=f.slice(Dt,Dt+pt);if(null===Kr)throw Et();const xs=new gr(l,"POST",function oi(Vo,jc){const vu=hs(Vo,["active","final"]),mp=le.current+pt,vh=f.size();let _h;return _h="final"===vu?Pr(a,A)(Vo,jc):null,new ji(mp,vh,"final"===vu,_h)},a.maxUploadRetryTime);return xs.headers=zn,xs.body=Kr.uploadData(),xs.progressCallback=J||null,xs.errorHandler=li(c),xs}(this._ref._location,this._ref.storage,f,this._blob,a,this._mappings,l,this._makeProgressCallback())}catch(le){return this._error=le,void this._transition("error")}const J=this._ref.storage._makeRequest(B,Ft,E,A);this._request=J,J.getPromise().then(le=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(le.current),le.finalized?(this._metadata=le.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((a,l)=>{const f=Nr(this._ref.storage,this._ref._location,this._mappings),E=this._ref.storage._makeRequest(f,Ft,a,l);this._request=E,E.getPromise().then(A=>{this._request=void 0,this._metadata=A,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((a,l)=>{const f=function rs(c,a,l,f,E){const A=a.bucketOnlyServerUrl(),B={"X-Goog-Upload-Protocol":"multipart"},le=function J(){let xs="";for(let Vo=0;Vo<2;Vo++)xs+=Math.random().toString().slice(2);return xs}();B["Content-Type"]="multipart/related; boundary="+le;const De=Ji(a,f,E),pt=hi(De,l),Sn=er.getBlob("--"+le+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pt+"\r\n--"+le+"\r\nContent-Type: "+De.contentType+"\r\n\r\n",f,"\r\n--"+le+"--");if(null===Sn)throw Et();const zn={name:De.fullPath},Kr=Yn(A,c.host,c._protocol),Mo=c.maxUploadRetryTime,eo=new gr(Kr,"POST",Pr(c,l),Mo);return eo.urlParams=zn,eo.headers=B,eo.body=Sn.uploadData(),eo.errorHandler=li(a),eo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),E=this._ref.storage._makeRequest(f,Ft,a,l);this._request=E,E.getPromise().then(A=>{this._request=void 0,this._metadata=A,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(a){const l=this._transferred;this._transferred=a,this._transferred!==l&&this._notifyObservers()}_transition(a){if(this._state!==a)switch(a){case"canceling":case"pausing":this._state=a,void 0!==this._request&&this._request.cancel();break;case"running":const l="paused"===this._state;this._state=a,l&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=a,this._notifyObservers();break;case"canceled":this._error=Me(),this._state=a,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const a=pe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:a,metadata:this._metadata,task:this,ref:this._ref}}on(a,l,f,E){const A=new nt(l||void 0,f||void 0,E||void 0);return this._addObserver(A),()=>{this._removeObserver(A)}}then(a,l){return this._promise.then(a,l)}catch(a){return this.then(null,a)}_addObserver(a){this._observers.push(a),this._notifyObserver(a)}_removeObserver(a){const l=this._observers.indexOf(a);-1!==l&&this._observers.splice(l,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(l=>{this._notifyObserver(l)})}_finishPromise(){if(void 0!==this._resolve){let a=!0;switch(pe(this._state)){case Ze.SUCCESS:We(this._resolve.bind(null,this.snapshot))();break;case Ze.CANCELED:case Ze.ERROR:We(this._reject.bind(null,this._error))();break;default:a=!1}a&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(a){switch(pe(this._state)){case Ze.RUNNING:case Ze.PAUSED:a.next&&We(a.next.bind(a,this.snapshot))();break;case Ze.SUCCESS:a.complete&&We(a.complete.bind(a))();break;default:a.error&&We(a.error.bind(a,this._error))()}}resume(){const a="paused"===this._state||"pausing"===this._state;return a&&this._transition("running"),a}pause(){const a="running"===this._state;return a&&this._transition("pausing"),a}cancel(){const a="running"===this._state||"pausing"===this._state;return a&&this._transition("canceling"),a}}class lt{constructor(a,l){this._service=a,this._location=l instanceof It?l:It.makeFromUrl(l,a.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(a,l){return new lt(a,l)}get root(){const a=new It(this._location.bucket,"");return this._newRef(this._service,a)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xe(this._location.path)}get storage(){return this._service}get parent(){const a=function _t(c){if(0===c.length)return null;const a=c.lastIndexOf("/");return-1===a?"":c.slice(0,a)}(this._location.path);if(null===a)return null;const l=new It(this._location.bucket,a);return new lt(this._service,l)}_throwIfRoot(a){if(""===this._location.path)throw Mt(a)}}function vn(c,a,l){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,be.Z)(function*(c,a,l){const E=yield Rr(c,{pageToken:l});a.prefixes.push(...E.prefixes),a.items.push(...E.items),null!=E.nextPageToken&&(yield vn(c,a,E.nextPageToken))})).apply(this,arguments)}function Rr(c,a){null!=a&&"number"==typeof a.maxResults&&Gr("options.maxResults",1,1e3,a.maxResults);const l=a||{},f=xr(c.storage,c._location,"/",l.pageToken,l.maxResults);return c.storage.makeRequestWithTokens(f,Ft)}function bi(c){c._throwIfRoot("getDownloadURL");const a=function wi(c,a,l){const E=Yn(a.fullServerUrl(),c.host,c._protocol),B=c.maxOperationRetryTime,J=new gr(E,"GET",function Ai(c,a){return function l(f,E){const A=qn(c,E,a);return Ir(null!==A),function Ui(c,a,l,f){const E=Tn(a);if(null===E||!Fn(E.downloadTokens))return null;const A=E.downloadTokens;if(0===A.length)return null;const B=encodeURIComponent;return A.split(",").map(De=>{const Dt=c.fullPath;return Yn("/b/"+B(c.bucket)+"/o/"+B(Dt),l,f)+fr({alt:"media",token:De})})[0]}(A,E,c.host,c._protocol)}}(c,l),B);return J.errorHandler=Ii(a),J}(c.storage,c._location,Un());return c.storage.makeRequestWithTokens(a,Ft).then(l=>{if(null===l)throw function on(){return new q("no-download-url","The given file does not have any download URLs.")}();return l})}function Xr(c,a){const l=function Ve(c,a){const l=a.split("/").filter(f=>f.length>0).join("/");return 0===c.length?l:c+"/"+l}(c._location.path,a),f=new It(c._location.bucket,l);return new lt(c.storage,f)}function jn(c,a){if(c instanceof ri){const l=c;if(null==l._bucket)throw function qe(){return new q("no-default-bucket","No default bucket found. Did you set the '"+Ke+"' property when initializing the app?")}();const f=new lt(l,l._bucket);return null!=a?jn(f,a):f}return void 0!==a?Xr(c,a):c}function Is(c,a){if(a&&function Fs(c){return/^[A-Za-z]+:\/\//.test(c)}(a)){if(c instanceof ri)return function ss(c,a){return new lt(c,a)}(c,a);throw rn("To use ref(service, url), the first argument must be a Storage instance.")}return jn(c,a)}function Ls(c,a){const l=null==a?void 0:a[Ke];return null==l?null:It.makeFromBucketSpec(l,c)}class ri{constructor(a,l,f,E,A){this.app=a,this._authProvider=l,this._appCheckProvider=f,this._url=E,this._firebaseVersion=A,this._bucket=null,this._host=Ce,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=E?It.makeFromBucketSpec(E,this._host):Ls(this._host,this.app.options)}get host(){return this._host}set host(a){this._host=a,this._bucket=null!=this._url?It.makeFromBucketSpec(this._url,a):Ls(a,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(a){Gr("time",0,Number.POSITIVE_INFINITY,a),this._maxUploadRetryTime=a}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(a){Gr("time",0,Number.POSITIVE_INFINITY,a),this._maxOperationRetryTime=a}_getAuthToken(){var a=this;return(0,be.Z)(function*(){if(a._overrideAuthToken)return a._overrideAuthToken;const l=a._authProvider.getImmediate({optional:!0});if(l){const f=yield l.getToken();if(null!==f)return f.accessToken}return null})()}_getAppCheckToken(){var a=this;return(0,be.Z)(function*(){const l=a._appCheckProvider.getImmediate({optional:!0});return l?(yield l.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(a){return new lt(this,a)}_makeRequest(a,l,f,E){if(this._deleted)return new Ut(nn());{const A=function Zr(c,a,l,f,E,A){const B=fr(c.urlParams),J=c.url+B,le=Object.assign({},c.headers);return function Jr(c,a){a&&(c["X-Firebase-GMPID"]=a)}(le,a),function Mr(c,a){null!==a&&a.length>0&&(c.Authorization="Firebase "+a)}(le,l),function Yr(c,a){c["X-Firebase-Storage-Version"]="webjs/"+(null!=a?a:"AppManager")}(le,A),function Gn(c,a){null!==a&&(c["X-Firebase-AppCheck"]=a)}(le,f),new $n(J,c.method,le,c.body,c.successCodes,c.additionalRetryCodes,c.handler,c.errorHandler,c.timeout,c.progressCallback,E)}(a,this._appId,f,E,l,this._firebaseVersion);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}makeRequestWithTokens(a,l){var f=this;return(0,be.Z)(function*(){const[E,A]=yield Promise.all([f._getAuthToken(),f._getAppCheckToken()]);return f._makeRequest(a,l,E,A).getPromise()})()}}const fo="@firebase/storage";function pi(c,a){return Is(c=(0,Q.m9)(c),a)}function vs(c,{instanceIdentifier:a}){const l=c.getProvider("app").getImmediate(),f=c.getProvider("auth-internal"),E=c.getProvider("app-check-internal");return new ri(l,f,E,a,ye.SDK_VERSION)}!function Sr(){(0,ye._registerComponent)(new rt.wA("storage",vs,"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)(fo,"0.9.9",""),(0,ye.registerVersion)(fo,"0.9.9","esm2017")}();class Vs{constructor(a,l,f){this._delegate=a,this.task=l,this.ref=f}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class no{constructor(a,l){this._delegate=a,this._ref=l,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Vs(this._delegate.snapshot,this,this._ref)}then(a,l){return this._delegate.then(f=>{if(a)return a(new Vs(f,this,this._ref))},l)}on(a,l,f,E){let A;return l&&(A="function"==typeof l?B=>l(new Vs(B,this,this._ref)):{next:l.next?B=>l.next(new Vs(B,this,this._ref)):void 0,complete:l.complete||void 0,error:l.error||void 0}),this._delegate.on(a,A,f||void 0,E||void 0)}}class Us{constructor(a,l){this._delegate=a,this._service=l}get prefixes(){return this._delegate.prefixes.map(a=>new mr(a,this._service))}get items(){return this._delegate.items.map(a=>new mr(a,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class mr{constructor(a,l){this._delegate=a,this.storage=l}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(a){const l=function Ts(c,a){return Xr(c,a)}(this._delegate,a);return new mr(l,this.storage)}get root(){return new mr(this._delegate.root,this.storage)}get parent(){const a=this._delegate.parent;return null==a?null:new mr(a,this.storage)}put(a,l){return this._throwIfRoot("put"),new no(function Gi(c,a,l){return function lr(c,a,l){return c._throwIfRoot("uploadBytesResumable"),new at(c,new er(a),l)}(c=(0,Q.m9)(c),a,l)}(this._delegate,a,l),this)}putString(a,l=Er.RAW,f){this._throwIfRoot("putString");const E=st(l,a),A=Object.assign({},f);return null==A.contentType&&null!=E.contentType&&(A.contentType=E.contentType),new no(new at(this._delegate,new er(E.data,!0),A),this)}listAll(){return function pa(c){return function Zn(c){const a={prefixes:[],items:[]};return vn(c,a).then(()=>a)}(c=(0,Q.m9)(c))}(this._delegate).then(a=>new Us(a,this.storage))}list(a){return function ur(c,a){return Rr(c=(0,Q.m9)(c),a)}(this._delegate,a||void 0).then(l=>new Us(l,this.storage))}getMetadata(){return function os(c){return function ni(c){c._throwIfRoot("getMetadata");const a=Nr(c.storage,c._location,Un());return c.storage.makeRequestWithTokens(a,Ft)}(c=(0,Q.m9)(c))}(this._delegate)}updateMetadata(a){return function jo(c,a){return function is(c,a){c._throwIfRoot("updateMetadata");const l=function Ds(c,a,l,f){const A=Yn(a.fullServerUrl(),c.host,c._protocol),J=hi(l,f),De=c.maxOperationRetryTime,pt=new gr(A,"PATCH",Pr(c,f),De);return pt.headers={"Content-Type":"application/json; charset=utf-8"},pt.body=J,pt.errorHandler=Ii(a),pt}(c.storage,c._location,a,Un());return c.storage.makeRequestWithTokens(l,Ft)}(c=(0,Q.m9)(c),a)}(this._delegate,a)}getDownloadURL(){return function $s(c){return bi(c=(0,Q.m9)(c))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ro(c){return function fs(c){c._throwIfRoot("deleteObject");const a=function Ni(c,a){const f=Yn(a.fullServerUrl(),c.host,c._protocol),J=new gr(f,"DELETE",function B(le,De){},c.maxOperationRetryTime);return J.successCodes=[200,204],J.errorHandler=Ii(a),J}(c.storage,c._location);return c.storage.makeRequestWithTokens(a,Ft)}(c=(0,Q.m9)(c))}(this._delegate)}_throwIfRoot(a){if(""===this._delegate._location.path)throw Mt(a)}}class Ri{constructor(a,l){this.app=a,this._delegate=l}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(a){if(Ho(a))throw rn("ref() expected a child path but got a URL, use refFromURL instead.");return new mr(pi(this._delegate,a),this)}refFromURL(a){if(!Ho(a))throw rn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{It.makeFromUrl(a,this._delegate.host)}catch{throw rn("refFromUrl() expected a valid full URL but got an invalid one.")}return new mr(pi(this._delegate,a),this)}setMaxUploadRetryTime(a){this._delegate.maxUploadRetryTime=a}setMaxOperationRetryTime(a){this._delegate.maxOperationRetryTime=a}useEmulator(a,l,f={}){!function ys(c,a,l,f={}){!function Ys(c,a,l,f={}){c.host=`${a}:${l}`,c._protocol="http";const{mockUserToken:E}=f;E&&(c._overrideAuthToken="string"==typeof E?E:(0,Q.Sg)(E,c.app.options.projectId))}(c,a,l,f)}(this._delegate,a,l,f)}}function Ho(c){return/^[A-Za-z]+:\/\//.test(c)}function Da(c,{instanceIdentifier:a}){const l=c.getProvider("app-compat").getImmediate(),f=c.getProvider("storage").getImmediate({identifier:a});return new Ri(l,f)}!function C(c){const a={TaskState:Ze,TaskEvent:Ee,StringFormat:Er,Storage:Ri,Reference:mr};c.INTERNAL.registerComponent(new rt.wA("storage-compat",Da,"PUBLIC").setServiceProps(a).setMultipleInstances(!0)),c.registerVersion("@firebase/storage-compat","0.1.17")}(ke.Z);var K=F(440),T=F(127);function fe(c){const a=function G(c){return new ge.y(a=>{const l=B=>a.next(B);l(c.snapshot);const A=c.on("state_changed",l);return c.then(B=>{l(B),a.complete()},B=>{l(c.snapshot),(B=>{a.error(B)})(B)}),function(){A()}}).pipe(function Pe(c,a=Se.z){return(0,ue.e)((l,f)=>{let E=null,A=null,B=null;const J=()=>{if(E){E.unsubscribe(),E=null;const De=A;A=null,f.next(De)}};function le(){const De=B+c,pt=a.now();if(pt<De)return E=this.schedule(void 0,De-pt),void f.add(E);J()}l.subscribe((0,Ne.x)(f,De=>{A=De,B=a.now(),E||(E=a.schedule(le,c),f.add(E))},()=>{J(),f.complete()},void 0,()=>{A=E=null}))})}(0))}(c);return{task:c,then:c.then.bind(c),catch:c.catch.bind(c),pause:c.pause.bind(c),cancel:c.cancel.bind(c),resume:c.resume.bind(c),snapshotChanges:()=>a,percentageChanges:()=>a.pipe((0,Be.U)(l=>l.bytesTransferred/l.totalBytes*100))}}function Gt(c){return{getDownloadURL:()=>(0,Oe.of)(void 0).pipe(mt.fc,(0,Ye.w)(()=>c.getDownloadURL()),mt.iC),getMetadata:()=>(0,Oe.of)(void 0).pipe(mt.fc,(0,Ye.w)(()=>c.getMetadata()),mt.iC),delete:()=>(0,$e.D)(c.delete()),child:a=>Gt(c.child(a)),updateMetadata:a=>(0,$e.D)(c.updateMetadata(a)),put:(a,l)=>fe(c.put(a,l)),putString:(a,l,f)=>fe(c.putString(a,l,f)),list:a=>(0,$e.D)(c.list(a)),listAll:()=>(0,$e.D)(c.listAll())}}const kn=new y.OlP("angularfire2.storageBucket"),Jn=new y.OlP("angularfire2.storage.maxUploadRetryTime"),Dr=new y.OlP("angularfire2.storage.maxOperationRetryTime"),Lr=new y.OlP("angularfire2.storage.use-emulator");let zi=(()=>{class c{constructor(l,f,E,A,B,J,le,De,pt,Dt){const Yt=(0,Ie.on)(l,B,f);this.storage=(0,Ie.cc)(`${Yt.name}.storage.${E}`,"AngularFireStorage",Yt.name,()=>{const Sn=B.runOutsideAngular(()=>Yt.storage(E||void 0)),zn=pt;return zn&&Sn.useEmulator(...zn),le&&Sn.setMaxUploadRetryTime(le),De&&Sn.setMaxOperationRetryTime(De),Sn},[le,De])}ref(l){return Gt(this.storage.ref(l))}refFromURL(l){return Gt(this.storage.refFromURL(l))}upload(l,f,E){return Gt(this.storage.ref(l)).put(f,E)}}return c.\u0275fac=function(l){return new(l||c)(y.LFG(Ie.Dh),y.LFG(Ie.xv,8),y.LFG(kn,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(mt.HU),y.LFG(Jn,8),y.LFG(Dr,8),y.LFG(Lr,8),y.LFG(K.nm,8))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),Ps=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({}),c})(),ro=(()=>{class c{constructor(){T.Z.registerVersion("angularfire",mt.q4.full,"gcs-compat")}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({providers:[zi],imports:[Ps]}),c})();var Qr=F(7407),Po=F(6451),j=F(3099),U=F(5026),L=F(1884),ie=F(8421),bt=F(4671),wn=F(5032),ti=F(3269);F(1451);var Wi=F(1877);const qs="@firebase/database";let ui="";function El(c){ui=c}class el{constructor(a){this.domStorage_=a,this.prefix_="firebase:"}set(a,l){null==l?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),(0,Q.Pz)(l))}get(a){const l=this.domStorage_.getItem(this.prefixedName_(a));return null==l?null:(0,Q.cI)(l)}remove(a){this.domStorage_.removeItem(this.prefixedName_(a))}prefixedName_(a){return this.prefix_+a}toString(){return this.domStorage_.toString()}}class ta{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(a,l){null==l?delete this.cache_[a]:this.cache_[a]=l}get(a){return(0,Q.r3)(this.cache_,a)?this.cache_[a]:null}remove(a){delete this.cache_[a]}}const na=function(c){try{if(typeof window<"u"&&typeof window[c]<"u"){const a=window[c];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new el(a)}}catch{}return new ta},po=na("localStorage"),tl=na("sessionStorage"),ga=new Wi.Yd("@firebase/database"),ma=function(){let c=1;return function(){return c++}}(),Va=function(c){const a=(0,Q.dS)(c),l=new Q.gQ;l.update(a);const f=l.digest();return Q.US.encodeByteArray(f)},go=function(...c){let a="";for(let l=0;l<c.length;l++){const f=c[l];Array.isArray(f)||f&&"object"==typeof f&&"number"==typeof f.length?a+=go.apply(null,f):a+="object"==typeof f?(0,Q.Pz)(f):f,a+=" "}return a};let io=null,ya=!0;const ru=function(c,a){(0,Q.hu)(!a||!0===c||!1===c,"Can't turn on custom loggers persistently."),!0===c?(ga.logLevel=Wi.in.VERBOSE,io=ga.log.bind(ga),a&&tl.set("logging_enabled",!0)):"function"==typeof c?io=c:(io=null,tl.remove("logging_enabled"))},_s=function(...c){if(!0===ya&&(ya=!1,null===io&&!0===tl.get("logging_enabled")&&ru(!0)),io){const a=go.apply(null,c);io(a)}},No=function(c){return function(...a){_s(c,...a)}},kl=function(...c){const a="FIREBASE INTERNAL ERROR: "+go(...c);ga.error(a)},mo=function(...c){const a=`FIREBASE FATAL ERROR: ${go(...c)}`;throw ga.error(a),new Error(a)},Ki=function(...c){const a="FIREBASE WARNING: "+go(...c);ga.warn(a)},Fl=function(c){return"number"==typeof c&&(c!=c||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY)},va="[MIN_NAME]",ra="[MAX_NAME]",To=function(c,a){if(c===a)return 0;if(c===va||a===ra)return-1;if(a===va||c===ra)return 1;{const l=ne(c),f=ne(a);return null!==l?null!==f?l-f==0?c.length-a.length:l-f:-1:null!==f?1:c<a?-1:1}},Ll=function(c,a){return c===a?0:c<a?-1:1},Bl=function(c,a){if(a&&c in a)return a[c];throw new Error("Missing required key ("+c+") in object: "+(0,Q.Pz)(a))},js=function(c){if("object"!=typeof c||null===c)return(0,Q.Pz)(c);const a=[];for(const f in c)a.push(f);a.sort();let l="{";for(let f=0;f<a.length;f++)0!==f&&(l+=","),l+=(0,Q.Pz)(a[f]),l+=":",l+=js(c[a[f]]);return l+="}",l},ko=function(c,a){const l=c.length;if(l<=a)return[c];const f=[];for(let E=0;E<l;E+=a)f.push(c.substring(E,E+a>l?l:E+a));return f};function ts(c,a){for(const l in c)c.hasOwnProperty(l)&&a(l,c[l])}const Cr=function(c){(0,Q.hu)(!Fl(c),"Invalid JSON number");const f=1023;let E,A,B,J,le;0===c?(A=0,B=0,E=1/c==-1/0?1:0):(E=c<0,(c=Math.abs(c))>=Math.pow(2,1-f)?(J=Math.min(Math.floor(Math.log(c)/Math.LN2),f),A=J+f,B=Math.round(c*Math.pow(2,52-J)-Math.pow(2,52))):(A=0,B=Math.round(c/Math.pow(2,-1074))));const De=[];for(le=52;le;le-=1)De.push(B%2?1:0),B=Math.floor(B/2);for(le=11;le;le-=1)De.push(A%2?1:0),A=Math.floor(A/2);De.push(E?1:0),De.reverse();const pt=De.join("");let Dt="";for(le=0;le<64;le+=8){let Yt=parseInt(pt.substr(le,8),2).toString(16);1===Yt.length&&(Yt="0"+Yt),Dt+=Yt}return Dt.toLowerCase()},k=new RegExp("^-?(0*)\\d{1,10}$"),Z=-2147483648,V=2147483647,ne=function(c){if(k.test(c)){const a=Number(c);if(a>=Z&&a<=V)return a}return null},Re=function(c){try{c()}catch(a){setTimeout(()=>{throw Ki("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}},zt=function(c,a){const l=setTimeout(c,a);return"object"==typeof l&&l.unref&&l.unref(),l};class xn{constructor(a,l){this.appName_=a,this.appCheckProvider=l,this.appCheck=null==l?void 0:l.getImmediate({optional:!0}),this.appCheck||null==l||l.get().then(f=>this.appCheck=f)}getToken(a){return this.appCheck?this.appCheck.getToken(a):new Promise((l,f)=>{setTimeout(()=>{this.appCheck?this.getToken(a).then(l,f):l(null)},0)})}addTokenChangeListener(a){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(f=>f.addTokenListener(a))}notifyForInvalidToken(){Ki(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class cr{constructor(a,l,f){this.appName_=a,this.firebaseOptions_=l,this.authProvider_=f,this.auth_=null,this.auth_=f.getImmediate({optional:!0}),this.auth_||f.onInit(E=>this.auth_=E)}getToken(a){return this.auth_?this.auth_.getToken(a).catch(l=>l&&"auth/token-not-initialized"===l.code?(_s("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,f)=>{setTimeout(()=>{this.auth_?this.getToken(a).then(l,f):l(null)},0)})}addTokenChangeListener(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(l=>l.addAuthTokenListener(a))}removeTokenChangeListener(a){this.authProvider_.get().then(l=>l.removeAuthTokenListener(a))}notifyForInvalidToken(){let a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';a+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ki(a)}}let Br=(()=>{class c{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return c.OWNER="owner",c})();const So=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ci="websocket",Hs="long_polling";class Es{constructor(a,l,f,E,A=!1,B="",J=!1){this.secure=l,this.namespace=f,this.webSocketOnly=E,this.nodeAdmin=A,this.persistenceKey=B,this.includeNamespaceInQueryParams=J,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=po.get("host:"+a)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&po.set("host:"+this._host,this.internalHost))}toString(){let a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Zs(c,a,l){let f;if((0,Q.hu)("string"==typeof a,"typeof type must == string"),(0,Q.hu)("object"==typeof l,"typeof params must == object"),a===Ci)f=(c.secure?"wss://":"ws://")+c.internalHost+"/.ws?";else{if(a!==Hs)throw new Error("Unknown connection type: "+a);f=(c.secure?"https://":"http://")+c.internalHost+"/.lp?"}(function Iu(c){return c.host!==c.internalHost||c.isCustomHost()||c.includeNamespaceInQueryParams})(c)&&(l.ns=c.namespace);const E=[];return ts(l,(A,B)=>{E.push(A+"="+B)}),f+E.join("&")}class pn{constructor(){this.counters_={}}incrementCounter(a,l=1){(0,Q.r3)(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=l}get(){return(0,Q.p$)(this.counters_)}}const gi={},Ua={};function Jt(c){const a=c.toString();return gi[a]||(gi[a]=new pn),gi[a]}class hr{constructor(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(a,l){this.closeAfterResponse=a,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(a,l){for(this.pendingResponses[a]=l;this.pendingResponses[this.currentResponseNum];){const f=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let E=0;E<f.length;++E)f[E]&&Re(()=>{this.onMessage_(f[E])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class yo{constructor(a,l,f,E,A,B,J){this.connId=a,this.repoInfo=l,this.applicationId=f,this.appCheckToken=E,this.authToken=A,this.transportSessionId=B,this.lastSessionId=J,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=No(a),this.stats_=Jt(l),this.urlFn=le=>(this.appCheckToken&&(le.ac=this.appCheckToken),Zs(l,Hs,le))}open(a,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new hr(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(c){if((0,Q.Yr)()||"complete"===document.readyState)c();else{let a=!1;const l=function(){document.body?a||(a=!0,c()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zo((...A)=>{const[B,J,le,De,pt]=A;if(this.incrementIncomingBytes_(A),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===B)this.id=J,this.password=le;else{if("close"!==B)throw new Error("Unrecognized command received: "+B);J?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(J,()=>{this.onClosed_()})):this.onClosed_()}},(...A)=>{const[B,J]=A;this.incrementIncomingBytes_(A),this.myPacketOrderer.handleResponse(B,J)},()=>{this.onClosed_()},this.urlFn);const f={start:"t"};f.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(f.cb=this.scriptTagHolder.uniqueCallbackIdentifier),f.v="5",this.transportSessionId&&(f.s=this.transportSessionId),this.lastSessionId&&(f.ls=this.lastSessionId),this.applicationId&&(f.p=this.applicationId),this.appCheckToken&&(f.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&So.test(location.hostname)&&(f.r="f");const E=this.urlFn(f);this.log_("Connecting via long-poll to "+E),this.scriptTagHolder.addTag(E,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yo.forceAllow_=!0}static forceDisallow(){yo.forceDisallow_=!0}static isAvailable(){return!((0,Q.Yr)()||!yo.forceAllow_&&(yo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(a){const l=(0,Q.Pz)(a);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const f=(0,Q.h$)(l),E=ko(f,1840);for(let A=0;A<E.length;A++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,E.length,E[A]),this.curSegmentNum++}addDisconnectPingFrame(a,l){if((0,Q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const f={dframe:"t"};f.id=a,f.pw=l,this.myDisconnFrame.src=this.urlFn(f),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(a){const l=(0,Q.Pz)(a).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class zo{constructor(a,l,f,E){if(this.onDisconnect=f,this.urlFn=E,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Q.Yr)())this.commandCB=a,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=ma(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=zo.createIFrame_();let A="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(A='<script>document.domain="'+document.domain+'";<\/script>');const B="<html><body>"+A+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(B),this.myIFrame.doc.close()}catch(J){_s("frame writing exception"),J.stack&&_s(J.stack),_s(J)}}}static createIFrame_(){const a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||_s("No IE domain setting required")}catch{const f=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+f+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const a=this.onDisconnect;a&&(this.onDisconnect=null,a())}startLongPoll(a,l){for(this.myID=a,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;let l=this.urlFn(a),f="",E=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+f.length<=1870;){const B=this.pendingSegs.shift();f=f+"&seg"+E+"="+B.seg+"&ts"+E+"="+B.ts+"&d"+E+"="+B.d,E++}return l+=f,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(a,l,f){this.pendingSegs.push({seg:a,ts:l,d:f}),this.alive&&this.newRequest_()}addLongPollTag_(a,l){this.outstandingRequests.add(l);const f=()=>{this.outstandingRequests.delete(l),this.newRequest_()},E=setTimeout(f,Math.floor(25e3));this.addTag(a,()=>{clearTimeout(E),f()})}addTag(a,l){(0,Q.Yr)()?this.doNodeLongPoll(a,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const f=this.myIFrame.doc.createElement("script");f.type="text/javascript",f.async=!0,f.src=a,f.onload=f.onreadystatechange=function(){const E=f.readyState;(!E||"loaded"===E||"complete"===E)&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),l())},f.onerror=()=>{_s("Long-poll script failed to load: "+a),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(f)}catch{}},Math.floor(1))}}let Ha=null;typeof MozWebSocket<"u"?Ha=MozWebSocket:typeof WebSocket<"u"&&(Ha=WebSocket);let Ur=(()=>{class c{constructor(l,f,E,A,B,J,le){this.connId=l,this.applicationId=E,this.appCheckToken=A,this.authToken=B,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=No(this.connId),this.stats_=Jt(f),this.connURL=c.connectionURL_(f,J,le,A,E),this.nodeAdmin=f.nodeAdmin}static connectionURL_(l,f,E,A,B){const J={v:"5"};return!(0,Q.Yr)()&&typeof location<"u"&&location.hostname&&So.test(location.hostname)&&(J.r="f"),f&&(J.s=f),E&&(J.ls=E),A&&(J.ac=A),B&&(J.p=B),Zs(l,Ci,J)}open(l,f){this.onDisconnect=f,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,po.set("previous_websocket_failure",!0);try{let E;if((0,Q.Yr)()){E={headers:{"User-Agent":`Firebase/5/${ui}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(E.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(E.headers["X-Firebase-AppCheck"]=this.appCheckToken);const B=process.env,J=0===this.connURL.indexOf("wss://")?B.HTTPS_PROXY||B.https_proxy:B.HTTP_PROXY||B.http_proxy;J&&(E.proxy={origin:J})}this.mySock=new Ha(this.connURL,[],E)}catch(E){this.log_("Error instantiating WebSocket.");const A=E.message||E.data;return A&&this.log_(A),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=E=>{this.handleIncomingFrame(E)},this.mySock.onerror=E=>{this.log_("WebSocket error.  Closing connection.");const A=E.message||E.data;A&&this.log_(A),this.onClosed_()}}start(){}static forceDisallow(){c.forceDisallow_=!0}static isAvailable(){let l=!1;if(typeof navigator<"u"&&navigator.userAgent){const E=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);E&&E.length>1&&parseFloat(E[1])<4.4&&(l=!0)}return!l&&null!==Ha&&!c.forceDisallow_}static previouslyFailed(){return po.isInMemoryStorage||!0===po.get("previous_websocket_failure")}markConnectionHealthy(){po.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const f=this.frames.join("");this.frames=null;const E=(0,Q.cI)(f);this.onMessage(E)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if((0,Q.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){const f=Number(l);if(!isNaN(f))return this.handleNewFrameCount_(f),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const f=l.data;if(this.bytesReceived+=f.length,this.stats_.incrementCounter("bytes_received",f.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(f);else{const E=this.extractFrameCount_(f);null!==E&&this.appendFrame_(E)}}send(l){this.resetKeepAlive();const f=(0,Q.Pz)(l);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);const E=ko(f,16384);E.length>1&&this.sendString_(String(E.length));for(let A=0;A<E.length;A++)this.sendString_(E[A])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(f){this.log_("Exception thrown from WebSocket.send():",f.message||f.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return c.responsesRequiredToBeHealthy=2,c.healthyTimeout=3e4,c})(),Qu=(()=>{class c{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[yo,Ur]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(l){const f=Ur&&Ur.isAvailable();let E=f&&!Ur.previouslyFailed();if(l.webSocketOnly&&(f||Ki("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),E=!0),E)this.transports_=[Ur];else{const A=this.transports_=[];for(const B of c.ALL_TRANSPORTS)B&&B.isAvailable()&&A.push(B);c.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return c.globalTransportInitialized_=!1,c})();class bu{constructor(a,l,f,E,A,B,J,le,De,pt){this.id=a,this.repoInfo_=l,this.applicationId_=f,this.appCheckToken_=E,this.authToken_=A,this.onMessage_=B,this.onReady_=J,this.onDisconnect_=le,this.onKill_=De,this.lastSessionId=pt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=No("c:"+this.id+":"),this.transportManager_=new Qu(l),this.log_("Connection created"),this.start_()}start_(){const a=this.transportManager_.initialTransport();this.conn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,f)},Math.floor(0));const E=a.healthyTimeout||0;E>0&&(this.healthyTimeout_=zt(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(E)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(a){return l=>{a===this.conn_?this.onConnectionLost_(l):a===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(a){return l=>{2!==this.state_&&(a===this.rx_?this.onPrimaryMessageReceived_(l):a===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(a){this.sendData_({t:"d",d:a})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(a){if("t"in a){const l=a.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(a){const l=Bl("t",a),f=Bl("d",a);if("c"===l)this.onSecondaryControl_(f);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(f)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(a){const l=Bl("t",a),f=Bl("d",a);"c"===l?this.onControl_(f):"d"===l&&this.onDataMessage_(f)}onDataMessage_(a){this.onPrimaryResponse_(),this.onMessage_(a)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(a){const l=Bl("t",a);if("d"in a){const f=a.d;if("h"===l)this.onHandshake_(f);else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let E=0;E<this.pendingDataMessages.length;++E)this.onDataMessage_(this.pendingDataMessages[E]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(f):"r"===l?this.onReset_(f):"e"===l?kl("Server Error: "+f):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kl("Unknown control packet command: "+l)}}onHandshake_(a){const l=a.ts,f=a.v,E=a.h;this.sessionId=a.s,this.repoInfo_.host=E,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==f&&Ki("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)}startUpgrade_(a){this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),f=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,f),zt(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(a,l){this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zt(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()}onConnectionLost_(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(po.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class xt{put(a,l,f,E){}merge(a,l,f,E){}refreshAuthToken(a){}refreshAppCheckToken(a){}onDisconnectPut(a,l,f){}onDisconnectMerge(a,l,f){}onDisconnectCancel(a,l){}reportStats(a){}}class Ga{constructor(a){this.allowedEvents_=a,this.listeners_={},(0,Q.hu)(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}trigger(a,...l){if(Array.isArray(this.listeners_[a])){const f=[...this.listeners_[a]];for(let E=0;E<f.length;E++)f[E].callback.apply(f[E].context,l)}}on(a,l,f){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:l,context:f});const E=this.getInitialEvent(a);E&&l.apply(f,E)}off(a,l,f){this.validateEventType_(a);const E=this.listeners_[a]||[];for(let A=0;A<E.length;A++)if(E[A].callback===l&&(!f||f===E[A].context))return void E.splice(A,1)}validateEventType_(a){(0,Q.hu)(this.allowedEvents_.find(l=>l===a),"Unknown event: "+a)}}class S extends Ga{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new S}getInitialEvent(a){return(0,Q.hu)("online"===a,"Unknown event type: "+a),[this.online_]}currentlyOnline(){return this.online_}}class R{constructor(a,l){if(void 0===l){this.pieces_=a.split("/");let f=0;for(let E=0;E<this.pieces_.length;E++)this.pieces_[E].length>0&&(this.pieces_[f]=this.pieces_[E],f++);this.pieces_.length=f,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=l}toString(){let a="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(a+="/"+this.pieces_[l]);return a||"/"}}function z(){return new R("")}function oe(c){return c.pieceNum_>=c.pieces_.length?null:c.pieces_[c.pieceNum_]}function ce(c){return c.pieces_.length-c.pieceNum_}function Je(c){let a=c.pieceNum_;return a<c.pieces_.length&&a++,new R(c.pieces_,a)}function Kt(c){return c.pieceNum_<c.pieces_.length?c.pieces_[c.pieces_.length-1]:null}function Ln(c,a=0){return c.pieces_.slice(c.pieceNum_+a)}function Vn(c){if(c.pieceNum_>=c.pieces_.length)return null;const a=[];for(let l=c.pieceNum_;l<c.pieces_.length-1;l++)a.push(c.pieces_[l]);return new R(a,0)}function tr(c,a){const l=[];for(let f=c.pieceNum_;f<c.pieces_.length;f++)l.push(c.pieces_[f]);if(a instanceof R)for(let f=a.pieceNum_;f<a.pieces_.length;f++)l.push(a.pieces_[f]);else{const f=a.split("/");for(let E=0;E<f.length;E++)f[E].length>0&&l.push(f[E])}return new R(l,0)}function ir(c){return c.pieceNum_>=c.pieces_.length}function kr(c,a){const l=oe(c),f=oe(a);if(null===l)return a;if(l===f)return kr(Je(c),Je(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+c+")")}function vo(c,a){const l=Ln(c,0),f=Ln(a,0);for(let E=0;E<l.length&&E<f.length;E++){const A=To(l[E],f[E]);if(0!==A)return A}return l.length===f.length?0:l.length<f.length?-1:1}function As(c,a){if(ce(c)!==ce(a))return!1;for(let l=c.pieceNum_,f=a.pieceNum_;l<=c.pieces_.length;l++,f++)if(c.pieces_[l]!==a.pieces_[f])return!1;return!0}function Fr(c,a){let l=c.pieceNum_,f=a.pieceNum_;if(ce(c)>ce(a))return!1;for(;l<c.pieces_.length;){if(c.pieces_[l]!==a.pieces_[f])return!1;++l,++f}return!0}class Tl{constructor(a,l){this.errorPrefix_=l,this.parts_=Ln(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(let f=0;f<this.parts_.length;f++)this.byteLength_+=(0,Q.ug)(this.parts_[f]);Sl(this)}}function Sl(c){if(c.byteLength_>768)throw new Error(c.errorPrefix_+"has a key path longer than 768 bytes ("+c.byteLength_+").");if(c.parts_.length>32)throw new Error(c.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Vi(c))}function Vi(c){return 0===c.parts_.length?"":"in property '"+c.parts_.join(".")+"'"}class Sa extends Ga{constructor(){let a,l;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",a="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",a="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",a="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",a="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const f=!document[a];f!==this.visible_&&(this.visible_=f,this.trigger("visible",f))},!1)}static getInstance(){return new Sa}getInitialEvent(a){return(0,Q.hu)("visible"===a,"Unknown event type: "+a),[this.visible_]}}const _o=1e3;let ae,ws=(()=>{class c extends xt{constructor(l,f,E,A,B,J,le,De){if(super(),this.repoInfo_=l,this.applicationId_=f,this.onDataUpdate_=E,this.onConnectStatus_=A,this.onServerInfoUpdate_=B,this.authTokenProvider_=J,this.appCheckTokenProvider_=le,this.authOverride_=De,this.id=c.nextPersistentConnectionId_++,this.log_=No("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_o,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,De&&!(0,Q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sa.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&S.getInstance().on("online",this.onOnline_,this)}sendRequest(l,f,E){const A=++this.requestNumber_,B={r:A,a:l,b:f};this.log_((0,Q.Pz)(B)),(0,Q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(B),E&&(this.requestCBHash_[A]=E)}get(l){this.initConnection_();const f=new Q.BH,A={action:"g",request:{p:l._path.toString(),q:l._queryObject},onComplete:J=>{const le=J.d;"ok"===J.s?f.resolve(le):f.reject(le)}};return this.outstandingGets_.push(A),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),f.promise}listen(l,f,E,A){this.initConnection_();const B=l._queryIdentifier,J=l._path.toString();this.log_("Listen called for "+J+" "+B),this.listens.has(J)||this.listens.set(J,new Map),(0,Q.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Q.hu)(!this.listens.get(J).has(B),"listen() called twice for same path/queryId.");const le={onComplete:A,hashFn:f,query:l,tag:E};this.listens.get(J).set(B,le),this.connected_&&this.sendListen_(le)}sendGet_(l){const f=this.outstandingGets_[l];this.sendRequest("g",f.request,E=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),f.onComplete&&f.onComplete(E)})}sendListen_(l){const f=l.query,E=f._path.toString(),A=f._queryIdentifier;this.log_("Listen on "+E+" for "+A);const B={p:E};l.tag&&(B.q=f._queryObject,B.t=l.tag),B.h=l.hashFn(),this.sendRequest("q",B,le=>{const De=le.d,pt=le.s;c.warnOnListenWarnings_(De,f),(this.listens.get(E)&&this.listens.get(E).get(A))===l&&(this.log_("listen response",le),"ok"!==pt&&this.removeListen_(E,A),l.onComplete&&l.onComplete(pt,De))})}static warnOnListenWarnings_(l,f){if(l&&"object"==typeof l&&(0,Q.r3)(l,"w")){const E=(0,Q.DV)(l,"w");if(Array.isArray(E)&&~E.indexOf("no_index")){const A='".indexOn": "'+f._queryParams.getIndex().toString()+'"',B=f._path.toString();Ki(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${A} at ${B} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||(0,Q.GJ)(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,f=(0,Q.w9)(l)?"auth":"gauth",E={cred:l};null===this.authOverride_?E.noauth=!0:"object"==typeof this.authOverride_&&(E.authvar=this.authOverride_),this.sendRequest(f,E,A=>{const B=A.s,J=A.d||"error";this.authToken_===l&&("ok"===B?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(B,J))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const f=l.s,E=l.d||"error";"ok"===f?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(f,E)})}unlisten(l,f){const E=l._path.toString(),A=l._queryIdentifier;this.log_("Unlisten called for "+E+" "+A),(0,Q.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(E,A)&&this.connected_&&this.sendUnlisten_(E,A,l._queryObject,f)}sendUnlisten_(l,f,E,A){this.log_("Unlisten on "+l+" for "+f);const B={p:l};A&&(B.q=E,B.t=A),this.sendRequest("n",B)}onDisconnectPut(l,f,E){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,f,E):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:f,onComplete:E})}onDisconnectMerge(l,f,E){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,f,E):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:f,onComplete:E})}onDisconnectCancel(l,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,f):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:f})}sendOnDisconnect_(l,f,E,A){const B={p:f,d:E};this.log_("onDisconnect "+l,B),this.sendRequest(l,B,J=>{A&&setTimeout(()=>{A(J.s,J.d)},Math.floor(0))})}put(l,f,E,A){this.putInternal("p",l,f,E,A)}merge(l,f,E,A){this.putInternal("m",l,f,E,A)}putInternal(l,f,E,A,B){this.initConnection_();const J={p:f,d:E};void 0!==B&&(J.h=B),this.outstandingPuts_.push({action:l,request:J,onComplete:A}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+f)}sendPut_(l){const f=this.outstandingPuts_[l].action,E=this.outstandingPuts_[l].request,A=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(f,E,B=>{this.log_(f+" response",B),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),A&&A(B.s,B.d)})}reportStats(l){if(this.connected_){const f={c:l};this.log_("reportStats",f),this.sendRequest("s",f,E=>{"ok"!==E.s&&this.log_("reportStats","Error sending stats: "+E.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+(0,Q.Pz)(l));const f=l.r,E=this.requestCBHash_[f];E&&(delete this.requestCBHash_[f],E(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,f){this.log_("handleServerMessage",l,f),"d"===l?this.onDataUpdate_(f.p,f.d,!1,f.t):"m"===l?this.onDataUpdate_(f.p,f.d,!0,f.t):"c"===l?this.onListenRevoked_(f.p,f.q):"ac"===l?this.onAuthRevoked_(f.s,f.d):"apc"===l?this.onAppCheckRevoked_(f.s,f.d):"sd"===l?this.onSecurityDebugPacket_(f):kl("Unrecognized action received from server: "+(0,Q.Pz)(l)+"\nAre you using the latest client?")}onReady_(l,f){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=f,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){(0,Q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_o,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=_o,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_o),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let f=Math.max(0,this.reconnectDelay_-l);f=Math.random()*f,this.log_("Trying to reconnect in "+f+"ms"),this.scheduleConnect_(f),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,be.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const f=l.onDataMessage_.bind(l),E=l.onReady_.bind(l),A=l.onRealtimeDisconnect_.bind(l),B=l.id+":"+c.nextConnectionId_++,J=l.lastSessionId;let le=!1,De=null;const pt=function(){De?De.close():(le=!0,A())};l.realtime_={close:pt,sendRequest:function(Sn){(0,Q.hu)(De,"sendRequest call when we're not connected not allowed."),De.sendRequest(Sn)}};const Yt=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[Sn,zn]=yield Promise.all([l.authTokenProvider_.getToken(Yt),l.appCheckTokenProvider_.getToken(Yt)]);le?_s("getToken() completed but was canceled"):(_s("getToken() completed. Creating connection."),l.authToken_=Sn&&Sn.accessToken,l.appCheckToken_=zn&&zn.token,De=new bu(B,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,f,E,A,Kr=>{Ki(Kr+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},J))}catch(Sn){l.log_("Failed to get token: "+Sn),le||(l.repoInfo_.nodeAdmin&&Ki(Sn),pt())}}})()}interrupt(l){_s("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){_s("Resuming connection for reason: "+l),delete this.interruptReasons_[l],(0,Q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=_o,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const f=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:f})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const f=this.outstandingPuts_[l];f&&"h"in f.request&&f.queued&&(f.onComplete&&f.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,f){let E;E=f?f.map(B=>js(B)).join("$"):"default";const A=this.removeListen_(l,E);A&&A.onComplete&&A.onComplete("permission_denied")}removeListen_(l,f){const E=new R(l).toString();let A;if(this.listens.has(E)){const B=this.listens.get(E);A=B.get(f),B.delete(f),0===B.size&&this.listens.delete(E)}else A=void 0;return A}onAuthRevoked_(l,f){_s("Auth token revoked: "+l+"/"+f),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,f){_s("App check token revoked: "+l+"/"+f),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const f of l.values())this.sendListen_(f);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let f="js";(0,Q.Yr)()&&(f=this.repoInfo_.nodeAdmin?"admin_node":"node"),l["sdk."+f+"."+ui.replace(/\./g,"-")]=1,(0,Q.uI)()?l["framework.cordova"]=1:(0,Q.b$)()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=S.getInstance().currentlyOnline();return(0,Q.xb)(this.interruptReasons_)&&l}}return c.nextPersistentConnectionId_=0,c.nextConnectionId_=0,c})();class ${constructor(a,l){this.name=a,this.node=l}static Wrap(a,l){return new $(a,l)}}class H{getCompare(){return this.compare.bind(this)}indexedValueChanged(a,l){const f=new $(va,a),E=new $(va,l);return 0!==this.compare(f,E)}minPost(){return $.MIN}}class Fe extends H{static get __EMPTY_NODE(){return ae}static set __EMPTY_NODE(a){ae=a}compare(a,l){return To(a.name,l.name)}isDefinedOn(a){throw(0,Q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(a,l){return!1}minPost(){return $.MIN}maxPost(){return new $(ra,ae)}makePost(a,l){return(0,Q.hu)("string"==typeof a,"KeyIndex indexValue must always be a string."),new $(a,ae)}toString(){return".key"}}const ft=new Fe;class At{constructor(a,l,f,E,A=null){this.isReverse_=E,this.resultGenerator_=A,this.nodeStack_=[];let B=1;for(;!a.isEmpty();)if(B=l?f(a.key,l):1,E&&(B*=-1),B<0)a=this.isReverse_?a.left:a.right;else{if(0===B){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,a=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}}}let or,Xt=(()=>{class c{constructor(l,f,E,A,B){this.key=l,this.value=f,this.color=null!=E?E:c.RED,this.left=null!=A?A:Bn.EMPTY_NODE,this.right=null!=B?B:Bn.EMPTY_NODE}copy(l,f,E,A,B){return new c(null!=l?l:this.key,null!=f?f:this.value,null!=E?E:this.color,null!=A?A:this.left,null!=B?B:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,f,E){let A=this;const B=E(l,A.key);return A=B<0?A.copy(null,null,null,A.left.insert(l,f,E),null):0===B?A.copy(null,f,null,null,null):A.copy(null,null,null,null,A.right.insert(l,f,E)),A.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bn.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,f){let E,A;if(E=this,f(l,E.key)<0)!E.left.isEmpty()&&!E.left.isRed_()&&!E.left.left.isRed_()&&(E=E.moveRedLeft_()),E=E.copy(null,null,null,E.left.remove(l,f),null);else{if(E.left.isRed_()&&(E=E.rotateRight_()),!E.right.isEmpty()&&!E.right.isRed_()&&!E.right.left.isRed_()&&(E=E.moveRedRight_()),0===f(l,E.key)){if(E.right.isEmpty())return Bn.EMPTY_NODE;A=E.right.min_(),E=E.copy(A.key,A.value,null,null,E.right.removeMin_())}E=E.copy(null,null,null,null,E.right.remove(l,f))}return E.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),f=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,f)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return c.RED=!0,c.BLACK=!1,c})();class Bn{constructor(a,l=Bn.EMPTY_NODE){this.comparator_=a,this.root_=l}insert(a,l){return new Bn(this.comparator_,this.root_.insert(a,l,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(a){return new Bn(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(a){let l,f=this.root_;for(;!f.isEmpty();){if(l=this.comparator_(a,f.key),0===l)return f.value;l<0?f=f.left:l>0&&(f=f.right)}return null}getPredecessorKey(a){let l,f=this.root_,E=null;for(;!f.isEmpty();){if(l=this.comparator_(a,f.key),0===l){if(f.left.isEmpty())return E?E.key:null;for(f=f.left;!f.right.isEmpty();)f=f.right;return f.key}l<0?f=f.left:l>0&&(E=f,f=f.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(a){return this.root_.inorderTraversal(a)}reverseTraversal(a){return this.root_.reverseTraversal(a)}getIterator(a){return new At(this.root_,null,this.comparator_,!1,a)}getIteratorFrom(a,l){return new At(this.root_,a,this.comparator_,!1,l)}getReverseIteratorFrom(a,l){return new At(this.root_,a,this.comparator_,!0,l)}getReverseIterator(a){return new At(this.root_,null,this.comparator_,!0,a)}}function Ar(c,a){return To(c.name,a.name)}function wr(c,a){return To(c,a)}Bn.EMPTY_NODE=new class Cn{copy(a,l,f,E,A){return this}insert(a,l,f){return new Xt(a,l,null)}remove(a,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ms=function(c){return"number"==typeof c?"number:"+Cr(c):"string:"+c},za=function(c){if(c.isLeafNode()){const a=c.val();(0,Q.hu)("string"==typeof a||"number"==typeof a||"object"==typeof a&&(0,Q.r3)(a,".sv"),"Priority must be a string or number.")}else(0,Q.hu)(c===or||c.isEmpty(),"priority of unexpected type.");(0,Q.hu)(c===or||c.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let il,Wa,sl,Ko=(()=>{class c{constructor(l,f=c.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=f,this.lazyHash_=null,(0,Q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),za(this.priorityNode_)}static set __childrenNodeConstructor(l){il=l}static get __childrenNodeConstructor(){return il}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new c(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return ir(l)?this:".priority"===oe(l)?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,f){return null}updateImmediateChild(l,f){return".priority"===l?this.updatePriority(f):f.isEmpty()&&".priority"!==l?this:c.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,f).updatePriority(this.priorityNode_)}updateChild(l,f){const E=oe(l);return null===E?f:f.isEmpty()&&".priority"!==E?this:((0,Q.hu)(".priority"!==E||1===ce(l),".priority must be the last token in a path"),this.updateImmediateChild(E,c.__childrenNodeConstructor.EMPTY_NODE.updateChild(Je(l),f)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,f){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+Ms(this.priorityNode_.val())+":");const f=typeof this.value_;l+=f+":",l+="number"===f?Cr(this.value_):this.value_,this.lazyHash_=Va(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===c.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof c.__childrenNodeConstructor?-1:((0,Q.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const f=typeof l.value_,E=typeof this.value_,A=c.VALUE_TYPE_ORDER.indexOf(f),B=c.VALUE_TYPE_ORDER.indexOf(E);return(0,Q.hu)(A>=0,"Unknown leaf type: "+f),(0,Q.hu)(B>=0,"Unknown leaf type: "+E),A===B?"object"===E?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:B-A}withIndex(){return this}isIndexed(){return!0}equals(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))}}return c.VALUE_TYPE_ORDER=["object","boolean","number","string"],c})();const Li=new class ou extends H{compare(a,l){const f=a.node.getPriority(),E=l.node.getPriority(),A=f.compareTo(E);return 0===A?To(a.name,l.name):A}isDefinedOn(a){return!a.getPriority().isEmpty()}indexedValueChanged(a,l){return!a.getPriority().equals(l.getPriority())}minPost(){return $.MIN}maxPost(){return new $(ra,new Ko("[PRIORITY-POST]",sl))}makePost(a,l){const f=Wa(a);return new $(l,new Ko("[PRIORITY-POST]",f))}toString(){return".priority"}},nc=Math.log(2);class Gs{constructor(a){this.count=parseInt(Math.log(a+1)/nc,10),this.current_=this.count-1;const E=(A=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=a+1&E}nextBitIsOne(){const a=!(this.bits_&1<<this.current_);return this.current_--,a}}const Al=function(c,a,l,f){c.sort(a);const E=function(le,De){const pt=De-le;let Dt,Yt;if(0===pt)return null;if(1===pt)return Dt=c[le],Yt=l?l(Dt):Dt,new Xt(Yt,Dt.node,Xt.BLACK,null,null);{const Sn=parseInt(pt/2,10)+le,zn=E(le,Sn),Kr=E(Sn+1,De);return Dt=c[Sn],Yt=l?l(Dt):Dt,new Xt(Yt,Dt.node,Xt.BLACK,zn,Kr)}},J=function(le){let De=null,pt=null,Dt=c.length;const Yt=function(zn,Kr){const oi=Dt-zn,Mo=Dt;Dt-=zn;const eo=E(oi+1,Mo),xs=c[oi],Vo=l?l(xs):xs;Sn(new Xt(Vo,xs.node,Kr,null,eo))},Sn=function(zn){De?(De.left=zn,De=zn):(pt=zn,De=zn)};for(let zn=0;zn<le.count;++zn){const Kr=le.nextBitIsOne(),oi=Math.pow(2,le.count-(zn+1));Kr?Yt(oi,Xt.BLACK):(Yt(oi,Xt.BLACK),Yt(oi,Xt.RED))}return pt}(new Gs(c.length));return new Bn(f||a,J)};let _i;const Cu={};class aa{constructor(a,l){this.indexes_=a,this.indexSet_=l}static get Default(){return(0,Q.hu)(Cu&&Li,"ChildrenNode.ts has not been loaded"),_i=_i||new aa({".priority":Cu},{".priority":Li}),_i}get(a){const l=(0,Q.DV)(this.indexes_,a);if(!l)throw new Error("No index defined for "+a);return l instanceof Bn?l:null}hasIndex(a){return(0,Q.r3)(this.indexSet_,a.toString())}addIndex(a,l){(0,Q.hu)(a!==ft,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const f=[];let E=!1;const A=l.getIterator($.Wrap);let J,B=A.getNext();for(;B;)E=E||a.isDefinedOn(B.node),f.push(B),B=A.getNext();J=E?Al(f,a.getCompare()):Cu;const le=a.toString(),De=Object.assign({},this.indexSet_);De[le]=a;const pt=Object.assign({},this.indexes_);return pt[le]=J,new aa(pt,De)}addToIndexes(a,l){const f=(0,Q.UI)(this.indexes_,(E,A)=>{const B=(0,Q.DV)(this.indexSet_,A);if((0,Q.hu)(B,"Missing index implementation for "+A),E===Cu){if(B.isDefinedOn(a.node)){const J=[],le=l.getIterator($.Wrap);let De=le.getNext();for(;De;)De.name!==a.name&&J.push(De),De=le.getNext();return J.push(a),Al(J,B.getCompare())}return Cu}{const J=l.get(a.name);let le=E;return J&&(le=le.remove(new $(a.name,J))),le.insert(a,a.node)}});return new aa(f,this.indexSet_)}removeFromIndexes(a,l){const f=(0,Q.UI)(this.indexes_,E=>{if(E===Cu)return E;{const A=l.get(a.name);return A?E.remove(new $(a.name,A)):E}});return new aa(f,this.indexSet_)}}let Yo,qr=(()=>{class c{constructor(l,f,E){this.children_=l,this.priorityNode_=f,this.indexMap_=E,this.lazyHash_=null,this.priorityNode_&&za(this.priorityNode_),this.children_.isEmpty()&&(0,Q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Yo||(Yo=new c(new Bn(wr),null,aa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yo}updatePriority(l){return this.children_.isEmpty()?this:new c(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const f=this.children_.get(l);return null===f?Yo:f}}getChild(l){const f=oe(l);return null===f?this:this.getImmediateChild(f).getChild(Je(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,f){if((0,Q.hu)(f,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(f);{const E=new $(l,f);let A,B;f.isEmpty()?(A=this.children_.remove(l),B=this.indexMap_.removeFromIndexes(E,this.children_)):(A=this.children_.insert(l,f),B=this.indexMap_.addToIndexes(E,this.children_));const J=A.isEmpty()?Yo:this.priorityNode_;return new c(A,J,B)}}updateChild(l,f){const E=oe(l);if(null===E)return f;{(0,Q.hu)(".priority"!==oe(l)||1===ce(l),".priority must be the last token in a path");const A=this.getImmediateChild(E).updateChild(Je(l),f);return this.updateImmediateChild(E,A)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const f={};let E=0,A=0,B=!0;if(this.forEachChild(Li,(J,le)=>{f[J]=le.val(l),E++,B&&c.INTEGER_REGEXP_.test(J)?A=Math.max(A,Number(J)):B=!1}),!l&&B&&A<2*E){const J=[];for(const le in f)J[le]=f[le];return J}return l&&!this.getPriority().isEmpty()&&(f[".priority"]=this.getPriority().val()),f}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+Ms(this.getPriority().val())+":"),this.forEachChild(Li,(f,E)=>{const A=E.hash();""!==A&&(l+=":"+f+":"+A)}),this.lazyHash_=""===l?"":Va(l)}return this.lazyHash_}getPredecessorChildName(l,f,E){const A=this.resolveIndex_(E);if(A){const B=A.getPredecessorKey(new $(l,f));return B?B.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const f=this.resolveIndex_(l);if(f){const E=f.minKey();return E&&E.name}return this.children_.minKey()}getFirstChild(l){const f=this.getFirstChildName(l);return f?new $(f,this.children_.get(f)):null}getLastChildName(l){const f=this.resolveIndex_(l);if(f){const E=f.maxKey();return E&&E.name}return this.children_.maxKey()}getLastChild(l){const f=this.getLastChildName(l);return f?new $(f,this.children_.get(f)):null}forEachChild(l,f){const E=this.resolveIndex_(l);return E?E.inorderTraversal(A=>f(A.name,A.node)):this.children_.inorderTraversal(f)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,f){const E=this.resolveIndex_(f);if(E)return E.getIteratorFrom(l,A=>A);{const A=this.children_.getIteratorFrom(l.name,$.Wrap);let B=A.peek();for(;null!=B&&f.compare(B,l)<0;)A.getNext(),B=A.peek();return A}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,f){const E=this.resolveIndex_(f);if(E)return E.getReverseIteratorFrom(l,A=>A);{const A=this.children_.getReverseIteratorFrom(l.name,$.Wrap);let B=A.peek();for(;null!=B&&f.compare(B,l)>0;)A.getNext(),B=A.peek();return A}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===Tu?-1:0}withIndex(l){if(l===ft||this.indexMap_.hasIndex(l))return this;{const f=this.indexMap_.addIndex(l,this.children_);return new c(this.children_,this.priorityNode_,f)}}isIndexed(l){return l===ft||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const f=l;if(this.getPriority().equals(f.getPriority())){if(this.children_.count()===f.children_.count()){const E=this.getIterator(Li),A=f.getIterator(Li);let B=E.getNext(),J=A.getNext();for(;B&&J;){if(B.name!==J.name||!B.node.equals(J.node))return!1;B=E.getNext(),J=A.getNext()}return null===B&&null===J}return!1}return!1}}resolveIndex_(l){return l===ft?null:this.indexMap_.get(l.toString())}}return c.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,c})();const Tu=new class qc extends qr{constructor(){super(new Bn(wr),qr.EMPTY_NODE,aa.Default)}compareTo(a){return a===this?0:1}equals(a){return a===this}getPriority(){return this}getImmediateChild(a){return qr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties($,{MIN:{value:new $(va,qr.EMPTY_NODE)},MAX:{value:new $(ra,Tu)}}),Fe.__EMPTY_NODE=qr.EMPTY_NODE,Ko.__childrenNodeConstructor=qr,function qi(c){or=c}(Tu),function al(c){sl=c}(Tu);const Sh=!0;function Ns(c,a=null){if(null===c)return qr.EMPTY_NODE;if("object"==typeof c&&".priority"in c&&(a=c[".priority"]),(0,Q.hu)(null===a||"string"==typeof a||"number"==typeof a||"object"==typeof a&&".sv"in a,"Invalid priority type found: "+typeof a),"object"==typeof c&&".value"in c&&null!==c[".value"]&&(c=c[".value"]),"object"!=typeof c||".sv"in c)return new Ko(c,Ns(a));if(c instanceof Array||!Sh){let l=qr.EMPTY_NODE;return ts(c,(f,E)=>{if((0,Q.r3)(c,f)&&"."!==f.substring(0,1)){const A=Ns(E);(A.isLeafNode()||!A.isEmpty())&&(l=l.updateImmediateChild(f,A))}}),l.updatePriority(Ns(a))}{const l=[];let f=!1;if(ts(c,(B,J)=>{if("."!==B.substring(0,1)){const le=Ns(J);le.isEmpty()||(f=f||!le.getPriority().isEmpty(),l.push(new $(B,le)))}}),0===l.length)return qr.EMPTY_NODE;const A=Al(l,Ar,B=>B.name,wr);if(f){const B=Al(l,Li.getCompare());return new qr(A,Ns(a),new aa({".priority":B},{".priority":Li}))}return new qr(A,Ns(a),aa.Default)}}!function ol(c){Wa=c}(Ns);class Ah extends H{constructor(a){super(),this.indexPath_=a,(0,Q.hu)(!ir(a)&&".priority"!==oe(a),"Can't create PathIndex with empty path or .priority key")}extractChild(a){return a.getChild(this.indexPath_)}isDefinedOn(a){return!a.getChild(this.indexPath_).isEmpty()}compare(a,l){const f=this.extractChild(a.node),E=this.extractChild(l.node),A=f.compareTo(E);return 0===A?To(a.name,l.name):A}makePost(a,l){const f=Ns(a),E=qr.EMPTY_NODE.updateChild(this.indexPath_,f);return new $(l,E)}maxPost(){const a=qr.EMPTY_NODE.updateChild(this.indexPath_,Tu);return new $(ra,a)}toString(){return Ln(this.indexPath_,0).join("/")}}const Rd=new class qo extends H{compare(a,l){const f=a.node.compareTo(l.node);return 0===f?To(a.name,l.name):f}isDefinedOn(a){return!0}indexedValueChanged(a,l){return!a.equals(l)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(a,l){const f=Ns(a);return new $(l,f)}toString(){return".value"}},Ml="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Rp=function(){let c=0;const a=[];return function(l){const f=l===c;let E;c=l;const A=new Array(8);for(E=7;E>=0;E--)A[E]=Ml.charAt(l%64),l=Math.floor(l/64);(0,Q.hu)(0===l,"Cannot push at time == 0");let B=A.join("");if(f){for(E=11;E>=0&&63===a[E];E--)a[E]=0;a[E]++}else for(E=0;E<12;E++)a[E]=Math.floor(64*Math.random());for(E=0;E<12;E++)B+=Ml.charAt(a[E]);return(0,Q.hu)(20===B.length,"nextPushId: Length should be 20."),B}}(),Su=function(c){if(c===""+V)return"-";const a=ne(c);if(null!=a)return""+(a+1);const l=new Array(c.length);for(let B=0;B<l.length;B++)l[B]=c.charAt(B);if(l.length<786)return l.push("-"),l.join("");let f=l.length-1;for(;f>=0&&"z"===l[f];)f--;if(-1===f)return ra;const A=Ml.charAt(Ml.indexOf(l[f])+1);return l[f]=A,l.slice(0,f+1).join("")},Df=function(c){if(c===""+Z)return va;const a=ne(c);if(null!=a)return""+(a-1);const l=new Array(c.length);for(let f=0;f<l.length;f++)l[f]=c.charAt(f);return"-"===l[l.length-1]?1===l.length?""+V:(delete l[l.length-1],l.join("")):(l[l.length-1]=Ml.charAt(Ml.indexOf(l[l.length-1])-1),l.join("")+"z".repeat(786-l.length))};function ao(c){return{type:"value",snapshotNode:c}}function la(c,a){return{type:"child_added",snapshotNode:a,childName:c}}function rc(c,a){return{type:"child_removed",snapshotNode:a,childName:c}}function ll(c,a,l){return{type:"child_changed",snapshotNode:a,childName:c,oldSnap:l}}class Ma{constructor(a){this.index_=a}updateChild(a,l,f,E,A,B){(0,Q.hu)(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");const J=a.getImmediateChild(l);return J.getChild(E).equals(f.getChild(E))&&J.isEmpty()===f.isEmpty()||(null!=B&&(f.isEmpty()?a.hasChild(l)?B.trackChildChange(rc(l,J)):(0,Q.hu)(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):J.isEmpty()?B.trackChildChange(la(l,f)):B.trackChildChange(ll(l,f,J))),a.isLeafNode()&&f.isEmpty())?a:a.updateImmediateChild(l,f).withIndex(this.index_)}updateFullNode(a,l,f){return null!=f&&(a.isLeafNode()||a.forEachChild(Li,(E,A)=>{l.hasChild(E)||f.trackChildChange(rc(E,A))}),l.isLeafNode()||l.forEachChild(Li,(E,A)=>{if(a.hasChild(E)){const B=a.getImmediateChild(E);B.equals(A)||f.trackChildChange(ll(E,A,B))}else f.trackChildChange(la(E,A))})),l.withIndex(this.index_)}updatePriority(a,l){return a.isEmpty()?qr.EMPTY_NODE:a.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zc{constructor(a){this.indexedFilter_=new Ma(a.getIndex()),this.index_=a.getIndex(),this.startPost_=Zc.getStartPost_(a),this.endPost_=Zc.getEndPost_(a)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(a){return this.index_.compare(this.getStartPost(),a)<=0&&this.index_.compare(a,this.getEndPost())<=0}updateChild(a,l,f,E,A,B){return this.matches(new $(l,f))||(f=qr.EMPTY_NODE),this.indexedFilter_.updateChild(a,l,f,E,A,B)}updateFullNode(a,l,f){l.isLeafNode()&&(l=qr.EMPTY_NODE);let E=l.withIndex(this.index_);E=E.updatePriority(qr.EMPTY_NODE);const A=this;return l.forEachChild(Li,(B,J)=>{A.matches(new $(B,J))||(E=E.updateImmediateChild(B,qr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,E,f)}updatePriority(a,l){return a}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(a){if(a.hasStart()){const l=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),l)}return a.getIndex().minPost()}static getEndPost_(a){if(a.hasEnd()){const l=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),l)}return a.getIndex().maxPost()}}class Au{constructor(a){this.rangedFilter_=new Zc(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft()}updateChild(a,l,f,E,A,B){return this.rangedFilter_.matches(new $(l,f))||(f=qr.EMPTY_NODE),a.getImmediateChild(l).equals(f)?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,l,f,E,A,B):this.fullLimitUpdateChild_(a,l,f,A,B)}updateFullNode(a,l,f){let E;if(l.isLeafNode()||l.isEmpty())E=qr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<l.numChildren()&&l.isIndexed(this.index_)){let A;E=qr.EMPTY_NODE.withIndex(this.index_),A=this.reverse_?l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let B=0;for(;A.hasNext()&&B<this.limit_;){const J=A.getNext();let le;if(le=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),J)<=0:this.index_.compare(J,this.rangedFilter_.getEndPost())<=0,!le)break;E=E.updateImmediateChild(J.name,J.node),B++}}else{let A,B,J,le;if(E=l.withIndex(this.index_),E=E.updatePriority(qr.EMPTY_NODE),this.reverse_){le=E.getReverseIterator(this.index_),A=this.rangedFilter_.getEndPost(),B=this.rangedFilter_.getStartPost();const Dt=this.index_.getCompare();J=(Yt,Sn)=>Dt(Sn,Yt)}else le=E.getIterator(this.index_),A=this.rangedFilter_.getStartPost(),B=this.rangedFilter_.getEndPost(),J=this.index_.getCompare();let De=0,pt=!1;for(;le.hasNext();){const Dt=le.getNext();!pt&&J(A,Dt)<=0&&(pt=!0),pt&&De<this.limit_&&J(Dt,B)<=0?De++:E=E.updateImmediateChild(Dt.name,qr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,E,f)}updatePriority(a,l){return a}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(a,l,f,E,A){let B;if(this.reverse_){const Dt=this.index_.getCompare();B=(Yt,Sn)=>Dt(Sn,Yt)}else B=this.index_.getCompare();const J=a;(0,Q.hu)(J.numChildren()===this.limit_,"");const le=new $(l,f),De=this.reverse_?J.getFirstChild(this.index_):J.getLastChild(this.index_),pt=this.rangedFilter_.matches(le);if(J.hasChild(l)){const Dt=J.getImmediateChild(l);let Yt=E.getChildAfterChild(this.index_,De,this.reverse_);for(;null!=Yt&&(Yt.name===l||J.hasChild(Yt.name));)Yt=E.getChildAfterChild(this.index_,Yt,this.reverse_);const Sn=null==Yt?1:B(Yt,le);if(pt&&!f.isEmpty()&&Sn>=0)return null!=A&&A.trackChildChange(ll(l,f,Dt)),J.updateImmediateChild(l,f);{null!=A&&A.trackChildChange(rc(l,Dt));const Kr=J.updateImmediateChild(l,qr.EMPTY_NODE);return null!=Yt&&this.rangedFilter_.matches(Yt)?(null!=A&&A.trackChildChange(la(Yt.name,Yt.node)),Kr.updateImmediateChild(Yt.name,Yt.node)):Kr}}return f.isEmpty()?a:pt&&B(De,le)>=0?(null!=A&&(A.trackChildChange(rc(De.name,De.node)),A.trackChildChange(la(l,f))),J.updateImmediateChild(l,f).updateImmediateChild(De.name,qr.EMPTY_NODE)):a}}class Mh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Li}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:va}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ra}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Li}copy(){const a=new Mh;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a}}function au(c,a,l){const f=c.copy();return f.startSet_=!0,void 0===a&&(a=null),f.indexStartValue_=a,null!=l?(f.startNameSet_=!0,f.indexStartName_=l):(f.startNameSet_=!1,f.indexStartName_=""),f}function Od(c,a,l){const f=c.copy();return f.endSet_=!0,void 0===a&&(a=null),f.indexEndValue_=a,void 0!==l?(f.endNameSet_=!0,f.indexEndName_=l):(f.endNameSet_=!1,f.indexEndName_=""),f}function Pd(c,a){const l=c.copy();return l.index_=a,l}function xl(c){const a={};if(c.isDefault())return a;let l;return c.index_===Li?l="$priority":c.index_===Rd?l="$value":c.index_===ft?l="$key":((0,Q.hu)(c.index_ instanceof Ah,"Unrecognized index type!"),l=c.index_.toString()),a.orderBy=(0,Q.Pz)(l),c.startSet_&&(a.startAt=(0,Q.Pz)(c.indexStartValue_),c.startNameSet_&&(a.startAt+=","+(0,Q.Pz)(c.indexStartName_))),c.endSet_&&(a.endAt=(0,Q.Pz)(c.indexEndValue_),c.endNameSet_&&(a.endAt+=","+(0,Q.Pz)(c.indexEndName_))),c.limitSet_&&(c.isViewFromLeft()?a.limitToFirst=c.limit_:a.limitToLast=c.limit_),a}function Nd(c){const a={};if(c.startSet_&&(a.sp=c.indexStartValue_,c.startNameSet_&&(a.sn=c.indexStartName_)),c.endSet_&&(a.ep=c.indexEndValue_,c.endNameSet_&&(a.en=c.indexEndName_)),c.limitSet_){a.l=c.limit_;let l=c.viewFrom_;""===l&&(l=c.isViewFromLeft()?"l":"r"),a.vf=l}return c.index_!==Li&&(a.i=c.index_.toString()),a}class Jc extends xt{constructor(a,l,f,E){super(),this.repoInfo_=a,this.onDataUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=E,this.log_=No("p:rest:"),this.listens_={}}reportStats(a){throw new Error("Method not implemented.")}static getListenId_(a,l){return void 0!==l?"tag$"+l:((0,Q.hu)(a._queryParams.isDefault(),"should have a tag if it's not a default query."),a._path.toString())}listen(a,l,f,E){const A=a._path.toString();this.log_("Listen called for "+A+" "+a._queryIdentifier);const B=Jc.getListenId_(a,f),J={};this.listens_[B]=J;const le=xl(a._queryParams);this.restRequest_(A+".json",le,(De,pt)=>{let Dt=pt;if(404===De&&(Dt=null,De=null),null===De&&this.onDataUpdate_(A,Dt,!1,f),(0,Q.DV)(this.listens_,B)===J){let Yt;Yt=De?401===De?"permission_denied":"rest_error:"+De:"ok",E(Yt,null)}})}unlisten(a,l){const f=Jc.getListenId_(a,l);delete this.listens_[f]}get(a){const l=xl(a._queryParams),f=a._path.toString(),E=new Q.BH;return this.restRequest_(f+".json",l,(A,B)=>{let J=B;404===A&&(J=null,A=null),null===A?(this.onDataUpdate_(f,J,!1,null),E.resolve(J)):E.reject(new Error(J))}),E.promise}refreshAuthToken(a){}restRequest_(a,l={},f){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([E,A])=>{E&&E.accessToken&&(l.auth=E.accessToken),A&&A.token&&(l.ac=A.token);const B=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+a+"?ns="+this.repoInfo_.namespace+(0,Q.xO)(l);this.log_("Sending REST request for "+B);const J=new XMLHttpRequest;J.onreadystatechange=()=>{if(f&&4===J.readyState){this.log_("REST Response for "+B+" received. status:",J.status,"response:",J.responseText);let le=null;if(J.status>=200&&J.status<300){try{le=(0,Q.cI)(J.responseText)}catch{Ki("Failed to parse JSON response for "+B+": "+J.responseText)}f(null,le)}else 401!==J.status&&404!==J.status&&Ki("Got unsuccessful REST response for "+B+" Status: "+J.status),f(J.status);f=null}},J.open("GET",B,!0),J.send()})}}class sc{constructor(){this.rootNode_=qr.EMPTY_NODE}getNode(a){return this.rootNode_.getChild(a)}updateSnapshot(a,l){this.rootNode_=this.rootNode_.updateChild(a,l)}}function Mu(){return{value:null,children:new Map}}function Ul(c,a,l){if(ir(a))c.value=l,c.children.clear();else if(null!==c.value)c.value=c.value.updateChild(a,l);else{const f=oe(a);c.children.has(f)||c.children.set(f,Mu()),Ul(c.children.get(f),a=Je(a),l)}}function xu(c,a){if(ir(a))return c.value=null,c.children.clear(),!0;if(null!==c.value){if(c.value.isLeafNode())return!1;{const l=c.value;return c.value=null,l.forEachChild(Li,(f,E)=>{Ul(c,new R(f),E)}),xu(c,a)}}if(c.children.size>0){const l=oe(a);return a=Je(a),c.children.has(l)&&xu(c.children.get(l),a)&&c.children.delete(l),0===c.children.size}return!0}function kd(c,a,l){null!==c.value?l(a,c.value):function jl(c,a){c.children.forEach((l,f)=>{a(f,l)})}(c,(f,E)=>{kd(E,new R(a.toString()+"/"+f),l)})}class Op{constructor(a){this.collection_=a,this.last_=null}get(){const a=this.collection_.get(),l=Object.assign({},a);return this.last_&&ts(this.last_,(f,E)=>{l[f]=l[f]-E}),this.last_=a,l}}class lu{constructor(a,l){this.server_=l,this.statsToReport_={},this.statsListener_=new Op(a);const f=1e4+2e4*Math.random();zt(this.reportStats_.bind(this),Math.floor(f))}reportStats_(){const a=this.statsListener_.get(),l={};let f=!1;ts(a,(E,A)=>{A>0&&(0,Q.r3)(this.statsToReport_,E)&&(l[E]=A,f=!0)}),f&&this.server_.reportStats(l),zt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qs=(()=>((Qs=Qs||{})[Qs.OVERWRITE=0]="OVERWRITE",Qs[Qs.MERGE=1]="MERGE",Qs[Qs.ACK_USER_WRITE=2]="ACK_USER_WRITE",Qs[Qs.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Qs))();function Ra(c){return{fromUser:!1,fromServer:!0,queryId:c,tagged:!0}}class Ru{constructor(a,l,f){this.path=a,this.affectedTree=l,this.revert=f,this.type=Qs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(a){if(ir(this.path)){if(null!=this.affectedTree.value)return(0,Q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new R(a));return new Ru(z(),l,this.revert)}}return(0,Q.hu)(oe(this.path)===a,"operationForChild called for unrelated child."),new Ru(Je(this.path),this.affectedTree,this.revert)}}class ed{constructor(a,l){this.source=a,this.path=l,this.type=Qs.LISTEN_COMPLETE}operationForChild(a){return ir(this.path)?new ed(this.source,z()):new ed(this.source,Je(this.path))}}class Ka{constructor(a,l,f){this.source=a,this.path=l,this.snap=f,this.type=Qs.OVERWRITE}operationForChild(a){return ir(this.path)?new Ka(this.source,z(),this.snap.getImmediateChild(a)):new Ka(this.source,Je(this.path),this.snap)}}class uu{constructor(a,l,f){this.source=a,this.path=l,this.children=f,this.type=Qs.MERGE}operationForChild(a){if(ir(this.path)){const l=this.children.subtree(new R(a));return l.isEmpty()?null:l.value?new Ka(this.source,z(),l.value):new uu(this.source,z(),l)}return(0,Q.hu)(oe(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new uu(this.source,Je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Wl{constructor(a,l,f){this.node_=a,this.fullyInitialized_=l,this.filtered_=f}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(a){if(ir(a))return this.isFullyInitialized()&&!this.filtered_;const l=oe(a);return this.isCompleteForChild(l)}isCompleteForChild(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)}getNode(){return this.node_}}class ks{constructor(a){this.query_=a,this.index_=this.query_._queryParams.getIndex()}}function ul(c,a,l,f,E,A){const B=f.filter(J=>J.type===l);B.sort((J,le)=>function Cf(c,a,l){if(null==a.childName||null==l.childName)throw(0,Q.g5)("Should only compare child_ events.");const f=new $(a.childName,a.snapshotNode),E=new $(l.childName,l.snapshotNode);return c.index_.compare(f,E)}(c,J,le)),B.forEach(J=>{const le=function td(c,a,l){return"value"===a.type||"child_removed"===a.type||(a.prevName=l.getPredecessorChildName(a.childName,a.snapshotNode,c.index_)),a}(c,J,A);E.forEach(De=>{De.respondsTo(J.type)&&a.push(De.createEvent(le,c.query_))})})}function cu(c,a){return{eventCache:c,serverCache:a}}function Ou(c,a,l,f){return cu(new Wl(a,l,f),c.serverCache)}function Tf(c,a,l,f){return cu(c.eventCache,new Wl(a,l,f))}function Rl(c){return c.eventCache.isFullyInitialized()?c.eventCache.getNode():null}function Ea(c){return c.serverCache.isFullyInitialized()?c.serverCache.getNode():null}let Ld;class Zi{constructor(a,l=(()=>(Ld||(Ld=new Bn(Ll)),Ld))()){this.value=a,this.children=l}static fromObject(a){let l=new Zi(null);return ts(a,(f,E)=>{l=l.set(new R(f),E)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(a,l){if(null!=this.value&&l(this.value))return{path:z(),value:this.value};if(ir(a))return null;{const f=oe(a),E=this.children.get(f);if(null!==E){const A=E.findRootMostMatchingPathAndValue(Je(a),l);return null!=A?{path:tr(new R(f),A.path),value:A.value}:null}return null}}findRootMostValueAndPath(a){return this.findRootMostMatchingPathAndValue(a,()=>!0)}subtree(a){if(ir(a))return this;{const l=oe(a),f=this.children.get(l);return null!==f?f.subtree(Je(a)):new Zi(null)}}set(a,l){if(ir(a))return new Zi(l,this.children);{const f=oe(a),A=(this.children.get(f)||new Zi(null)).set(Je(a),l),B=this.children.insert(f,A);return new Zi(this.value,B)}}remove(a){if(ir(a))return this.children.isEmpty()?new Zi(null):new Zi(null,this.children);{const l=oe(a),f=this.children.get(l);if(f){const E=f.remove(Je(a));let A;return A=E.isEmpty()?this.children.remove(l):this.children.insert(l,E),null===this.value&&A.isEmpty()?new Zi(null):new Zi(this.value,A)}return this}}get(a){if(ir(a))return this.value;{const l=oe(a),f=this.children.get(l);return f?f.get(Je(a)):null}}setTree(a,l){if(ir(a))return l;{const f=oe(a),A=(this.children.get(f)||new Zi(null)).setTree(Je(a),l);let B;return B=A.isEmpty()?this.children.remove(f):this.children.insert(f,A),new Zi(this.value,B)}}fold(a){return this.fold_(z(),a)}fold_(a,l){const f={};return this.children.inorderTraversal((E,A)=>{f[E]=A.fold_(tr(a,E),l)}),l(a,this.value,f)}findOnPath(a,l){return this.findOnPath_(a,z(),l)}findOnPath_(a,l,f){const E=!!this.value&&f(l,this.value);if(E)return E;if(ir(a))return null;{const A=oe(a),B=this.children.get(A);return B?B.findOnPath_(Je(a),tr(l,A),f):null}}foreachOnPath(a,l){return this.foreachOnPath_(a,z(),l)}foreachOnPath_(a,l,f){if(ir(a))return this;{this.value&&f(l,this.value);const E=oe(a),A=this.children.get(E);return A?A.foreachOnPath_(Je(a),tr(l,E),f):new Zi(null)}}foreach(a){this.foreach_(z(),a)}foreach_(a,l){this.children.inorderTraversal((f,E)=>{E.foreach_(tr(a,f),l)}),this.value&&l(a,this.value)}foreachChild(a){this.children.inorderTraversal((l,f)=>{f.value&&a(l,f.value)})}}class Zo{constructor(a){this.writeTree_=a}static empty(){return new Zo(new Zi(null))}}function lc(c,a,l){if(ir(a))return new Zo(new Zi(l));{const f=c.writeTree_.findRootMostValueAndPath(a);if(null!=f){const E=f.path;let A=f.value;const B=kr(E,a);return A=A.updateChild(B,l),new Zo(c.writeTree_.set(E,A))}{const E=new Zi(l),A=c.writeTree_.setTree(a,E);return new Zo(A)}}}function nd(c,a,l){let f=c;return ts(l,(E,A)=>{f=lc(f,tr(a,E),A)}),f}function lo(c,a){if(ir(a))return Zo.empty();{const l=c.writeTree_.setTree(a,new Zi(null));return new Zo(l)}}function di(c,a){return null!=du(c,a)}function du(c,a){const l=c.writeTree_.findRootMostValueAndPath(a);return null!=l?c.writeTree_.get(l.path).getChild(kr(l.path,a)):null}function Bd(c){const a=[],l=c.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(Li,(f,E)=>{a.push(new $(f,E))}):c.writeTree_.children.inorderTraversal((f,E)=>{null!=E.value&&a.push(new $(f,E.value))}),a}function Xo(c,a){if(ir(a))return c;{const l=du(c,a);return new Zo(null!=l?new Zi(l):c.writeTree_.subtree(a))}}function $d(c){return c.writeTree_.isEmpty()}function zs(c,a){return Pu(z(),c.writeTree_,a)}function Pu(c,a,l){if(null!=a.value)return l.updateChild(c,a.value);{let f=null;return a.children.inorderTraversal((E,A)=>{".priority"===E?((0,Q.hu)(null!==A.value,"Priority writes must always be leaf nodes"),f=A.value):l=Pu(tr(c,E),A,l)}),!l.getChild(c).isEmpty()&&null!==f&&(l=l.updateChild(tr(c,".priority"),f)),l}}function Kl(c,a){return Eo(a,c)}function cc(c,a){if(c.snap)return Fr(c.path,a);for(const l in c.children)if(c.children.hasOwnProperty(l)&&Fr(tr(c.path,l),a))return!0;return!1}function Tr(c){return c.visible}function Rh(c,a,l){let f=Zo.empty();for(let E=0;E<c.length;++E){const A=c[E];if(a(A)){const B=A.path;let J;if(A.snap)Fr(l,B)?(J=kr(l,B),f=lc(f,J,A.snap)):Fr(B,l)&&(J=kr(B,l),f=lc(f,z(),A.snap.getChild(J)));else{if(!A.children)throw(0,Q.g5)("WriteRecord should have .snap or .children");if(Fr(l,B))J=kr(l,B),f=nd(f,J,A.children);else if(Fr(B,l))if(J=kr(B,l),ir(J))f=nd(f,z(),A.children);else{const le=(0,Q.DV)(A.children,oe(J));if(le){const De=le.getChild(Je(J));f=lc(f,z(),De)}}}}}return f}function rd(c,a,l,f,E){if(f||E){const A=Xo(c.visibleWrites,a);return!E&&$d(A)?l:E||null!=l||di(A,z())?zs(Rh(c.allWrites,function(De){return(De.visible||E)&&(!f||!~f.indexOf(De.writeId))&&(Fr(De.path,a)||Fr(a,De.path))},a),l||qr.EMPTY_NODE):null}{const A=du(c.visibleWrites,a);if(null!=A)return A;{const B=Xo(c.visibleWrites,a);return $d(B)?l:null!=l||di(B,z())?zs(B,l||qr.EMPTY_NODE):null}}}function Ao(c,a,l,f){return rd(c.writeTree,c.treePath,a,l,f)}function fc(c,a){return function Ya(c,a,l){let f=qr.EMPTY_NODE;const E=du(c.visibleWrites,a);if(E)return E.isLeafNode()||E.forEachChild(Li,(A,B)=>{f=f.updateImmediateChild(A,B)}),f;if(l){const A=Xo(c.visibleWrites,a);return l.forEachChild(Li,(B,J)=>{const le=zs(Xo(A,new R(B)),J);f=f.updateImmediateChild(B,le)}),Bd(A).forEach(B=>{f=f.updateImmediateChild(B.name,B.node)}),f}return Bd(Xo(c.visibleWrites,a)).forEach(B=>{f=f.updateImmediateChild(B.name,B.node)}),f}(c.writeTree,c.treePath,a)}function id(c,a,l,f){return function Nu(c,a,l,f,E){(0,Q.hu)(f||E,"Either existingEventSnap or existingServerSnap must exist");const A=tr(a,l);if(di(c.visibleWrites,A))return null;{const B=Xo(c.visibleWrites,A);return $d(B)?E.getChild(l):zs(B,E.getChild(l))}}(c.writeTree,c.treePath,a,l,f)}function Bo(c,a){return function Sf(c,a){return du(c.visibleWrites,a)}(c.writeTree,tr(c.treePath,a))}function fu(c,a,l){return function hc(c,a,l,f){const E=tr(a,l),A=du(c.visibleWrites,E);return null!=A?A:f.isCompleteForChild(l)?zs(Xo(c.visibleWrites,E),f.getNode().getImmediateChild(l)):null}(c.writeTree,c.treePath,a,l)}function Yl(c,a){return Eo(tr(c.treePath,a),c.writeTree)}function Eo(c,a){return{treePath:c,writeTree:a}}class sd{constructor(){this.changeMap=new Map}trackChildChange(a){const l=a.type,f=a.childName;(0,Q.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,Q.hu)(".priority"!==f,"Only non-priority child changes can be tracked.");const E=this.changeMap.get(f);if(E){const A=E.type;if("child_added"===l&&"child_removed"===A)this.changeMap.set(f,ll(f,a.snapshotNode,E.snapshotNode));else if("child_removed"===l&&"child_added"===A)this.changeMap.delete(f);else if("child_removed"===l&&"child_changed"===A)this.changeMap.set(f,rc(f,E.oldSnap));else if("child_changed"===l&&"child_added"===A)this.changeMap.set(f,la(f,a.snapshotNode));else{if("child_changed"!==l||"child_changed"!==A)throw(0,Q.g5)("Illegal combination of changes: "+a+" occurred after "+E);this.changeMap.set(f,ll(f,a.snapshotNode,E.oldSnap))}}else this.changeMap.set(f,a)}getChanges(){return Array.from(this.changeMap.values())}}const od=new class Js{getCompleteChild(a){return null}getChildAfterChild(a,l,f){return null}};class Vd{constructor(a,l,f=null){this.writes_=a,this.viewCache_=l,this.optCompleteServerCache_=f}getCompleteChild(a){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(a))return l.getNode().getImmediateChild(a);{const f=null!=this.optCompleteServerCache_?new Wl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fu(this.writes_,a,f)}}getChildAfterChild(a,l,f){const E=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ea(this.viewCache_),A=function cl(c,a,l,f,E,A){return function Af(c,a,l,f,E,A,B){let J;const le=Xo(c.visibleWrites,a),De=du(le,z());if(null!=De)J=De;else{if(null==l)return[];J=zs(le,l)}if(J=J.withIndex(B),J.isEmpty()||J.isLeafNode())return[];{const pt=[],Dt=B.getCompare(),Yt=A?J.getReverseIteratorFrom(f,B):J.getIteratorFrom(f,B);let Sn=Yt.getNext();for(;Sn&&pt.length<E;)0!==Dt(Sn,f)&&pt.push(Sn),Sn=Yt.getNext();return pt}}(c.writeTree,c.treePath,a,l,f,E,A)}(this.writes_,E,l,1,f,a);return 0===A.length?null:A[0]}}function _(c,a,l,f,E,A){const B=a.eventCache;if(null!=Bo(f,l))return a;{let J,le;if(ir(l))if((0,Q.hu)(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){const De=Ea(a),Dt=fc(f,De instanceof qr?De:qr.EMPTY_NODE);J=c.filter.updateFullNode(a.eventCache.getNode(),Dt,A)}else{const De=Ao(f,Ea(a));J=c.filter.updateFullNode(a.eventCache.getNode(),De,A)}else{const De=oe(l);if(".priority"===De){(0,Q.hu)(1===ce(l),"Can't have a priority with additional path components");const pt=B.getNode();le=a.serverCache.getNode();const Dt=id(f,l,pt,le);J=null!=Dt?c.filter.updatePriority(pt,Dt):B.getNode()}else{const pt=Je(l);let Dt;if(B.isCompleteForChild(De)){le=a.serverCache.getNode();const Yt=id(f,l,B.getNode(),le);Dt=null!=Yt?B.getNode().getImmediateChild(De).updateChild(pt,Yt):B.getNode().getImmediateChild(De)}else Dt=fu(f,De,a.serverCache);J=null!=Dt?c.filter.updateChild(B.getNode(),De,Dt,pt,E,A):B.getNode()}}return Ou(a,J,B.isFullyInitialized()||ir(l),c.filter.filtersNodes())}}function M(c,a,l,f,E,A,B,J){const le=a.serverCache;let De;const pt=B?c.filter:c.filter.getIndexedFilter();if(ir(l))De=pt.updateFullNode(le.getNode(),f,null);else if(pt.filtersNodes()&&!le.isFiltered()){const Sn=le.getNode().updateChild(l,f);De=pt.updateFullNode(le.getNode(),Sn,null)}else{const Sn=oe(l);if(!le.isCompleteForPath(l)&&ce(l)>1)return a;const zn=Je(l),oi=le.getNode().getImmediateChild(Sn).updateChild(zn,f);De=".priority"===Sn?pt.updatePriority(le.getNode(),oi):pt.updateChild(le.getNode(),Sn,oi,zn,od,null)}const Dt=Tf(a,De,le.isFullyInitialized()||ir(l),pt.filtersNodes());return _(c,Dt,l,E,new Vd(E,Dt,A),J)}function X(c,a,l,f,E,A,B){const J=a.eventCache;let le,De;const pt=new Vd(E,a,A);if(ir(l))De=c.filter.updateFullNode(a.eventCache.getNode(),f,B),le=Ou(a,De,!0,c.filter.filtersNodes());else{const Dt=oe(l);if(".priority"===Dt)De=c.filter.updatePriority(a.eventCache.getNode(),f),le=Ou(a,De,J.isFullyInitialized(),J.isFiltered());else{const Yt=Je(l),Sn=J.getNode().getImmediateChild(Dt);let zn;if(ir(Yt))zn=f;else{const Kr=pt.getCompleteChild(Dt);zn=null!=Kr?".priority"===Kt(Yt)&&Kr.getChild(Vn(Yt)).isEmpty()?Kr:Kr.updateChild(Yt,f):qr.EMPTY_NODE}le=Sn.equals(zn)?a:Ou(a,c.filter.updateChild(J.getNode(),Dt,zn,Yt,pt,B),J.isFullyInitialized(),c.filter.filtersNodes())}}return le}function he(c,a){return c.eventCache.isCompleteForChild(a)}function Lt(c,a,l){return l.foreach((f,E)=>{a=a.updateChild(f,E)}),a}function yn(c,a,l,f,E,A,B,J){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;let De,le=a;De=ir(l)?f:new Zi(null).setTree(l,f);const pt=a.serverCache.getNode();return De.children.inorderTraversal((Dt,Yt)=>{if(pt.hasChild(Dt)){const zn=Lt(0,a.serverCache.getNode().getImmediateChild(Dt),Yt);le=M(c,le,new R(Dt),zn,E,A,B,J)}}),De.children.inorderTraversal((Dt,Yt)=>{const Sn=!a.serverCache.isCompleteForChild(Dt)&&void 0===Yt.value;if(!pt.hasChild(Dt)&&!Sn){const Kr=Lt(0,a.serverCache.getNode().getImmediateChild(Dt),Yt);le=M(c,le,new R(Dt),Kr,E,A,B,J)}}),le}class Ws{constructor(a,l){this.query_=a,this.eventRegistrations_=[];const f=this.query_._queryParams,E=new Ma(f.getIndex()),A=function Lo(c){return c.loadsAllData()?new Ma(c.getIndex()):c.hasLimit()?new Au(c):new Zc(c)}(f);this.processor_=function pc(c){return{filter:c}}(A);const B=l.serverCache,J=l.eventCache,le=E.updateFullNode(qr.EMPTY_NODE,B.getNode(),null),De=A.updateFullNode(qr.EMPTY_NODE,J.getNode(),null),pt=new Wl(le,B.isFullyInitialized(),E.filtersNodes()),Dt=new Wl(De,J.isFullyInitialized(),A.filtersNodes());this.viewCache_=cu(Dt,pt),this.eventGenerator_=new ks(this.query_)}get query(){return this.query_}}function gc(c,a){const l=Ea(c.viewCache_);return l&&(c.query._queryParams.loadsAllData()||!ir(a)&&!l.getImmediateChild(oe(a)).isEmpty())?l.getChild(a):null}function ad(c){return 0===c.eventRegistrations_.length}function dl(c,a,l){const f=[];if(l){(0,Q.hu)(null==a,"A cancel should cancel all event registrations.");const E=c.query._path;c.eventRegistrations_.forEach(A=>{const B=A.createCancelEvent(l,E);B&&f.push(B)})}if(a){let E=[];for(let A=0;A<c.eventRegistrations_.length;++A){const B=c.eventRegistrations_[A];if(B.matches(a)){if(a.hasAnyCallback()){E=E.concat(c.eventRegistrations_.slice(A+1));break}}else E.push(B)}c.eventRegistrations_=E}else c.eventRegistrations_=[];return f}function Zl(c,a,l,f){a.type===Qs.MERGE&&null!==a.source.queryId&&((0,Q.hu)(Ea(c.viewCache_),"We should always have a full cache before handling merges"),(0,Q.hu)(Rl(c.viewCache_),"Missing event cache, even though we have a server cache"));const E=c.viewCache_,A=function D(c,a,l,f,E){const A=new sd;let B,J;if(l.type===Qs.OVERWRITE){const De=l;De.source.fromUser?B=X(c,a,De.path,De.snap,f,E,A):((0,Q.hu)(De.source.fromServer,"Unknown source."),J=De.source.tagged||a.serverCache.isFiltered()&&!ir(De.path),B=M(c,a,De.path,De.snap,f,E,J,A))}else if(l.type===Qs.MERGE){const De=l;De.source.fromUser?B=function ct(c,a,l,f,E,A,B){let J=a;return f.foreach((le,De)=>{const pt=tr(l,le);he(a,oe(pt))&&(J=X(c,J,pt,De,E,A,B))}),f.foreach((le,De)=>{const pt=tr(l,le);he(a,oe(pt))||(J=X(c,J,pt,De,E,A,B))}),J}(c,a,De.path,De.children,f,E,A):((0,Q.hu)(De.source.fromServer,"Unknown source."),J=De.source.tagged||a.serverCache.isFiltered(),B=yn(c,a,De.path,De.children,f,E,J,A))}else if(l.type===Qs.ACK_USER_WRITE){const De=l;B=De.revert?function ar(c,a,l,f,E,A){let B;if(null!=Bo(f,l))return a;{const J=new Vd(f,a,E),le=a.eventCache.getNode();let De;if(ir(l)||".priority"===oe(l)){let pt;if(a.serverCache.isFullyInitialized())pt=Ao(f,Ea(a));else{const Dt=a.serverCache.getNode();(0,Q.hu)(Dt instanceof qr,"serverChildren would be complete if leaf node"),pt=fc(f,Dt)}De=c.filter.updateFullNode(le,pt,A)}else{const pt=oe(l);let Dt=fu(f,pt,a.serverCache);null==Dt&&a.serverCache.isCompleteForChild(pt)&&(Dt=le.getImmediateChild(pt)),De=null!=Dt?c.filter.updateChild(le,pt,Dt,Je(l),J,A):a.eventCache.getNode().hasChild(pt)?c.filter.updateChild(le,pt,qr.EMPTY_NODE,Je(l),J,A):le,De.isEmpty()&&a.serverCache.isFullyInitialized()&&(B=Ao(f,Ea(a)),B.isLeafNode()&&(De=c.filter.updateFullNode(De,B,A)))}return B=a.serverCache.isFullyInitialized()||null!=Bo(f,z()),Ou(a,De,B,c.filter.filtersNodes())}}(c,a,De.path,f,E,A):function Hn(c,a,l,f,E,A,B){if(null!=Bo(E,l))return a;const J=a.serverCache.isFiltered(),le=a.serverCache;if(null!=f.value){if(ir(l)&&le.isFullyInitialized()||le.isCompleteForPath(l))return M(c,a,l,le.getNode().getChild(l),E,A,J,B);if(ir(l)){let De=new Zi(null);return le.getNode().forEachChild(ft,(pt,Dt)=>{De=De.set(new R(pt),Dt)}),yn(c,a,l,De,E,A,J,B)}return a}{let De=new Zi(null);return f.foreach((pt,Dt)=>{const Yt=tr(l,pt);le.isCompleteForPath(Yt)&&(De=De.set(pt,le.getNode().getChild(Yt)))}),yn(c,a,l,De,E,A,J,B)}}(c,a,De.path,De.affectedTree,f,E,A)}else{if(l.type!==Qs.LISTEN_COMPLETE)throw(0,Q.g5)("Unknown operation type: "+l.type);B=function br(c,a,l,f,E){const A=a.serverCache;return _(c,Tf(a,A.getNode(),A.isFullyInitialized()||ir(l),A.isFiltered()),l,f,od,E)}(c,a,l.path,f,A)}const le=A.getChanges();return function p(c,a,l){const f=a.eventCache;if(f.isFullyInitialized()){const E=f.getNode().isLeafNode()||f.getNode().isEmpty(),A=Rl(c);(l.length>0||!c.eventCache.isFullyInitialized()||E&&!f.getNode().equals(A)||!f.getNode().getPriority().equals(A.getPriority()))&&l.push(ao(Rl(a)))}}(a,B,le),{viewCache:B,changes:le}}(c.processor_,E,a,l,f);return function Ol(c,a){(0,Q.hu)(a.eventCache.getNode().isIndexed(c.filter.getIndex()),"Event snap not indexed"),(0,Q.hu)(a.serverCache.getNode().isIndexed(c.filter.getIndex()),"Server snap not indexed")}(c.processor_,A.viewCache),(0,Q.hu)(A.viewCache.serverCache.isFullyInitialized()||!E.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),c.viewCache_=A.viewCache,Ph(c,A.changes,A.viewCache.eventCache.getNode(),null)}function Ph(c,a,l,f){return function Fd(c,a,l,f){const E=[],A=[];return a.forEach(B=>{"child_changed"===B.type&&c.index_.indexedValueChanged(B.oldSnap,B.snapshotNode)&&A.push(function ic(c,a){return{type:"child_moved",snapshotNode:a,childName:c}}(B.childName,B.snapshotNode))}),ul(c,E,"child_removed",a,f,l),ul(c,E,"child_added",a,f,l),ul(c,E,"child_moved",A,f,l),ul(c,E,"child_changed",a,f,l),ul(c,E,"value",a,f,l),E}(c.eventGenerator_,a,l,f?[f]:c.eventRegistrations_)}let mc,Np;class jd{constructor(){this.views=new Map}}function hl(c,a,l,f){const E=a.source.queryId;if(null!==E){const A=c.views.get(E);return(0,Q.hu)(null!=A,"SyncTree gave us an op for an invalid query."),Zl(A,a,l,f)}{let A=[];for(const B of c.views.values())A=A.concat(Zl(B,a,l,f));return A}}function zd(c,a,l,f,E){const B=c.views.get(a._queryIdentifier);if(!B){let J=Ao(l,E?f:null),le=!1;J?le=!0:f instanceof qr?(J=fc(l,f),le=!1):(J=qr.EMPTY_NODE,le=!1);const De=cu(new Wl(J,le,!1),new Wl(f,E,!1));return new Ws(a,De)}return B}function Rf(c){const a=[];for(const l of c.views.values())l.query._queryParams.loadsAllData()||a.push(l);return a}function ku(c,a){let l=null;for(const f of c.views.values())l=l||gc(f,a);return l}function yc(c,a){return a._queryParams.loadsAllData()?Of(c):c.views.get(a._queryIdentifier)}function Pp(c,a){return null!=yc(c,a)}function Fu(c){return null!=Of(c)}function Of(c){for(const a of c.views.values())if(a.query._queryParams.loadsAllData())return a;return null}let zg=1;class kp{constructor(a){this.listenProvider_=a,this.syncPointTree_=new Zi(null),this.pendingWriteTree_=function Oh(){return{visibleWrites:Zo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Nf(c,a,l,f,E){return function ua(c,a,l,f,E){(0,Q.hu)(f>c.lastWriteId,"Stacking an older write on top of newer ones"),void 0===E&&(E=!0),c.allWrites.push({path:a,snap:l,writeId:f,visible:E}),E&&(c.visibleWrites=lc(c.visibleWrites,a,l)),c.lastWriteId=f}(c.pendingWriteTree_,a,l,f,E),E?ld(c,new Ka({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,l)):[]}function Lu(c,a,l=!1){const f=function hu(c,a){for(let l=0;l<c.allWrites.length;l++){const f=c.allWrites[l];if(f.writeId===a)return f}return null}(c.pendingWriteTree_,a);if(function uc(c,a){const l=c.allWrites.findIndex(J=>J.writeId===a);(0,Q.hu)(l>=0,"removeWrite called with nonexistent writeId.");const f=c.allWrites[l];c.allWrites.splice(l,1);let E=f.visible,A=!1,B=c.allWrites.length-1;for(;E&&B>=0;){const J=c.allWrites[B];J.visible&&(B>=l&&cc(J,f.path)?E=!1:Fr(f.path,J.path)&&(A=!0)),B--}return!!E&&(A?(function dc(c){c.visibleWrites=Rh(c.allWrites,Tr,z()),c.lastWriteId=c.allWrites.length>0?c.allWrites[c.allWrites.length-1].writeId:-1}(c),!0):(f.snap?c.visibleWrites=lo(c.visibleWrites,f.path):ts(f.children,le=>{c.visibleWrites=lo(c.visibleWrites,tr(f.path,le))}),!0))}(c.pendingWriteTree_,a)){let A=new Zi(null);return null!=f.snap?A=A.set(z(),!0):ts(f.children,B=>{A=A.set(new R(B),!0)}),ld(c,new Ru(f.path,A,l))}return[]}function vc(c,a,l){return ld(c,new Ka({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,l))}function _c(c,a,l,f){const E=a._path,A=c.syncPointTree_.get(E);let B=[];if(A&&("default"===a._queryIdentifier||Pp(A,a))){const J=function Gg(c,a,l,f){const E=a._queryIdentifier,A=[];let B=[];const J=Fu(c);if("default"===E)for(const[le,De]of c.views.entries())B=B.concat(dl(De,l,f)),ad(De)&&(c.views.delete(le),De.query._queryParams.loadsAllData()||A.push(De.query));else{const le=c.views.get(E);le&&(B=B.concat(dl(le,l,f)),ad(le)&&(c.views.delete(E),le.query._queryParams.loadsAllData()||A.push(le.query)))}return J&&!Fu(c)&&A.push(new(function Hd(){return(0,Q.hu)(mc,"Reference.ts has not been loaded"),mc}())(a._repo,a._path)),{removed:A,events:B}}(A,a,l,f);(function Gd(c){return 0===c.views.size})(A)&&(c.syncPointTree_=c.syncPointTree_.remove(E));const le=J.removed;B=J.events;const De=-1!==le.findIndex(Dt=>Dt._queryParams.loadsAllData()),pt=c.syncPointTree_.findOnPath(E,(Dt,Yt)=>Fu(Yt));if(De&&!pt){const Dt=c.syncPointTree_.subtree(E);if(!Dt.isEmpty()){const Yt=function $p(c){return c.fold((a,l,f)=>{if(l&&Fu(l))return[Of(l)];{let E=[];return l&&(E=Rf(l)),ts(f,(A,B)=>{E=E.concat(B)}),E}})}(Dt);for(let Sn=0;Sn<Yt.length;++Sn){const zn=Yt[Sn],Kr=zn.query,oi=Ic(c,zn);c.listenProvider_.startListening($u(Kr),fl(c,Kr),oi.hashFn,oi.onComplete)}}}!pt&&le.length>0&&!f&&(De?c.listenProvider_.stopListening($u(a),null):le.forEach(Dt=>{const Yt=c.queryToTagMap.get(Pa(Dt));c.listenProvider_.stopListening($u(Dt),Yt)})),function Yg(c,a){for(let l=0;l<a.length;++l){const f=a[l];if(!f._queryParams.loadsAllData()){const E=Pa(f),A=c.queryToTagMap.get(E);c.queryToTagMap.delete(E),c.tagToQueryMap.delete(A)}}}(c,le)}return B}function Kd(c,a,l,f){const E=Bu(c,f);if(null!=E){const A=ud(E),B=A.path,J=A.queryId,le=kr(B,a);return Bp(c,B,new Ka(Ra(J),le,l))}return[]}function Ff(c,a){const l=c._path;let f=null,E=!1;a.syncPointTree_.foreachOnPath(l,(De,pt)=>{const Dt=kr(De,l);f=f||ku(pt,Dt),E=E||Fu(pt)});let B,A=a.syncPointTree_.get(l);A?(E=E||Fu(A),f=f||ku(A,z())):(A=new jd,a.syncPointTree_=a.syncPointTree_.set(l,A)),null!=f?B=!0:(B=!1,f=qr.EMPTY_NODE,a.syncPointTree_.subtree(l).foreachChild((pt,Dt)=>{const Yt=ku(Dt,z());Yt&&(f=f.updateImmediateChild(pt,Yt))}));const J=Pp(A,c);if(!J&&!c._queryParams.loadsAllData()){const De=Pa(c);(0,Q.hu)(!a.queryToTagMap.has(De),"View does not exist, but we have a tag");const pt=function qd(){return zg++}();a.queryToTagMap.set(De,pt),a.tagToQueryMap.set(pt,De)}return{syncPoint:A,writesCache:Kl(a.pendingWriteTree_,l),serverCache:f,serverCacheComplete:B,foundAncestorDefaultView:E,viewAlreadyExists:J}}function Nh(c,a,l){const{syncPoint:f,serverCache:E,writesCache:A,serverCacheComplete:B,viewAlreadyExists:J,foundAncestorDefaultView:le}=Ff(a,c);let De=function xf(c,a,l,f,E,A){const B=zd(c,a,f,E,A);return c.views.has(a._queryIdentifier)||c.views.set(a._queryIdentifier,B),function Ud(c,a){c.eventRegistrations_.push(a)}(B,l),function Mf(c,a){const l=c.viewCache_.eventCache,f=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Li,(A,B)=>{f.push(la(A,B))}),l.isFullyInitialized()&&f.push(ao(l.getNode())),Ph(c,f,l.getNode(),a)}(B,l)}(f,a,l,A,E,B);if(!J&&!le){const pt=yc(f,a);De=De.concat(function Bf(c,a,l){const f=a._path,E=fl(c,a),A=Ic(c,l),B=c.listenProvider_.startListening($u(a),E,A.hashFn,A.onComplete),J=c.syncPointTree_.subtree(f);if(E)(0,Q.hu)(!Fu(J.value),"If we're adding a query, it shouldn't be shadowed");else{const le=J.fold((De,pt,Dt)=>{if(!ir(De)&&pt&&Fu(pt))return[Of(pt).query];{let Yt=[];return pt&&(Yt=Yt.concat(Rf(pt).map(Sn=>Sn.query))),ts(Dt,(Sn,zn)=>{Yt=Yt.concat(zn)}),Yt}});for(let De=0;De<le.length;++De){const pt=le[De];c.listenProvider_.stopListening($u(pt),fl(c,pt))}}return B}(c,a,pt))}return De}function Yd(c,a,l){const E=c.pendingWriteTree_,A=c.syncPointTree_.findOnPath(a,(B,J)=>{const De=ku(J,kr(B,a));if(De)return De});return rd(E,a,A,l,!0)}function ld(c,a){return Lp(a,c.syncPointTree_,null,Kl(c.pendingWriteTree_,z()))}function Lp(c,a,l,f){if(ir(c.path))return Lf(c,a,l,f);{const E=a.get(z());null==l&&null!=E&&(l=ku(E,z()));let A=[];const B=oe(c.path),J=c.operationForChild(B),le=a.children.get(B);if(le&&J){const De=l?l.getImmediateChild(B):null,pt=Yl(f,B);A=A.concat(Lp(J,le,De,pt))}return E&&(A=A.concat(hl(E,c,f,l))),A}}function Lf(c,a,l,f){const E=a.get(z());null==l&&null!=E&&(l=ku(E,z()));let A=[];return a.children.inorderTraversal((B,J)=>{const le=l?l.getImmediateChild(B):null,De=Yl(f,B),pt=c.operationForChild(B);pt&&(A=A.concat(Lf(pt,J,le,De)))}),E&&(A=A.concat(hl(E,c,f,l))),A}function Ic(c,a){const l=a.query,f=fl(c,l);return{hashFn:()=>(function Oa(c){return c.viewCache_.serverCache.getNode()}(a)||qr.EMPTY_NODE).hash(),onComplete:E=>{if("ok"===E)return f?function kf(c,a,l){const f=Bu(c,l);if(f){const E=ud(f),A=E.path,B=E.queryId,J=kr(A,a);return Bp(c,A,new ed(Ra(B),J))}return[]}(c,l._path,f):function Wg(c,a){return ld(c,new ed({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a))}(c,l._path);{const A=function Yi(c,a){let l="Unknown Error";"too_big"===c?l="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===c?l="Client doesn't have permission to access the desired data.":"unavailable"===c&&(l="The service is unavailable");const f=new Error(c+" at "+a._path.toString()+": "+l);return f.code=c.toUpperCase(),f}(E,l);return _c(c,l,null,A)}}}}function fl(c,a){const l=Pa(a);return c.queryToTagMap.get(l)}function Pa(c){return c._path.toString()+"$"+c._queryIdentifier}function Bu(c,a){return c.tagToQueryMap.get(a)}function ud(c){const a=c.indexOf("$");return(0,Q.hu)(-1!==a&&a<c.length-1,"Bad queryKey."),{queryId:c.substr(a+1),path:new R(c.substr(0,a))}}function Bp(c,a,l){const f=c.syncPointTree_.get(a);return(0,Q.hu)(f,"Missing sync point for query tag that we're tracking"),hl(f,l,Kl(c.pendingWriteTree_,a),null)}function $u(c){return c._queryParams.loadsAllData()&&!c._queryParams.isDefault()?new(function Zm(){return(0,Q.hu)(Np,"Reference.ts has not been loaded"),Np}())(c._repo,c._path):c}class Zd{constructor(a){this.node_=a}getImmediateChild(a){const l=this.node_.getImmediateChild(a);return new Zd(l)}node(){return this.node_}}class kh{constructor(a,l){this.syncTree_=a,this.path_=l}getImmediateChild(a){const l=tr(this.path_,a);return new kh(this.syncTree_,l)}node(){return Yd(this.syncTree_,this.path_)}}const Fh=function(c){return(c=c||{}).timestamp=c.timestamp||(new Date).getTime(),c},cd=function(c,a,l){return c&&"object"==typeof c?((0,Q.hu)(".sv"in c,"Unexpected leaf node or priority contents"),"string"==typeof c[".sv"]?wc(c[".sv"],a,l):"object"==typeof c[".sv"]?Xm(c[".sv"],a):void(0,Q.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2))):c},wc=function(c,a,l){if("timestamp"===c)return l.timestamp;(0,Q.hu)(!1,"Unexpected server value: "+c)},Xm=function(c,a,l){c.hasOwnProperty("increment")||(0,Q.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2));const f=c.increment;"number"!=typeof f&&(0,Q.hu)(!1,"Unexpected increment value: "+f);const E=a.node();if((0,Q.hu)(null!==E&&typeof E<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!E.isLeafNode())return f;const B=E.getValue();return"number"!=typeof B?f:B+f},Vp=function(c,a,l,f){return jp(a,new kh(l,c),f)},Up=function(c,a,l){return jp(c,new Zd(a),l)};function jp(c,a,l){const f=c.getPriority().val(),E=cd(f,a.getImmediateChild(".priority"),l);let A;if(c.isLeafNode()){const B=c,J=cd(B.getValue(),a,l);return J!==B.getValue()||E!==B.getPriority().val()?new Ko(J,Ns(E)):c}{const B=c;return A=B,E!==B.getPriority().val()&&(A=A.updatePriority(new Ko(E))),B.forEachChild(Li,(J,le)=>{const De=jp(le,a.getImmediateChild(J),l);De!==le&&(A=A.updateImmediateChild(J,De))}),A}}class Hp{constructor(a="",l=null,f={children:{},childCount:0}){this.name=a,this.parent=l,this.node=f}}function Na(c,a){let l=a instanceof R?a:new R(a),f=c,E=oe(l);for(;null!==E;){const A=(0,Q.DV)(f.node.children,E)||{children:{},childCount:0};f=new Hp(E,f,A),l=Je(l),E=oe(l)}return f}function ha(c){return c.node.value}function Vu(c,a){c.node.value=a,$f(c)}function qg(c){return c.node.childCount>0}function Gp(c,a){ts(c.node.children,(l,f)=>{a(new Hp(l,c,f))})}function zp(c,a,l,f){l&&!f&&a(c),Gp(c,E=>{zp(E,a,!0,f)}),l&&f&&a(c)}function Xd(c){return new R(null===c.parent?c.name:Xd(c.parent)+"/"+c.name)}function $f(c){null!==c.parent&&function Lh(c,a,l){const f=function Qy(c){return void 0===ha(c)&&!qg(c)}(l),E=(0,Q.r3)(c.node.children,a);f&&E?(delete c.node.children[a],c.node.childCount--,$f(c)):!f&&!E&&(c.node.children[a]=l.node,c.node.childCount++,$f(c))}(c.parent,c.name,c)}const Vf=/[\[\].#$\/\u0000-\u001F\u007F]/,Bh=/[\[\].#$\u0000-\u001F\u007F]/,Qd=10485760,pl=function(c){return"string"==typeof c&&0!==c.length&&!Vf.test(c)},$o=function(c){return"string"==typeof c&&0!==c.length&&!Bh.test(c)},Uu=function(c){return null===c||"string"==typeof c||"number"==typeof c&&!Fl(c)||c&&"object"==typeof c&&(0,Q.r3)(c,".sv")},qa=function(c,a,l,f){f&&void 0===a||$h((0,Q.gK)(c,"value"),a,l)},$h=function(c,a,l){const f=l instanceof R?new Tl(l,c):l;if(void 0===a)throw new Error(c+"contains undefined "+Vi(f));if("function"==typeof a)throw new Error(c+"contains a function "+Vi(f)+" with contents = "+a.toString());if(Fl(a))throw new Error(c+"contains "+a.toString()+" "+Vi(f));if("string"==typeof a&&a.length>Qd/3&&(0,Q.ug)(a)>Qd)throw new Error(c+"contains a string greater than "+Qd+" utf8 bytes "+Vi(f)+" ('"+a.substring(0,50)+"...')");if(a&&"object"==typeof a){let E=!1,A=!1;if(ts(a,(B,J)=>{if(".value"===B)E=!0;else if(".priority"!==B&&".sv"!==B&&(A=!0,!pl(B)))throw new Error(c+" contains an invalid key ("+B+") "+Vi(f)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Wo(c,a){c.parts_.length>0&&(c.byteLength_+=1),c.parts_.push(a),c.byteLength_+=(0,Q.ug)(a),Sl(c)})(f,B),$h(c,J,f),function Xs(c){const a=c.parts_.pop();c.byteLength_-=(0,Q.ug)(a),c.parts_.length>0&&(c.byteLength_-=1)}(f)}),E&&A)throw new Error(c+' contains ".value" child '+Vi(f)+" in addition to actual children.")}},Jd=function(c,a,l,f){if(f&&void 0===a)return;const E=(0,Q.gK)(c,"values");if(!a||"object"!=typeof a||Array.isArray(a))throw new Error(E+" must be an object containing the children to replace.");const A=[];ts(a,(B,J)=>{const le=new R(B);if($h(E,J,tr(l,le)),".priority"===Kt(le)&&!Uu(J))throw new Error(E+"contains an invalid value for '"+le.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");A.push(le)}),function(c,a){let l,f;for(l=0;l<a.length;l++){f=a[l];const A=Ln(f);for(let B=0;B<A.length;B++)if((".priority"!==A[B]||B!==A.length-1)&&!pl(A[B]))throw new Error(c+"contains an invalid key ("+A[B]+") in path "+f.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}a.sort(vo);let E=null;for(l=0;l<a.length;l++){if(f=a[l],null!==E&&Fr(E,f))throw new Error(c+"contains a path "+E.toString()+" that is ancestor of another path "+f.toString());E=f}}(E,A)},eh=function(c,a,l){if(!l||void 0!==a){if(Fl(a))throw new Error((0,Q.gK)(c,"priority")+"is "+a.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Uu(a))throw new Error((0,Q.gK)(c,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gl=function(c,a,l,f){if(!(f&&void 0===l||pl(l)))throw new Error((0,Q.gK)(c,a)+'was an invalid key = "'+l+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Uf=function(c,a,l,f){if(!(f&&void 0===l||$o(l)))throw new Error((0,Q.gK)(c,a)+'was an invalid path = "'+l+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vh=function(c,a,l,f){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Uf(c,a,l,f)},Za=function(c,a){if(".info"===oe(a))throw new Error(c+" failed = Can't modify data under /.info/")},ju=function(c,a){const l=a.path.toString();if("string"!=typeof a.repoInfo.host||0===a.repoInfo.host.length||!pl(a.repoInfo.namespace)&&"localhost"!==a.repoInfo.host.split(":")[0]||0!==l.length&&!function(c){return c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),$o(c)}(l))throw new Error((0,Q.gK)(c,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Zg{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jf(c,a){let l=null;for(let f=0;f<a.length;f++){const E=a[f],A=E.getPath();null!==l&&!As(A,l.path)&&(c.eventLists_.push(l),l=null),null===l&&(l={events:[],path:A}),l.events.push(E)}l&&c.eventLists_.push(l)}function Xg(c,a,l){jf(c,l),Uh(c,f=>As(f,a))}function ml(c,a,l){jf(c,l),Uh(c,f=>Fr(f,a)||Fr(a,f))}function Uh(c,a){c.recursionDepth_++;let l=!0;for(let f=0;f<c.eventLists_.length;f++){const E=c.eventLists_[f];E&&(a(E.path)?(Hf(c.eventLists_[f]),c.eventLists_[f]=null):l=!1)}l&&(c.eventLists_=[]),c.recursionDepth_--}function Hf(c){for(let a=0;a<c.events.length;a++){const l=c.events[a];if(null!==l){c.events[a]=null;const f=l.getEventRunner();io&&_s("event: "+l.toString()),Re(f)}}}const jh="repo_interrupt",Qm=25;class Io{constructor(a,l,f,E){this.repoInfo_=a,this.forceRestClient_=l,this.authTokenProvider_=f,this.appCheckProvider_=E,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mu(),this.transactionQueueTree_=new Hp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Yp(c){const l=c.infoData_.getNode(new R(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function Pl(c){return Fh({timestamp:Yp(c)})}function hd(c,a,l,f,E){c.dataUpdateCount++;const A=new R(a);l=c.interceptServerDataCallback_?c.interceptServerDataCallback_(a,l):l;let B=[];if(E)if(f){const le=(0,Q.UI)(l,De=>Ns(De));B=function uo(c,a,l,f){const E=Bu(c,f);if(E){const A=ud(E),B=A.path,J=A.queryId,le=kr(B,a),De=Zi.fromObject(l);return Bp(c,B,new uu(Ra(J),le,De))}return[]}(c.serverSyncTree_,A,le,E)}else{const le=Ns(l);B=Kd(c.serverSyncTree_,A,le,E)}else if(f){const le=(0,Q.UI)(l,De=>Ns(De));B=function Wd(c,a,l){const f=Zi.fromObject(l);return ld(c,new uu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,f))}(c.serverSyncTree_,A,le)}else{const le=Ns(l);B=vc(c.serverSyncTree_,A,le)}let J=A;B.length>0&&(J=zu(c,A)),ml(c.eventQueue_,J,B)}function qp(c,a){Zp(c,"connected",a),!1===a&&function co(c){Hu(c,"onDisconnectEvents");const a=Pl(c),l=Mu();kd(c.onDisconnect_,z(),(E,A)=>{const B=Vp(E,A,c.serverSyncTree_,a);Ul(l,E,B)});let f=[];kd(l,z(),(E,A)=>{f=f.concat(vc(c.serverSyncTree_,E,A));const B=eg(c,E);zu(c,B)}),c.onDisconnect_=Mu(),ml(c.eventQueue_,z(),f)}(c)}function Zp(c,a,l){const f=new R("/.info/"+a),E=Ns(l);c.infoData_.updateSnapshot(f,E);const A=vc(c.infoSyncTree_,f,E);ml(c.eventQueue_,f,A)}function Hh(c){return c.nextWriteId_++}function Jg(c,a){const l=function Ec(c,a){const l=a._path;let f=null;c.syncPointTree_.foreachOnPath(l,(De,pt)=>{const Dt=kr(De,l);f=f||ku(pt,Dt)});let E=c.syncPointTree_.get(l);E?f=f||ku(E,z()):(E=new jd,c.syncPointTree_=c.syncPointTree_.set(l,E));const A=null!=f,B=A?new Wl(f,!0,!1):null;return function ql(c){return Rl(c.viewCache_)}(zd(E,a,Kl(c.pendingWriteTree_,a._path),A?B.getNode():qr.EMPTY_NODE,A))}(c.serverSyncTree_,a);return null!=l?Promise.resolve(l):c.server_.get(a).then(f=>{const E=Ns(f).withIndex(a._queryParams.getIndex());if(a._queryParams.loadsAllData())vc(c.serverSyncTree_,a._path,E);else{const B=function Kg(c,a){const{syncPoint:l,serverCache:f,writesCache:E,serverCacheComplete:A}=Ff(a,c),B=zd(l,a,E,f,A);return l.views.has(a._queryIdentifier)||l.views.set(a._queryIdentifier,B),a._queryParams.loadsAllData()?null:fl(c,a)}(c.serverSyncTree_,a);Kd(c.serverSyncTree_,a._path,E,B)}return _c(c.serverSyncTree_,a,null).length>0&&Hu(c,"unexpected cancel events in repoGetValue"),E},f=>(Hu(c,"get for query "+(0,Q.Pz)(a)+" failed: "+f),Promise.reject(new Error(f))))}function em(c,a,l,f,E){Hu(c,"set",{path:a.toString(),value:l,priority:f});const A=Pl(c),B=Ns(l,f),J=Yd(c.serverSyncTree_,a),le=Up(B,J,A),De=Hh(c),pt=Nf(c.serverSyncTree_,a,le,De,!0);jf(c.eventQueue_,pt),c.server_.put(a.toString(),B.val(!0),(Yt,Sn)=>{const zn="ok"===Yt;zn||Ki("set at "+a+" failed: "+Yt);const Kr=Lu(c.serverSyncTree_,De,!zn);ml(c.eventQueue_,a,Kr),Nl(0,E,Yt,Sn)});const Dt=eg(c,a);zu(c,Dt),ml(c.eventQueue_,Dt,[])}function Xi(c,a,l){c.server_.onDisconnectCancel(a.toString(),(f,E)=>{"ok"===f&&xu(c.onDisconnect_,a),Nl(0,l,f,E)})}function th(c,a,l,f){const E=Ns(l);c.server_.onDisconnectPut(a.toString(),E.val(!0),(A,B)=>{"ok"===A&&Ul(c.onDisconnect_,a,E),Nl(0,f,A,B)})}function Gh(c,a,l){let f;f=".info"===oe(a._path)?_c(c.infoSyncTree_,a,l):_c(c.serverSyncTree_,a,l),Xg(c.eventQueue_,a._path,f)}function zh(c){c.persistentConnection_&&c.persistentConnection_.interrupt(jh)}function Hu(c,...a){let l="";c.persistentConnection_&&(l=c.persistentConnection_.id+":"),_s(l,...a)}function Nl(c,a,l,f){a&&Re(()=>{if("ok"===l)a(null);else{const E=(l||"error").toUpperCase();let A=E;f&&(A+=": "+f);const B=new Error(A);B.code=E,a(B)}})}function Gu(c,a,l){return Yd(c.serverSyncTree_,a,l)||qr.EMPTY_NODE}function fd(c,a=c.transactionQueueTree_){if(a||Wu(c,a),ha(a)){const l=Jp(c,a);(0,Q.hu)(l.length>0,"Sending zero length transaction queue"),l.every(E=>0===E.status)&&function Wh(c,a,l){const f=l.map(De=>De.currentWriteId),E=Gu(c,a,f);let A=E;const B=E.hash();for(let De=0;De<l.length;De++){const pt=l[De];(0,Q.hu)(0===pt.status,"tryToSendTransactionQueue_: items in queue should all be run."),pt.status=1,pt.retryCount++;const Dt=kr(a,pt.path);A=A.updateChild(Dt,pt.currentOutputSnapshotRaw)}const J=A.val(!0),le=a;c.server_.put(le.toString(),J,De=>{Hu(c,"transaction put response",{path:le.toString(),status:De});let pt=[];if("ok"===De){const Dt=[];for(let Yt=0;Yt<l.length;Yt++)l[Yt].status=2,pt=pt.concat(Lu(c.serverSyncTree_,l[Yt].currentWriteId)),l[Yt].onComplete&&Dt.push(()=>l[Yt].onComplete(null,!0,l[Yt].currentOutputSnapshotResolved)),l[Yt].unwatcher();Wu(c,Na(c.transactionQueueTree_,a)),fd(c,c.transactionQueueTree_),ml(c.eventQueue_,a,pt);for(let Yt=0;Yt<Dt.length;Yt++)Re(Dt[Yt])}else{if("datastale"===De)for(let Dt=0;Dt<l.length;Dt++)l[Dt].status=3===l[Dt].status?4:0;else{Ki("transaction at "+le.toString()+" failed: "+De);for(let Dt=0;Dt<l.length;Dt++)l[Dt].status=4,l[Dt].abortReason=De}zu(c,a)}},B)}(c,Xd(a),l)}else qg(a)&&Gp(a,l=>{fd(c,l)})}function zu(c,a){const l=bc(c,a),f=Xd(l);return function Qp(c,a,l){if(0===a.length)return;const f=[];let E=[];const B=a.filter(J=>0===J.status).map(J=>J.currentWriteId);for(let J=0;J<a.length;J++){const le=a[J],De=kr(l,le.path);let Dt,pt=!1;if((0,Q.hu)(null!==De,"rerunTransactionsUnderNode_: relativePath should not be null."),4===le.status)pt=!0,Dt=le.abortReason,E=E.concat(Lu(c.serverSyncTree_,le.currentWriteId,!0));else if(0===le.status)if(le.retryCount>=Qm)pt=!0,Dt="maxretry",E=E.concat(Lu(c.serverSyncTree_,le.currentWriteId,!0));else{const Yt=Gu(c,le.path,B);le.currentInputSnapshot=Yt;const Sn=a[J].update(Yt.val());if(void 0!==Sn){$h("transaction failed: Data returned ",Sn,le.path);let zn=Ns(Sn);"object"==typeof Sn&&null!=Sn&&(0,Q.r3)(Sn,".priority")||(zn=zn.updatePriority(Yt.getPriority()));const oi=le.currentWriteId,Mo=Pl(c),eo=Up(zn,Yt,Mo);le.currentOutputSnapshotRaw=zn,le.currentOutputSnapshotResolved=eo,le.currentWriteId=Hh(c),B.splice(B.indexOf(oi),1),E=E.concat(Nf(c.serverSyncTree_,le.path,eo,le.currentWriteId,le.applyLocally)),E=E.concat(Lu(c.serverSyncTree_,oi,!0))}else pt=!0,Dt="nodata",E=E.concat(Lu(c.serverSyncTree_,le.currentWriteId,!0))}ml(c.eventQueue_,l,E),E=[],pt&&(a[J].status=2,setTimeout(a[J].unwatcher,Math.floor(0)),a[J].onComplete&&f.push("nodata"===Dt?()=>a[J].onComplete(null,!1,a[J].currentInputSnapshot):()=>a[J].onComplete(new Error(Dt),!1,null)))}Wu(c,c.transactionQueueTree_);for(let J=0;J<f.length;J++)Re(f[J]);fd(c,c.transactionQueueTree_)}(c,Jp(c,l),f),f}function bc(c,a){let l,f=c.transactionQueueTree_;for(l=oe(a);null!==l&&void 0===ha(f);)f=Na(f,l),l=oe(a=Je(a));return f}function Jp(c,a){const l=[];return Kh(c,a,l),l.sort((f,E)=>f.order-E.order),l}function Kh(c,a,l){const f=ha(a);if(f)for(let E=0;E<f.length;E++)l.push(f[E]);Gp(a,E=>{Kh(c,E,l)})}function Wu(c,a){const l=ha(a);if(l){let f=0;for(let E=0;E<l.length;E++)2!==l[E].status&&(l[f]=l[E],f++);l.length=f,Vu(a,l.length>0?l:void 0)}Gp(a,f=>{Wu(c,f)})}function eg(c,a){const l=Xd(bc(c,a)),f=Na(c.transactionQueueTree_,a);return function Wp(c,a,l){let f=l?c:c.parent;for(;null!==f;){if(a(f))return!0;f=f.parent}}(f,E=>{nh(c,E)}),nh(c,f),zp(f,E=>{nh(c,E)}),l}function nh(c,a){const l=ha(a);if(l){const f=[];let E=[],A=-1;for(let B=0;B<l.length;B++)3===l[B].status||(1===l[B].status?((0,Q.hu)(A===B-1,"All SENT items should be at beginning of queue."),A=B,l[B].status=3,l[B].abortReason="set"):((0,Q.hu)(0===l[B].status,"Unexpected transaction status in abort"),l[B].unwatcher(),E=E.concat(Lu(c.serverSyncTree_,l[B].currentWriteId,!0)),l[B].onComplete&&f.push(l[B].onComplete.bind(null,new Error("set"),!1,null))));-1===A?Vu(a,void 0):l.length=A+1,ml(c.eventQueue_,Xd(a),E);for(let B=0;B<f.length;B++)Re(f[B])}}const Yh=function(c,a){const l=Cc(c),f=l.namespace;return"firebase.com"===l.domain&&mo(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!f||"undefined"===f)&&"localhost"!==l.domain&&mo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ki("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Es(l.host,l.secure,f,"ws"===l.scheme||"wss"===l.scheme,a,"",f!==l.subdomain),path:new R(l.pathString)}},Cc=function(c){let a="",l="",f="",E="",A="",B=!0,J="https",le=443;if("string"==typeof c){let De=c.indexOf("//");De>=0&&(J=c.substring(0,De-1),c=c.substring(De+2));let pt=c.indexOf("/");-1===pt&&(pt=c.length);let Dt=c.indexOf("?");-1===Dt&&(Dt=c.length),a=c.substring(0,Math.min(pt,Dt)),pt<Dt&&(E=function Gf(c){let a="";const l=c.split("/");for(let f=0;f<l.length;f++)if(l[f].length>0){let E=l[f];try{E=decodeURIComponent(E.replace(/\+/g," "))}catch{}a+="/"+E}return a}(c.substring(pt,Dt)));const Yt=function Dc(c){const a={};"?"===c.charAt(0)&&(c=c.substring(1));for(const l of c.split("&")){if(0===l.length)continue;const f=l.split("=");2===f.length?a[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):Ki(`Invalid query segment '${l}' in query '${c}'`)}return a}(c.substring(Math.min(c.length,Dt)));De=a.indexOf(":"),De>=0?(B="https"===J||"wss"===J,le=parseInt(a.substring(De+1),10)):De=a.length;const Sn=a.slice(0,De);if("localhost"===Sn.toLowerCase())l="localhost";else if(Sn.split(".").length<=2)l=Sn;else{const zn=a.indexOf(".");f=a.substring(0,zn).toLowerCase(),l=a.substring(zn+1),A=f}"ns"in Yt&&(A=Yt.ns)}return{host:a,port:le,domain:l,subdomain:f,secure:B,scheme:J,pathString:E,namespace:A}};class pd{constructor(a,l,f,E){this.eventType=a,this.eventRegistration=l,this.snapshot=f,this.prevName=E}getPath(){const a=this.snapshot.ref;return"value"===this.eventType?a._path:a.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Q.Pz)(this.snapshot.exportVal())}}class zf{constructor(a,l,f){this.eventRegistration=a,this.error=l,this.path=f}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class rh{constructor(a,l){this.snapshotCallback=a,this.cancelCallback=l}onValue(a,l){this.snapshotCallback.call(null,a,l)}onCancel(a){return(0,Q.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,a)}get hasCancelCallback(){return!!this.cancelCallback}matches(a){return this.snapshotCallback===a.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===a.snapshotCallback.userCallback&&this.snapshotCallback.context===a.snapshotCallback.context}}class Tc{constructor(a,l){this._repo=a,this._path=l}cancel(){const a=new Q.BH;return Xi(this._repo,this._path,a.wrapCallback(()=>{})),a.promise}remove(){Za("OnDisconnect.remove",this._path);const a=new Q.BH;return th(this._repo,this._path,null,a.wrapCallback(()=>{})),a.promise}set(a){Za("OnDisconnect.set",this._path),qa("OnDisconnect.set",a,this._path,!1);const l=new Q.BH;return th(this._repo,this._path,a,l.wrapCallback(()=>{})),l.promise}setWithPriority(a,l){Za("OnDisconnect.setWithPriority",this._path),qa("OnDisconnect.setWithPriority",a,this._path,!1),eh("OnDisconnect.setWithPriority",l,!1);const f=new Q.BH;return function nm(c,a,l,f,E){const A=Ns(l,f);c.server_.onDisconnectPut(a.toString(),A.val(!0),(B,J)=>{"ok"===B&&Ul(c.onDisconnect_,a,A),Nl(0,E,B,J)})}(this._repo,this._path,a,l,f.wrapCallback(()=>{})),f.promise}update(a){Za("OnDisconnect.update",this._path),Jd("OnDisconnect.update",a,this._path,!1);const l=new Q.BH;return function rm(c,a,l,f){if((0,Q.xb)(l))return _s("onDisconnect().update() called with empty data.  Don't do anything."),void Nl(0,f,"ok",void 0);c.server_.onDisconnectMerge(a.toString(),l,(E,A)=>{"ok"===E&&ts(l,(B,J)=>{const le=Ns(J);Ul(c.onDisconnect_,tr(a,B),le)}),Nl(0,f,E,A)})}(this._repo,this._path,a,l.wrapCallback(()=>{})),l.promise}}class ka{constructor(a,l,f,E){this._repo=a,this._path=l,this._queryParams=f,this._orderByCalled=E}get key(){return ir(this._path)?null:Kt(this._path)}get ref(){return new yl(this._repo,this._path)}get _queryIdentifier(){const a=Nd(this._queryParams),l=js(a);return"{}"===l?"default":l}get _queryObject(){return Nd(this._queryParams)}isEqual(a){if(!((a=(0,Q.m9)(a))instanceof ka))return!1;const l=this._repo===a._repo,f=As(this._path,a._path);return l&&f&&this._queryIdentifier===a._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Dn(c){let a="";for(let l=c.pieceNum_;l<c.pieces_.length;l++)""!==c.pieces_[l]&&(a+="/"+encodeURIComponent(String(c.pieces_[l])));return a||"/"}(this._path)}}function qh(c,a){if(!0===c._orderByCalled)throw new Error(a+": You can't combine multiple orderBy calls.")}function Sc(c){let a=null,l=null;if(c.hasStart()&&(a=c.getIndexStartValue()),c.hasEnd()&&(l=c.getIndexEndValue()),c.getIndex()===ft){const f="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",E="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(c.hasStart()){if(c.getIndexStartName()!==va)throw new Error(f);if("string"!=typeof a)throw new Error(E)}if(c.hasEnd()){if(c.getIndexEndName()!==ra)throw new Error(f);if("string"!=typeof l)throw new Error(E)}}else if(c.getIndex()===Li){if(null!=a&&!Uu(a)||null!=l&&!Uu(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Q.hu)(c.getIndex()instanceof Ah||c.getIndex()===Rd,"unknown index type."),null!=a&&"object"==typeof a||null!=l&&"object"==typeof l)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ac(c){if(c.hasStart()&&c.hasEnd()&&c.hasLimit()&&!c.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class yl extends ka{constructor(a,l){super(a,l,new Mh,!1)}get parent(){const a=Vn(this._path);return null===a?null:new yl(this._repo,a)}get root(){let a=this;for(;null!==a.parent;)a=a.parent;return a}}class Ku{constructor(a,l,f){this._node=a,this.ref=l,this._index=f}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(a){const l=new R(a),f=Mc(this.ref,a);return new Ku(this._node.getChild(l),f,Li)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(a){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(f,E)=>a(new Ku(E,Mc(this.ref,f),Li)))}hasChild(a){const l=new R(a);return!this._node.getChild(l).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wf(c,a){return(c=(0,Q.m9)(c))._checkNotDeleted("ref"),void 0!==a?Mc(c._root,a):c._root}function Zh(c,a){(c=(0,Q.m9)(c))._checkNotDeleted("refFromURL");const l=Yh(a,c._repo.repoInfo_.nodeAdmin);ju("refFromURL",l);const f=l.repoInfo;return!c._repo.repoInfo_.isCustomHost()&&f.host!==c._repo.repoInfo_.host&&mo("refFromURL: Host name does not match the current database: (found "+f.host+" but expected "+c._repo.repoInfo_.host+")"),Wf(c,l.path.toString())}function Mc(c,a){return null===oe((c=(0,Q.m9)(c))._path)?Vh("child","path",a,!1):Uf("child","path",a,!1),new yl(c._repo,tr(c._path,a))}function Yf(c,a){c=(0,Q.m9)(c),Za("set",c._path),qa("set",a,c._path,!1);const l=new Q.BH;return em(c._repo,c._path,a,null,l.wrapCallback(()=>{})),l.promise}function lm(c,a){Jd("update",a,c._path,!1);const l=new Q.BH;return function tm(c,a,l,f){Hu(c,"update",{path:a.toString(),value:l});let E=!0;const A=Pl(c),B={};if(ts(l,(J,le)=>{E=!1,B[J]=Vp(tr(a,J),Ns(le),c.serverSyncTree_,A)}),E)_s("update() called with empty data.  Don't do anything."),Nl(0,f,"ok",void 0);else{const J=Hh(c),le=function Fp(c,a,l,f){!function ca(c,a,l,f){(0,Q.hu)(f>c.lastWriteId,"Stacking an older merge on top of newer ones"),c.allWrites.push({path:a,children:l,writeId:f,visible:!0}),c.visibleWrites=nd(c.visibleWrites,a,l),c.lastWriteId=f}(c.pendingWriteTree_,a,l,f);const E=Zi.fromObject(l);return ld(c,new uu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,E))}(c.serverSyncTree_,a,B,J);jf(c.eventQueue_,le),c.server_.merge(a.toString(),l,(De,pt)=>{const Dt="ok"===De;Dt||Ki("update at "+a+" failed: "+De);const Yt=Lu(c.serverSyncTree_,J,!Dt),Sn=Yt.length>0?zu(c,a):a;ml(c.eventQueue_,Sn,Yt),Nl(0,f,De,pt)}),ts(l,De=>{const pt=eg(c,tr(a,De));zu(c,pt)}),ml(c.eventQueue_,a,[])}}(c._repo,c._path,a,l.wrapCallback(()=>{})),l.promise}class gd{constructor(a){this.callbackContext=a}respondsTo(a){return"value"===a}createEvent(a,l){const f=l._queryParams.getIndex();return new pd("value",this,new Ku(a.snapshotNode,new yl(l._repo,l._path),f))}getEventRunner(a){return"cancel"===a.getEventType()?()=>this.callbackContext.onCancel(a.error):()=>this.callbackContext.onValue(a.snapshot,null)}createCancelEvent(a,l){return this.callbackContext.hasCancelCallback?new zf(this,a,l):null}matches(a){return a instanceof gd&&(!a.callbackContext||!this.callbackContext||a.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class xc{constructor(a,l){this.eventType=a,this.callbackContext=l}respondsTo(a){let l="children_added"===a?"child_added":a;return l="children_removed"===l?"child_removed":l,this.eventType===l}createCancelEvent(a,l){return this.callbackContext.hasCancelCallback?new zf(this,a,l):null}createEvent(a,l){(0,Q.hu)(null!=a.childName,"Child events should have a childName.");const f=Mc(new yl(l._repo,l._path),a.childName),E=l._queryParams.getIndex();return new pd(a.type,this,new Ku(a.snapshotNode,f,E),a.prevName)}getEventRunner(a){return"cancel"===a.getEventType()?()=>this.callbackContext.onCancel(a.error):()=>this.callbackContext.onValue(a.snapshot,a.prevName)}matches(a){return a instanceof xc&&this.eventType===a.eventType&&(!this.callbackContext||!a.callbackContext||this.callbackContext.matches(a.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Rc(c,a,l,f,E){let A;if("object"==typeof f&&(A=void 0,E=f),"function"==typeof f&&(A=f),E&&E.onlyOnce){const le=l,De=(pt,Dt)=>{Gh(c._repo,c,J),le(pt,Dt)};De.userCallback=l.userCallback,De.context=l.context,l=De}const B=new rh(l,A||void 0),J="value"===a?new gd(B):new xc(a,B);return function Xp(c,a,l){let f;f=".info"===oe(a._path)?Nh(c.infoSyncTree_,a,l):Nh(c.serverSyncTree_,a,l),Xg(c.eventQueue_,a._path,f)}(c._repo,c,J),()=>Gh(c._repo,c,J)}function sh(c,a,l,f){return Rc(c,"value",a,l,f)}function Oc(c,a,l,f){return Rc(c,"child_added",a,l,f)}function Yu(c,a,l,f){return Rc(c,"child_changed",a,l,f)}function pu(c,a,l,f){return Rc(c,"child_moved",a,l,f)}function Qh(c,a,l,f){return Rc(c,"child_removed",a,l,f)}function oh(c,a,l){let f=null;const E=l?new rh(l):null;"value"===a?f=new gd(E):a&&(f=new xc(a,E)),Gh(c._repo,c,f)}class Fa{}class ey extends Fa{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){qa("endAt",this._value,a._path,!0);const l=Od(a._queryParams,this._value,this._key);if(Ac(l),Sc(l),a._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ka(a._repo,a._path,l,a._orderByCalled)}}class rg extends Fa{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){qa("endBefore",this._value,a._path,!1);const l=function Qc(c,a,l){let f,E;return c.index_===ft?("string"==typeof a&&(a=Df(a)),E=Od(c,a,l)):(f=null==l?va:Df(l),E=Od(c,a,f)),E.endBeforeSet_=!0,E}(a._queryParams,this._value,this._key);if(Ac(l),Sc(l),a._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ka(a._repo,a._path,l,a._orderByCalled)}}class ah extends Fa{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){qa("startAt",this._value,a._path,!0);const l=au(a._queryParams,this._value,this._key);if(Ac(l),Sc(l),a._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ka(a._repo,a._path,l,a._orderByCalled)}}class md extends Fa{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){qa("startAfter",this._value,a._path,!1);const l=function xa(c,a,l){let f;if(c.index_===ft)"string"==typeof a&&(a=Su(a)),f=au(c,a,l);else{let E;E=null==l?ra:Su(l),f=au(c,a,E)}return f.startAfterSet_=!0,f}(a._queryParams,this._value,this._key);if(Ac(l),Sc(l),a._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ka(a._repo,a._path,l,a._orderByCalled)}}class Zf extends Fa{constructor(a){super(),this._limit=a}_apply(a){if(a._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ka(a._repo,a._path,function Xc(c,a){const l=c.copy();return l.limitSet_=!0,l.limit_=a,l.viewFrom_="l",l}(a._queryParams,this._limit),a._orderByCalled)}}class cm extends Fa{constructor(a){super(),this._limit=a}_apply(a){if(a._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ka(a._repo,a._path,function Vl(c,a){const l=c.copy();return l.limitSet_=!0,l.limit_=a,l.viewFrom_="r",l}(a._queryParams,this._limit),a._orderByCalled)}}class ef extends Fa{constructor(a){super(),this._path=a}_apply(a){qh(a,"orderByChild");const l=new R(this._path);if(ir(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const f=new Ah(l),E=Pd(a._queryParams,f);return Sc(E),new ka(a._repo,a._path,E,!0)}}class Pc extends Fa{_apply(a){qh(a,"orderByKey");const l=Pd(a._queryParams,ft);return Sc(l),new ka(a._repo,a._path,l,!0)}}class og extends Fa{_apply(a){qh(a,"orderByPriority");const l=Pd(a._queryParams,Li);return Sc(l),new ka(a._repo,a._path,l,!0)}}class ty extends Fa{_apply(a){qh(a,"orderByValue");const l=Pd(a._queryParams,Rd);return Sc(l),new ka(a._repo,a._path,l,!0)}}class ny extends Fa{constructor(a,l){super(),this._value=a,this._key=l}_apply(a){if(qa("equalTo",this._value,a._path,!1),a._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(a._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ey(this._value,this._key)._apply(new ah(this._value,this._key)._apply(a))}}function vl(c,...a){let l=(0,Q.m9)(c);for(const f of a)l=f._apply(l);return l}(function da(c){(0,Q.hu)(!mc,"__referenceConstructor has already been defined"),mc=c})(yl),function Pf(c){(0,Q.hu)(!Np,"__referenceConstructor has already been defined"),Np=c}(yl);const yd={};function uh(c,a,l,f,E){let A=f||c.options.databaseURL;void 0===A&&(c.options.projectId||mo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_s("Using default host for project ",c.options.projectId),A=`${c.options.projectId}-default-rtdb.firebaseio.com`);let le,De,B=Yh(A,E),J=B.repoInfo;typeof process<"u"&&process.env&&(De=process.env.FIREBASE_DATABASE_EMULATOR_HOST),De?(le=!0,A=`http://${De}?ns=${J.namespace}`,B=Yh(A,E),J=B.repoInfo):le=!B.repoInfo.secure;const pt=E&&le?new Br(Br.OWNER):new cr(c.name,c.options,a);ju("Invalid Firebase Database URL",B),ir(B.path)||mo("Database URL must point to the root of a Firebase Database (not including a child path).");const Dt=function lg(c,a,l,f){let E=yd[a.name];E||(E={},yd[a.name]=E);let A=E[c.toURLString()];return A&&mo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),A=new Io(c,false,l,f),E[c.toURLString()]=A,A}(J,c,pt,new xn(c.name,l));return new iy(Dt,c)}class iy{constructor(a,l){this._repoInternal=a,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Jm(c,a,l){if(c.stats_=Jt(c.repoInfo_),c.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)c.server_=new Jc(c.repoInfo_,(f,E,A,B)=>{hd(c,f,E,A,B)},c.authTokenProvider_,c.appCheckProvider_),setTimeout(()=>qp(c,!0),0);else{if(typeof l<"u"&&null!==l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Q.Pz)(l)}catch(f){throw new Error("Invalid authOverride provided: "+f)}}c.persistentConnection_=new ws(c.repoInfo_,a,(f,E,A,B)=>{hd(c,f,E,A,B)},f=>{qp(c,f)},f=>{!function Qg(c,a){ts(a,(l,f)=>{Zp(c,l,f)})}(c,f)},c.authTokenProvider_,c.appCheckProvider_,l),c.server_=c.persistentConnection_}c.authTokenProvider_.addTokenChangeListener(f=>{c.server_.refreshAuthToken(f)}),c.appCheckProvider_.addTokenChangeListener(f=>{c.server_.refreshAppCheckToken(f.token)}),c.statsReporter_=function dn(c,a){const l=c.toString();return Ua[l]||(Ua[l]=a()),Ua[l]}(c.repoInfo_,()=>new lu(c.stats_,c.server_)),c.infoData_=new sc,c.infoSyncTree_=new kp({startListening:(f,E,A,B)=>{let J=[];const le=c.infoData_.getNode(f._path);return le.isEmpty()||(J=vc(c.infoSyncTree_,f._path,le),setTimeout(()=>{B("ok")},0)),J},stopListening:()=>{}}),Zp(c,"connected",!1),c.serverSyncTree_=new kp({startListening:(f,E,A,B)=>(c.server_.listen(f,A,E,(J,le)=>{const De=B(J,le);ml(c.eventQueue_,f._path,De)}),[]),stopListening:(f,E)=>{c.server_.unlisten(f,E)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yl(this._repo,z())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ry(c,a){const l=yd[a];(!l||l[c.key]!==c)&&mo(`Database ${a}(${c.repoInfo_}) has already been deleted.`),zh(c),delete l[c.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(a){null===this._rootInternal&&mo("Cannot call "+a+" on a deleted database.")}}function Jf(){Qu.IS_TRANSPORT_INITIALIZED&&Ki("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function fm(){Jf(),yo.forceDisallow()}function ep(){Jf(),Ur.forceDisallow(),yo.forceAllow()}function tp(c,a){ru(c,a)}const ch={".sv":"timestamp"};class Fc{constructor(a,l){this.committed=a,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ws.prototype.simpleListen=function(c,a){this.sendRequest("q",{p:c},a)},ws.prototype.echo=function(c,a){this.sendRequest("echo",{d:c},a)},function kc(c){El(ye.SDK_VERSION),(0,ye._registerComponent)(new rt.wA("database",(a,{instanceIdentifier:l})=>uh(a.getProvider("app").getImmediate(),a.getProvider("auth-internal"),a.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)(qs,"0.13.3",c),(0,ye.registerVersion)(qs,"0.13.3","esm2017")}();const vm=new Wi.Yd("@firebase/database-compat"),Id=function(c){vm.warn("FIREBASE WARNING: "+c)};class _m{constructor(a){this._delegate=a}cancel(a){(0,Q.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Q.Wj)("OnDisconnect.cancel","onComplete",a,!0);const l=this._delegate.cancel();return a&&l.then(()=>a(null),f=>a(f)),l}remove(a){(0,Q.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Q.Wj)("OnDisconnect.remove","onComplete",a,!0);const l=this._delegate.remove();return a&&l.then(()=>a(null),f=>a(f)),l}set(a,l){(0,Q.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Q.Wj)("OnDisconnect.set","onComplete",l,!0);const f=this._delegate.set(a);return l&&f.then(()=>l(null),E=>l(E)),f}setWithPriority(a,l,f){(0,Q.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Q.Wj)("OnDisconnect.setWithPriority","onComplete",f,!0);const E=this._delegate.setWithPriority(a,l);return f&&E.then(()=>f(null),A=>f(A)),E}update(a,l){if((0,Q.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(a)){const E={};for(let A=0;A<a.length;++A)E[""+A]=a[A];a=E,Id("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Q.Wj)("OnDisconnect.update","onComplete",l,!0);const f=this._delegate.update(a);return l&&f.then(()=>l(null),E=>l(E)),f}}class cg{constructor(a,l){this.committed=a,this.snapshot=l}toJSON(){return(0,Q.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class wd{constructor(a,l){this._database=a,this._delegate=l}val(){return(0,Q.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Q.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Q.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Q.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(a){return(0,Q.Dv)("DataSnapshot.child",0,1,arguments.length),a=String(a),Uf("DataSnapshot.child","path",a,!1),new wd(this._database,this._delegate.child(a))}hasChild(a){return(0,Q.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Uf("DataSnapshot.hasChild","path",a,!1),this._delegate.hasChild(a)}getPriority(){return(0,Q.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(a){return(0,Q.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Q.Wj)("DataSnapshot.forEach","action",a,!1),this._delegate.forEach(l=>a(new wd(this._database,l)))}hasChildren(){return(0,Q.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Q.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Q.Dv)("DataSnapshot.ref",0,0,arguments.length),new wa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ia{constructor(a,l){this.database=a,this._delegate=l}on(a,l,f,E){var A;(0,Q.Dv)("Query.on",2,4,arguments.length),(0,Q.Wj)("Query.on","callback",l,!1);const B=Ia.getCancelAndContextArgs_("Query.on",f,E),J=(De,pt)=>{l.call(B.context,new wd(this.database,De),pt)};J.userCallback=l,J.context=B.context;const le=null===(A=B.cancel)||void 0===A?void 0:A.bind(B.context);switch(a){case"value":return sh(this._delegate,J,le),l;case"child_added":return Oc(this._delegate,J,le),l;case"child_removed":return Qh(this._delegate,J,le),l;case"child_changed":return Yu(this._delegate,J,le),l;case"child_moved":return pu(this._delegate,J,le),l;default:throw new Error((0,Q.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(a,l,f){if((0,Q.Dv)("Query.off",0,3,arguments.length),function(c,a,l){if(void 0!==a)switch(a){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Q.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,a),(0,Q.Wj)("Query.off","callback",l,!0),(0,Q.lb)("Query.off","context",f,!0),l){const E=()=>{};E.userCallback=l,E.context=f,oh(this._delegate,a,E)}else oh(this._delegate,a)}get(){return function tg(c){return Jg((c=(0,Q.m9)(c))._repo,c).then(a=>new Ku(a,new yl(c._repo,c._path),c._queryParams.getIndex()))}(this._delegate).then(a=>new wd(this.database,a))}once(a,l,f,E){(0,Q.Dv)("Query.once",1,4,arguments.length),(0,Q.Wj)("Query.once","callback",l,!0);const A=Ia.getCancelAndContextArgs_("Query.once",f,E),B=new Q.BH,J=(De,pt)=>{const Dt=new wd(this.database,De);l&&l.call(A.context,Dt,pt),B.resolve(Dt)};J.userCallback=l,J.context=A.context;const le=De=>{A.cancel&&A.cancel.call(A.context,De),B.reject(De)};switch(a){case"value":sh(this._delegate,J,le,{onlyOnce:!0});break;case"child_added":Oc(this._delegate,J,le,{onlyOnce:!0});break;case"child_removed":Qh(this._delegate,J,le,{onlyOnce:!0});break;case"child_changed":Yu(this._delegate,J,le,{onlyOnce:!0});break;case"child_moved":pu(this._delegate,J,le,{onlyOnce:!0});break;default:throw new Error((0,Q.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return B.promise}limitToFirst(a){return(0,Q.Dv)("Query.limitToFirst",1,1,arguments.length),new Ia(this.database,vl(this._delegate,function Jh(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Zf(c)}(a)))}limitToLast(a){return(0,Q.Dv)("Query.limitToLast",1,1,arguments.length),new Ia(this.database,vl(this._delegate,function dm(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cm(c)}(a)))}orderByChild(a){return(0,Q.Dv)("Query.orderByChild",1,1,arguments.length),new Ia(this.database,vl(this._delegate,function tf(c){if("$key"===c)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===c)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===c)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Uf("orderByChild","path",c,!1),new ef(c)}(a)))}orderByKey(){return(0,Q.Dv)("Query.orderByKey",0,0,arguments.length),new Ia(this.database,vl(this._delegate,function sg(){return new Pc}()))}orderByPriority(){return(0,Q.Dv)("Query.orderByPriority",0,0,arguments.length),new Ia(this.database,vl(this._delegate,function lh(){return new og}()))}orderByValue(){return(0,Q.Dv)("Query.orderByValue",0,0,arguments.length),new Ia(this.database,vl(this._delegate,function Xf(){return new ty}()))}startAt(a=null,l){return(0,Q.Dv)("Query.startAt",0,2,arguments.length),new Ia(this.database,vl(this._delegate,function ig(c=null,a){return gl("startAt","key",a,!0),new ah(c,a)}(a,l)))}startAfter(a=null,l){return(0,Q.Dv)("Query.startAfter",0,2,arguments.length),new Ia(this.database,vl(this._delegate,function qf(c,a){return gl("startAfter","key",a,!0),new md(c,a)}(a,l)))}endAt(a=null,l){return(0,Q.Dv)("Query.endAt",0,2,arguments.length),new Ia(this.database,vl(this._delegate,function ng(c,a){return gl("endAt","key",a,!0),new ey(c,a)}(a,l)))}endBefore(a=null,l){return(0,Q.Dv)("Query.endBefore",0,2,arguments.length),new Ia(this.database,vl(this._delegate,function um(c,a){return gl("endBefore","key",a,!0),new rg(c,a)}(a,l)))}equalTo(a,l){return(0,Q.Dv)("Query.equalTo",1,2,arguments.length),new Ia(this.database,vl(this._delegate,function Qf(c,a){return gl("equalTo","key",a,!0),new ny(c,a)}(a,l)))}toString(){return(0,Q.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Q.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(a){if((0,Q.Dv)("Query.isEqual",1,1,arguments.length),!(a instanceof Ia))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(a._delegate)}static getCancelAndContextArgs_(a,l,f){const E={cancel:void 0,context:void 0};if(l&&f)E.cancel=l,(0,Q.Wj)(a,"cancel",E.cancel,!0),E.context=f,(0,Q.lb)(a,"context",E.context,!0);else if(l)if("object"==typeof l&&null!==l)E.context=l;else{if("function"!=typeof l)throw new Error((0,Q.gK)(a,"cancelOrContext")+" must either be a cancel callback or a context object.");E.cancel=l}return E}get ref(){return new wa(this.database,new yl(this._delegate._repo,this._delegate._path))}}class wa extends Ia{constructor(a,l){super(a,new ka(l._repo,l._path,new Mh,!1)),this.database=a,this._delegate=l}getKey(){return(0,Q.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(a){return(0,Q.Dv)("Reference.child",1,1,arguments.length),"number"==typeof a&&(a=String(a)),new wa(this.database,Mc(this._delegate,a))}getParent(){(0,Q.Dv)("Reference.parent",0,0,arguments.length);const a=this._delegate.parent;return a?new wa(this.database,a):null}getRoot(){return(0,Q.Dv)("Reference.root",0,0,arguments.length),new wa(this.database,this._delegate.root)}set(a,l){(0,Q.Dv)("Reference.set",1,2,arguments.length),(0,Q.Wj)("Reference.set","onComplete",l,!0);const f=Yf(this._delegate,a);return l&&f.then(()=>l(null),E=>l(E)),f}update(a,l){if((0,Q.Dv)("Reference.update",1,2,arguments.length),Array.isArray(a)){const E={};for(let A=0;A<a.length;++A)E[""+A]=a[A];a=E,Id("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Za("Reference.update",this._delegate._path),(0,Q.Wj)("Reference.update","onComplete",l,!0);const f=lm(this._delegate,a);return l&&f.then(()=>l(null),E=>l(E)),f}setWithPriority(a,l,f){(0,Q.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Q.Wj)("Reference.setWithPriority","onComplete",f,!0);const E=function ih(c,a,l){if(Za("setWithPriority",c._path),qa("setWithPriority",a,c._path,!1),eh("setWithPriority",l,!1),".length"===c.key||".keys"===c.key)throw"setWithPriority failed: "+c.key+" is a read-only object.";const f=new Q.BH;return em(c._repo,c._path,a,l,f.wrapCallback(()=>{})),f.promise}(this._delegate,a,l);return f&&E.then(()=>f(null),A=>f(A)),E}remove(a){(0,Q.Dv)("Reference.remove",0,1,arguments.length),(0,Q.Wj)("Reference.remove","onComplete",a,!0);const l=function Kf(c){return Za("remove",c._path),Yf(c,null)}(this._delegate);return a&&l.then(()=>a(null),f=>a(f)),l}transaction(a,l,f){(0,Q.Dv)("Reference.transaction",1,3,arguments.length),(0,Q.Wj)("Reference.transaction","transactionUpdate",a,!1),(0,Q.Wj)("Reference.transaction","onComplete",l,!0),function(c,a,l,f){if(void 0!==l&&"boolean"!=typeof l)throw new Error((0,Q.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,f);const E=function ug(c,a,l){var f;if(c=(0,Q.m9)(c),Za("Reference.transaction",c._path),".length"===c.key||".keys"===c.key)throw"Reference.transaction failed: "+c.key+" is a read-only object.";const E=null===(f=null==l?void 0:l.applyLocally)||void 0===f||f,A=new Q.BH,J=sh(c,()=>{});return function sm(c,a,l,f,E,A){Hu(c,"transaction on "+a);const B={path:a,update:l,onComplete:f,status:null,order:ma(),applyLocally:A,retryCount:0,unwatcher:E,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},J=Gu(c,a,void 0);B.currentInputSnapshot=J;const le=B.update(J.val());if(void 0===le)B.unwatcher(),B.currentOutputSnapshotRaw=null,B.currentOutputSnapshotResolved=null,B.onComplete&&B.onComplete(null,!1,B.currentInputSnapshot);else{$h("transaction failed: Data returned ",le,B.path),B.status=0;const De=Na(c.transactionQueueTree_,a),pt=ha(De)||[];let Dt;pt.push(B),Vu(De,pt),"object"==typeof le&&null!==le&&(0,Q.r3)(le,".priority")?(Dt=(0,Q.DV)(le,".priority"),(0,Q.hu)(Uu(Dt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Dt=(Yd(c.serverSyncTree_,a)||qr.EMPTY_NODE).getPriority().val();const Yt=Pl(c),Sn=Ns(le,Dt),zn=Up(Sn,J,Yt);B.currentOutputSnapshotRaw=Sn,B.currentOutputSnapshotResolved=zn,B.currentWriteId=Hh(c);const Kr=Nf(c.serverSyncTree_,a,zn,B.currentWriteId,B.applyLocally);ml(c.eventQueue_,a,Kr),fd(c,c.transactionQueueTree_)}}(c._repo,c._path,a,(le,De,pt)=>{let Dt=null;le?A.reject(le):(Dt=new Ku(pt,new yl(c._repo,c._path),Li),A.resolve(new Fc(De,Dt)))},J,E),A.promise}(this._delegate,a,{applyLocally:f}).then(A=>new cg(A.committed,new wd(this.database,A.snapshot)));return l&&E.then(A=>l(null,A.committed,A.snapshot),A=>l(A,!1,null)),E}setPriority(a,l){(0,Q.Dv)("Reference.setPriority",1,2,arguments.length),(0,Q.Wj)("Reference.setPriority","onComplete",l,!0);const f=function am(c,a){c=(0,Q.m9)(c),Za("setPriority",c._path),eh("setPriority",a,!1);const l=new Q.BH;return em(c._repo,tr(c._path,".priority"),a,null,l.wrapCallback(()=>{})),l.promise}(this._delegate,a);return l&&f.then(()=>l(null),E=>l(E)),f}push(a,l){(0,Q.Dv)("Reference.push",0,2,arguments.length),(0,Q.Wj)("Reference.push","onComplete",l,!0);const f=function Xh(c,a){c=(0,Q.m9)(c),Za("push",c._path),qa("push",a,c._path,!0);const l=Yp(c._repo),f=Rp(l),E=Mc(c,f),A=Mc(c,f);let B;return B=null!=a?Yf(A,a).then(()=>A):Promise.resolve(A),E.then=B.then.bind(B),E.catch=B.then.bind(B,void 0),E}(this._delegate,a),E=f.then(B=>new wa(this.database,B));l&&E.then(()=>l(null),B=>l(B));const A=new wa(this.database,f);return A.then=E.then.bind(E),A.catch=E.catch.bind(E,void 0),A}onDisconnect(){return Za("Reference.onDisconnect",this._delegate._path),new _m(new Tc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Lc{constructor(a,l){this._delegate=a,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:fm,forceLongPolling:ep}}useEmulator(a,l,f={}){!function _d(c,a,l,f={}){(c=(0,Q.m9)(c))._checkNotDeleted("useEmulator"),c._instanceStarted&&mo("Cannot call useEmulator() after instance has already been initialized.");const E=c._repoInternal;let A;if(E.repoInfo_.nodeAdmin)f.mockUserToken&&mo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),A=new Br(Br.OWNER);else if(f.mockUserToken){const B="string"==typeof f.mockUserToken?f.mockUserToken:(0,Q.Sg)(f.mockUserToken,c.app.options.projectId);A=new Br(B)}!function Nc(c,a,l,f){c.repoInfo_=new Es(`${a}:${l}`,!1,c.repoInfo_.namespace,c.repoInfo_.webSocketOnly,c.repoInfo_.nodeAdmin,c.repoInfo_.persistenceKey,c.repoInfo_.includeNamespaceInQueryParams),f&&(c.authTokenProvider_=f)}(E,a,l,A)}(this._delegate,a,l,f)}ref(a){if((0,Q.Dv)("database.ref",0,1,arguments.length),a instanceof wa){const l=Zh(this._delegate,a.toString());return new wa(this,l)}{const l=Wf(this._delegate,a);return new wa(this,l)}}refFromURL(a){(0,Q.Dv)("database.refFromURL",1,1,arguments.length);const f=Zh(this._delegate,a);return new wa(this,f)}goOffline(){return(0,Q.Dv)("database.goOffline",0,0,arguments.length),function gm(c){(c=(0,Q.m9)(c))._checkNotDeleted("goOffline"),zh(c._repo)}(this._delegate)}goOnline(){return(0,Q.Dv)("database.goOnline",0,0,arguments.length),function mm(c){(c=(0,Q.m9)(c))._checkNotDeleted("goOnline"),function im(c){c.persistentConnection_&&c.persistentConnection_.resume(jh)}(c._repo)}(this._delegate)}}Lc.ServerValue={TIMESTAMP:function np(){return ch}(),increment:c=>function Ed(c){return{".sv":{increment:c}}}(c)};var dg=Object.freeze({__proto__:null,initStandalone:function Jy({app:c,url:a,version:l,customAuthImpl:f,namespace:E,nodeAdmin:A=!1}){El(l);const B=new rt.zt("auth-internal",new rt.H0("database-standalone"));return B.setComponent(new rt.wA("auth-internal",()=>f,"PRIVATE")),{instance:new Lc(uh(c,B,void 0,a,A),c),namespace:E}}});const sf=Lc.ServerValue;function Hr(c){return null==c}function gg(c){return"function"==typeof c.set}function mg(c,a){return gg(a)?a:c.ref(a)}function sy(c,a){if(function fg(c){return"string"==typeof c}(c))return a.stringCase();if(gg(c))return a.firebaseCase();if(function pg(c){return"function"==typeof c.exportVal}(c))return a.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof c)}function af(c,a,l="on",f=Se.z){return new ge.y(E=>{let A=null;return A=c[l](a,(B,J)=>{f.schedule(()=>{E.next({snapshot:B,prevKey:J})}),"once"===l&&f.schedule(()=>E.complete())},B=>{f.schedule(()=>E.error(B))}),"on"===l?{unsubscribe(){null!=A&&c.off(a,A)}}:{unsubscribe(){}}}).pipe((0,Be.U)(E=>{const{snapshot:A,prevKey:B}=E;let J=null;return A.exists()&&(J=A.key),{type:a,payload:A,prevKey:B,key:J}}),(0,j.B)())}function sp(c,a){const l=c.length;for(let f=0;f<l;f++)if(c[f].payload.key===a)return f;return-1}function Em(c,a){const{payload:l,prevKey:f,key:E}=a,A=sp(c,E),B=function yg(c,a){if(Hr(a))return 0;{const l=sp(c,a);return-1===l?c.length:l+1}}(c,f);switch(a.type){case"value":if(a.payload&&a.payload.exists()){let J=null;a.payload.forEach(le=>{const De={payload:le,type:"value",prevKey:J,key:le.key};return J=le.key,c=[...c,De],!1})}return c;case"child_added":if(A>-1){const J=c[A-1];(J&&J.key||null)!==f&&(c=c.filter(le=>le.payload.key!==l.key)).splice(B,0,a)}else{if(null==f)return[a,...c];(c=c.slice()).splice(B,0,a)}return c;case"child_removed":return c.filter(J=>J.payload.key!==l.key);case"child_changed":return c.map(J=>J.payload.key===E?a:J);case"child_moved":if(A>-1){const J=c.splice(A,1)[0];return(c=c.slice()).splice(B,0,J),c}return c;default:return c}}function op(c){return(Hr(c)||0===c.length)&&(c=["child_added","child_removed","child_changed","child_moved"]),c}function vg(c,a,l){return function ip(c,a,l){return af(c,"value","once",l).pipe((0,Ye.w)(f=>{const E=[(0,Oe.of)(f)];return a.forEach(A=>E.push(af(c,A,"on",l))),(0,Po.T)(...E).pipe((0,U.R)(Em,[]))}),(0,L.x)())}(c,a=op(a),l)}function ap(c,a,l){const f=(a=op(a)).map(E=>af(c,E,"on",l));return(0,Po.T)(...f)}function Eg(c,a){return function(f,E){return sy(f,{stringCase:()=>c.child(f)[a](E),firebaseCase:()=>f[a](E),snapshotCase:()=>f.ref[a](E)})}}function gu(c){return function(l){return l?sy(l,{stringCase:()=>c.child(l).remove(),firebaseCase:()=>l.remove(),snapshotCase:()=>l.ref.remove()}):c.remove()}}function lf(c,a){return function(){return af(c,"value","on",a)}}!function hg(c){c.INTERNAL.registerComponent(new rt.wA("database-compat",(a,{instanceIdentifier:l})=>{const f=a.getProvider("app-compat").getImmediate(),E=a.getProvider("database").getImmediate({identifier:l});return new Lc(E,f)},"PUBLIC").setServiceProps({Reference:wa,Query:Ia,Database:Lc,DataSnapshot:wd,enableLogging:tp,INTERNAL:dg,ServerValue:sf}).setMultipleInstances(!0)),c.registerVersion("@firebase/database-compat","0.2.3")}(ke.Z);const fh=new y.OlP("angularfire2.realtimeDatabaseURL"),ph=new y.OlP("angularfire2.database.use-emulator");let uf=(()=>{class c{constructor(l,f,E,A,B,J,le,De,pt,Dt,Yt,Sn,zn,Kr,oi){this.schedulers=J;const Mo=le,eo=(0,Ie.on)(l,B,f);De&&(0,ve.nw)(eo,B,pt,Yt,Sn,zn,Dt,Kr),this.database=(0,Ie.cc)(`${eo.name}.database.${E}`,"AngularFireDatabase",eo.name,()=>{const xs=B.runOutsideAngular(()=>eo.database(E||void 0));return Mo&&xs.useEmulator(...Mo),xs},[Mo])}list(l,f){const E=this.schedulers.ngZone.runOutsideAngular(()=>mg(this.database,l));let A=E;return f&&(A=f(E)),function hh(c,a){const l=a.schedulers.outsideAngular,f=a.schedulers.ngZone.run(()=>c.ref);return{query:c,update:Eg(f,"update"),set:Eg(f,"set"),push:E=>f.push(E),remove:gu(f),snapshotChanges:E=>vg(c,E,l).pipe(mt.iC),stateChanges:E=>ap(c,E,l).pipe(mt.iC),auditTrail:E=>function Im(c,a,l){return function _g(c,a,l){return function wm(c,a){return af(c,"value","on",a).pipe((0,Be.U)(l=>{let f;return l.payload.forEach(E=>(f=E.key,!1)),{data:l,lastKeyToLoad:f}}))}(c,l).pipe(function as(...c){const a=(0,ti.jO)(c);return(0,ue.e)((l,f)=>{const E=c.length,A=new Array(E);let B=c.map(()=>!1),J=!1;for(let le=0;le<E;le++)(0,ie.Xf)(c[le]).subscribe((0,Ne.x)(f,De=>{A[le]=De,!J&&!B[le]&&(B[le]=!0,(J=B.every(bt.y))&&(B=null))},wn.Z));l.subscribe((0,Ne.x)(f,le=>{if(J){const De=[le,...A];f.next(a?a(...De):De)}}))})}(a),(0,Be.U)(([E,A])=>{const B=E.lastKeyToLoad,J=A.map(le=>le.key);return{actions:A,lastKeyToLoad:B,loadedKeys:J}}),function ea(c){return(0,ue.e)((a,l)=>{let f=!1,E=0;a.subscribe((0,Ne.x)(l,A=>(f||(f=!c(A,E++)))&&l.next(A)))})}(E=>-1===E.loadedKeys.indexOf(E.lastKeyToLoad)),(0,Be.U)(E=>E.actions))}(c,ap(c,a).pipe((0,U.R)((E,A)=>[...E,A],[])),l)}(c,E,l).pipe(mt.iC),valueChanges:(E,A)=>vg(c,E,l).pipe((0,Be.U)(J=>J.map(le=>A&&A.idField?Object.assign(Object.assign({},le.payload.val()),{[A.idField]:le.key}):le.payload.val())),mt.iC)}}(A,this)}object(l){return function oy(c,a){return{query:c,snapshotChanges:()=>lf(c,a.schedulers.outsideAngular)().pipe(mt.iC),update:l=>c.ref.update(l),set:l=>c.ref.set(l),remove:()=>c.ref.remove(),valueChanges:()=>lf(c,a.schedulers.outsideAngular)().pipe(mt.iC,(0,Be.U)(f=>f.payload.exists()?f.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>mg(this.database,l)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return c.\u0275fac=function(l){return new(l||c)(y.LFG(Ie.Dh),y.LFG(Ie.xv,8),y.LFG(fh,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(mt.HU),y.LFG(ph,8),y.LFG(ve.zQ,8),y.LFG(ve.Qv,8),y.LFG(ve.L6,8),y.LFG(ve._Q,8),y.LFG(ve.rT,8),y.LFG(ve.lh,8),y.LFG(ve.f7,8),y.LFG(K.nm,8))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),bd=(()=>{class c{constructor(){T.Z.registerVersion("angularfire",mt.q4.full,"rtdb-compat")}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({providers:[uf]}),c})();const cf_firebaseConfig={apiKey:"AIzaSyBM5INSyhubHcyJ6Eg3poiD2QPLpEKiD0M",authDomain:"discarfrios-data.firebaseapp.com",projectId:"discarfrios-data",storageBucket:"discarfrios-data.appspot.com",messagingSenderId:"975726631456",appId:"1:975726631456:web:43f37568c5636c7e973a45"};let Bc=(()=>{class c{constructor(){}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275cmp=y.Xpm({type:c,selectors:[["app-root"]],decls:2,vars:0,template:function(l,f){1&l&&(y.TgZ(0,"ion-app"),y._UZ(1,"ion-router-outlet"),y.qZA())},dependencies:[de.dr,de.jP]}),c})();const lp=[{path:"home",loadChildren:()=>Promise.all([F.e(8592),F.e(4851)]).then(F.bind(F,4851)).then(c=>c.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"sign-up",loadChildren:()=>Promise.all([F.e(8592),F.e(4317)]).then(F.bind(F,4317)).then(c=>c.SignUpPageModule)},{path:"resetpassword",loadChildren:()=>Promise.all([F.e(8592),F.e(561)]).then(F.bind(F,561)).then(c=>c.ResetpasswordPageModule)},{path:"bulk-load",loadChildren:()=>Promise.all([F.e(8592),F.e(1832)]).then(F.bind(F,1832)).then(c=>c.BulkLoadPageModule)},{path:"seller",loadChildren:()=>F.e(8085).then(F.bind(F,8085)).then(c=>c.SellerPageModule)},{path:"hour/:codigo",loadChildren:()=>Promise.all([F.e(8592),F.e(8123)]).then(F.bind(F,8123)).then(c=>c.HourPageModule)},{path:"rutero-dia/:dia",loadChildren:()=>Promise.all([F.e(8592),F.e(8744)]).then(F.bind(F,8744)).then(c=>c.RuteroDiaPageModule)},{path:"rutero",loadChildren:()=>Promise.all([F.e(8592),F.e(7414)]).then(F.bind(F,7414)).then(c=>c.RuteroPageModule)},{path:"busqueda-rutero",loadChildren:()=>Promise.all([F.e(8592),F.e(1505)]).then(F.bind(F,1505)).then(c=>c.BusquedaRuteroPageModule)},{path:"rutero-orden-dia/:dia",loadChildren:()=>Promise.all([F.e(8592),F.e(3902)]).then(F.bind(F,3902)).then(c=>c.RuteroOrdenDiaPageModule)}];let df=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({imports:[te.Bz.forRoot(lp,{preloadingStrategy:te.wm}),te.Bz]}),c})();var Ig=F(4755),gh=F(9770),qu=F(2843),up=F(4968),bm=F(7272),mh=F(7579);const $c=new ge.y(wn.Z);var Vc=F(9300),ay=F(4033),hf=F(576);const wg={connector:()=>new mh.x};function Cm(c,a=wg){const{connector:l}=a;return(0,ue.e)((f,E)=>{const A=l();(0,ie.Xf)(c(function Dm(c){return new ge.y(a=>c.subscribe(a))}(A))).subscribe(E),E.add(f.subscribe(A))})}var mu=F(5698),ly=F(8505),Sm=F(9718),Dg=F(5577);function Am(c,a){return a?l=>(0,bm.z)(a.pipe((0,mu.q)(1),function bg(){return(0,ue.e)((c,a)=>{c.subscribe((0,Ne.x)(a,wn.Z))})}()),l.pipe(Am(c))):(0,Dg.z)((l,f)=>(0,ie.Xf)(c(l,f)).pipe((0,mu.q)(1),(0,Sm.h)(l)))}var Cg=F(3532);const Uc="Service workers are disabled or not supported by this browser";class dp{constructor(a){if(this.serviceWorker=a,a){const f=(0,up.R)(a,"controllerchange").pipe((0,Be.U)(()=>a.controller)),E=(0,gh.P)(()=>(0,Oe.of)(a.controller)),A=(0,bm.z)(E,f);this.worker=A.pipe((0,Vc.h)(pt=>!!pt)),this.registration=this.worker.pipe((0,Ye.w)(()=>a.getRegistration()));const De=(0,up.R)(a,"message").pipe((0,Be.U)(pt=>pt.data)).pipe((0,Vc.h)(pt=>pt&&pt.type)).pipe(function Tm(c){return c?a=>Cm(c)(a):a=>function La(c,a){const l=(0,hf.m)(c)?c:()=>c;return(0,hf.m)(a)?Cm(a,{connector:l}):f=>new ay.c(f,l)}(new mh.x)(a)}());De.connect(),this.events=De}else this.worker=this.events=this.registration=function Mm(c){return(0,gh.P)(()=>(0,qu._)(new Error(c)))}(Uc)}postMessage(a,l){return this.worker.pipe((0,mu.q)(1),(0,ly.b)(f=>{f.postMessage({action:a,...l})})).toPromise().then(()=>{})}postMessageWithOperation(a,l,f){const E=this.waitForOperationCompleted(f),A=this.postMessage(a,l);return Promise.all([A,E]).then(([,B])=>B)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(a){let l;return l="string"==typeof a?f=>f.type===a:f=>a.includes(f.type),this.events.pipe((0,Vc.h)(l))}nextEventOfType(a){return this.eventsOfType(a).pipe((0,mu.q)(1))}waitForOperationCompleted(a){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Vc.h)(l=>l.nonce===a),(0,mu.q)(1),(0,Be.U)(l=>{if(void 0!==l.result)return l.result;throw new Error(l.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let hp=(()=>{class c{get isEnabled(){return this.sw.isEnabled}constructor(l){if(this.sw=l,this.pushManager=null,this.subscriptionChanges=new mh.x,!l.isEnabled)return this.messages=$c,this.notificationClicks=$c,void(this.subscription=$c);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Be.U)(E=>E.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Be.U)(E=>E.data)),this.pushManager=this.sw.registration.pipe((0,Be.U)(E=>E.pushManager));const f=this.pushManager.pipe((0,Ye.w)(E=>E.getSubscription()));this.subscription=(0,Po.T)(f,this.subscriptionChanges)}requestSubscription(l){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Uc));const f={userVisibleOnly:!0};let E=this.decodeBase64(l.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),A=new Uint8Array(new ArrayBuffer(E.length));for(let B=0;B<E.length;B++)A[B]=E.charCodeAt(B);return f.applicationServerKey=A,this.pushManager.pipe((0,Ye.w)(B=>B.subscribe(f)),(0,mu.q)(1)).toPromise().then(B=>(this.subscriptionChanges.next(B),B))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,mu.q)(1),(0,Ye.w)(f=>{if(null===f)throw new Error("Not subscribed to push notifications.");return f.unsubscribe().then(E=>{if(!E)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Uc))}decodeBase64(l){return atob(l)}}return c.\u0275fac=function(l){return new(l||c)(y.LFG(dp))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac}),c})(),Sg=(()=>{class c{get isEnabled(){return this.sw.isEnabled}constructor(l){if(this.sw=l,!l.isEnabled)return this.versionUpdates=$c,this.available=$c,this.activated=$c,void(this.unrecoverable=$c);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Vc.h)(f=>"VERSION_READY"===f.type),(0,Be.U)(f=>({type:"UPDATE_AVAILABLE",current:f.currentVersion,available:f.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Uc));const l=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:l},l)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Uc));const l=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:l},l)}}return c.\u0275fac=function(l){return new(l||c)(y.LFG(dp))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac}),c})();const ff=new y.OlP("NGSW_REGISTER_SCRIPT");function yu(c,a,l,f){return()=>{if(!(0,Ig.NF)(f)||!("serviceWorker"in navigator)||!1===l.enabled)return;let E;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof l.registrationStrategy)E=l.registrationStrategy();else{const[B,...J]=(l.registrationStrategy||"registerWhenStable:30000").split(":");switch(B){case"registerImmediately":E=(0,Oe.of)(null);break;case"registerWithDelay":E=fp(+J[0]||0);break;case"registerWhenStable":E=J[0]?(0,Po.T)(xm(c),fp(+J[0])):xm(c);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${l.registrationStrategy}`)}}c.get(y.R0b).runOutsideAngular(()=>E.pipe((0,mu.q)(1)).subscribe(()=>navigator.serviceWorker.register(a,{scope:l.scope}).catch(B=>console.error("Service worker registration failed with:",B))))}}function fp(c){return(0,Oe.of)(null).pipe(function uy(c,a=Se.z){const l=function Tg(c=0,a,l=Se.P){let f=-1;return null!=a&&((0,Cg.K)(a)?l=a:f=a),new ge.y(E=>{let A=function cp(c){return c instanceof Date&&!isNaN(c)}(c)?+c-l.now():c;A<0&&(A=0);let B=0;return l.schedule(function(){E.closed||(E.next(B++),0<=f?this.schedule(void 0,f):E.complete())},A)})}(c,a);return Am(()=>l)}(c))}function xm(c){return c.get(y.z2F).isStable.pipe((0,Vc.h)(l=>l))}function Rm(c,a){return new dp((0,Ig.NF)(a)&&!1!==c.enabled?navigator.serviceWorker:void 0)}class pp{}function gp(c,a={}){return(0,y.MR2)([hp,Sg,{provide:ff,useValue:c},{provide:pp,useValue:a},{provide:dp,useFactory:Rm,deps:[pp,y.Lbi]},{provide:y.ip1,useFactory:yu,deps:[y.zs3,ff,pp,y.Lbi],multi:!0}])}let Ag=(()=>{class c{static register(l,f={}){return{ngModule:c,providers:[gp(l,f)]}}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({providers:[hp,Sg]}),c})(),yh=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=y.oAB({type:c,bootstrap:[Bc]}),c.\u0275inj=y.cJS({providers:[{provide:te.wN,useClass:de.r4}],imports:[v.b2,de.Pc.forRoot(),df,Ie.hO.initializeApp(cf_firebaseConfig),ve.ww,Qr.yb,ro,bd,Ag.register("ngsw-worker.js",{enabled:!(0,y.X6Q)(),registrationStrategy:"registerWhenStable:30000"})]}),c})();(0,y.G48)(),v.q6().bootstrapModule(yh).catch(c=>console.log(c))},5867:(cn,ut,F)=>{"use strict";F.d(ut,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=F(9681);(0,v.registerVersion)("firebase","9.9.1","app")},127:(cn,ut,F)=>{"use strict";F.d(ut,{Z:()=>v.Z});var v=F(3942);v.Z.registerVersion("firebase","9.9.1","app-compat")},1451:(cn,ut,F)=>{"use strict";F.r(ut);var v=F(5861),y=F(3942),te=F(2090),de=F(9681),Ie=F(7582),ve=F(1877),ge=F(4859);const $e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ye=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},mt=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new te.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new ve.Yd("@firebase/auth");function Q(D,...p){ye.logLevel<=ve.in.ERROR&&ye.error(`Auth (${de.SDK_VERSION}): ${D}`,...p)}function rt(D,...p){throw Te(D,...p)}function Ce(D,...p){return Te(D,...p)}function Ke(D,p,_){const M=Object.assign(Object.assign({},mt()),{[p]:_});return new te.LL("auth","Firebase",M).create(p,{appName:D.name})}function Ue(D,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&rt(D,"argument-error"),Ke(D,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Te(D,...p){if("string"!=typeof D){const _=p[0],M=[...p.slice(1)];return M[0]&&(M[0].appName=D.name),D._errorFactory.create(_,...M)}return ke.create(D,...p)}function q(D,p,..._){if(!D)throw Te(p,..._)}function He(D){const p="INTERNAL ASSERTION FAILED: "+D;throw Q(p),new Error(p)}function we(D,p){D||He(p)}const yt=new Map;function ht(D){we(D instanceof Function,"Expected a class definition");let p=yt.get(D);return p?(we(p instanceof D,"Instance stored in cache mismatched with class"),p):(p=new D,yt.set(D,p),p)}function dt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function tt(){return"http:"===Me()||"https:"===Me()}function Me(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class qe{constructor(p,_){this.shortDelay=p,this.longDelay=_,we(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,te.uI)()||(0,te.b$)()}get(){return function Ae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tt()||(0,te.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Et(D,p){we(D.emulator,"Emulator should always be set here");const{url:_}=D.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Bt{static initialize(p,_,M){this.fetchImpl=p,_&&(this.headersImpl=_),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rn=new qe(3e4,6e4);function nn(D,p){return D.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:D.tenantId}):p}function Mt(D,p,_,M){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,v.Z)(function*(D,p,_,M,X={}){return St(D,X,(0,v.Z)(function*(){let he={},ct={};M&&("GET"===p?ct=M:he={body:JSON.stringify(M)});const Lt=(0,te.xO)(Object.assign({key:D.config.apiKey},ct)).slice(1),yn=yield D._getAdditionalHeaders();return yn["Content-Type"]="application/json",D.languageCode&&(yn["X-Firebase-Locale"]=D.languageCode),Bt.fetch()(Zt(D,D.config.apiHost,_,Lt),Object.assign({method:p,headers:yn,referrerPolicy:"no-referrer"},he))}))})).apply(this,arguments)}function St(D,p,_){return It.apply(this,arguments)}function It(){return(It=(0,v.Z)(function*(D,p,_){D._canInitEmulator=!1;const M=Object.assign(Object.assign({},on),p);try{const X=new Mn(D),he=yield Promise.race([_(),X.promise]);X.clearNetworkTimeout();const ct=yield he.json();if("needConfirmation"in ct)throw Ct(D,"account-exists-with-different-credential",ct);if(he.ok&&!("errorMessage"in ct))return ct;{const Lt=he.ok?ct.errorMessage:ct.error.message,[yn,Hn]=Lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yn)throw Ct(D,"credential-already-in-use",ct);if("EMAIL_EXISTS"===yn)throw Ct(D,"email-already-in-use",ct);if("USER_DISABLED"===yn)throw Ct(D,"user-disabled",ct);const br=M[yn]||yn.toLowerCase().replace(/[_\s]+/g,"-");if(Hn)throw Ke(D,br,Hn);rt(D,br)}}catch(X){if(X instanceof te.ZR)throw X;rt(D,"network-request-failed")}})).apply(this,arguments)}function Ut(D,p,_,M){return kt.apply(this,arguments)}function kt(){return(kt=(0,v.Z)(function*(D,p,_,M,X={}){const he=yield Mt(D,p,_,M,X);return"mfaPendingCredential"in he&&rt(D,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function Zt(D,p,_,M){const X=`${p}${_}?${M}`;return D.config.emulator?Et(D.config,X):`${D.config.apiScheme}://${X}`}class Mn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,M)=>{this.timer=setTimeout(()=>M(Ce(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ct(D,p,_){const M={appName:D.name};_.email&&(M.email=_.email),_.phoneNumber&&(M.phoneNumber=_.phoneNumber);const X=Ce(D,p,M);return X.customData._tokenResponse=_,X}function Fn(){return(Fn=(0,v.Z)(function*(D,p){return Mt(D,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Qn(){return(Qn=(0,v.Z)(function*(D,p){return Mt(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yn(){return(Yn=(0,v.Z)(function*(D,p){return Mt(D,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function fr(D){if(D)try{const p=new Date(Number(D));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function zr(){return(zr=(0,v.Z)(function*(D,p=!1){const _=(0,te.m9)(D),M=yield _.getIdToken(p),X=Yr(M);q(X&&X.exp&&X.auth_time&&X.iat,_.auth,"internal-error");const he="object"==typeof X.firebase?X.firebase:void 0,ct=null==he?void 0:he.sign_in_provider;return{claims:X,token:M,authTime:fr(Mr(X.auth_time)),issuedAtTime:fr(Mr(X.iat)),expirationTime:fr(Mr(X.exp)),signInProvider:ct||null,signInSecondFactor:(null==he?void 0:he.sign_in_second_factor)||null}})).apply(this,arguments)}function Mr(D){return 1e3*Number(D)}function Yr(D){var p;const[_,M,X]=D.split(".");if(void 0===_||void 0===M||void 0===X)return Q("JWT malformed, contained fewer than 3 sections"),null;try{const he=(0,te.tV)(M);return he?JSON.parse(he):(Q("Failed to decode base64 JWT payload"),null)}catch(he){return Q("Caught error parsing JWT payload as JSON",null===(p=he)||void 0===p?void 0:p.toString()),null}}function Gn(D,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,v.Z)(function*(D,p,_=!1){if(_)return p;try{return yield p}catch(M){throw M instanceof te.ZR&&function yr({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(M)&&D.auth.currentUser===D&&(yield D.auth.signOut()),M}})).apply(this,arguments)}class vr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const X=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const M=this.getInterval(p);this.timerId=setTimeout((0,v.Z)(function*(){yield _.iteration()}),M)}iteration(){var p=this;return(0,v.Z)(function*(){var _;try{yield p.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===(null===(_=M)||void 0===_?void 0:_.code)&&p.schedule(!0))}p.schedule()})()}}class sr{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Si(D){return Er.apply(this,arguments)}function Er(){return Er=(0,v.Z)(function*(D){var p;const _=D.auth,M=yield D.getIdToken(),X=yield Gn(D,function Gr(D,p){return Yn.apply(this,arguments)}(_,{idToken:M}));q(null==X?void 0:X.users.length,_,"internal-error");const he=X.users[0];D._notifyReloadListener(he);const ct=null!==(p=he.providerUserInfo)&&void 0!==p&&p.length?function je(D){return D.map(p=>{var{providerId:_}=p,M=(0,Ie._T)(p,["providerId"]);return{providerId:_,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(he.providerUserInfo):[],Lt=function et(D,p){return[...D.filter(M=>!p.some(X=>X.providerId===M.providerId)),...p]}(D.providerData,ct),br=!!D.isAnonymous&&!(D.email&&he.passwordHash||null!=Lt&&Lt.length),ar={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Lt,metadata:new sr(he.createdAt,he.lastLoginAt),isAnonymous:br};Object.assign(D,ar)}),Er.apply(this,arguments)}function st(){return(st=(0,v.Z)(function*(D){const p=(0,te.m9)(D);yield Si(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ze(){return(ze=(0,v.Z)(function*(D,p){const _=yield St(D,{},(0,v.Z)(function*(){const M=(0,te.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:X,apiKey:he}=D.config,ct=Zt(D,X,"/v1/token",`key=${he}`),Lt=yield D._getAdditionalHeaders();return Lt["Content-Type"]="application/x-www-form-urlencoded",Bt.fetch()(ct,{method:"POST",headers:Lt,body:M})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){q(p.idToken,"internal-error"),q(typeof p.idToken<"u","internal-error"),q(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Jr(D){const p=Yr(D);return q(p,"internal-error"),q(typeof p.exp<"u","internal-error"),q(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var M=this;return(0,v.Z)(function*(){return q(!M.accessToken||M.refreshToken,p,"user-token-expired"),_||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(p,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var M=this;return(0,v.Z)(function*(){const{accessToken:X,refreshToken:he,expiresIn:ct}=yield function Qe(D,p){return ze.apply(this,arguments)}(p,_);M.updateTokensAndExpiration(X,he,Number(ct))})()}updateTokensAndExpiration(p,_,M){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(p,_){const{refreshToken:M,accessToken:X,expirationTime:he}=_,ct=new $t;return M&&(q("string"==typeof M,"internal-error",{appName:p}),ct.refreshToken=M),X&&(q("string"==typeof X,"internal-error",{appName:p}),ct.accessToken=X),he&&(q("number"==typeof he,"internal-error",{appName:p}),ct.expirationTime=he),ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return He("not implemented")}}function hn(D,p){q("string"==typeof D||typeof D>"u","internal-error",{appName:p})}class ln{constructor(p){var{uid:_,auth:M,stsTokenManager:X}=p,he=(0,Ie._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=M,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new sr(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,v.Z)(function*(){const M=yield Gn(_,_.stsTokenManager.getToken(_.auth,p));return q(M,_.auth,"internal-error"),_.accessToken!==M&&(_.accessToken=M,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),M})()}getIdTokenResult(p){return function $n(D){return zr.apply(this,arguments)}(this,p)}reload(){return function Qi(D){return st.apply(this,arguments)}(this)}_assign(p){this!==p&&(q(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ln(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var M=this;return(0,v.Z)(function*(){let X=!1;p.idToken&&p.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(p),X=!0),_&&(yield Si(M)),yield M.auth._persistUserIfCurrent(M),X&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var p=this;return(0,v.Z)(function*(){const _=yield p.getIdToken();return yield Gn(p,function nr(D,p){return Fn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var M,X,he,ct,Lt,yn,Hn,br;const ar=null!==(M=_.displayName)&&void 0!==M?M:void 0,Ws=null!==(X=_.email)&&void 0!==X?X:void 0,Oa=null!==(he=_.phoneNumber)&&void 0!==he?he:void 0,ql=null!==(ct=_.photoURL)&&void 0!==ct?ct:void 0,gc=null!==(Lt=_.tenantId)&&void 0!==Lt?Lt:void 0,ad=null!==(yn=_._redirectEventId)&&void 0!==yn?yn:void 0,Ud=null!==(Hn=_.createdAt)&&void 0!==Hn?Hn:void 0,dl=null!==(br=_.lastLoginAt)&&void 0!==br?br:void 0,{uid:Zl,emailVerified:Mf,isAnonymous:Ph,providerData:mc,stsTokenManager:jd}=_;q(Zl&&jd,p,"internal-error");const da=$t.fromJSON(this.name,jd);q("string"==typeof Zl,p,"internal-error"),hn(ar,p.name),hn(Ws,p.name),q("boolean"==typeof Mf,p,"internal-error"),q("boolean"==typeof Ph,p,"internal-error"),hn(Oa,p.name),hn(ql,p.name),hn(gc,p.name),hn(ad,p.name),hn(Ud,p.name),hn(dl,p.name);const Hd=new ln({uid:Zl,auth:p,email:Ws,emailVerified:Mf,displayName:ar,isAnonymous:Ph,photoURL:ql,phoneNumber:Oa,tenantId:gc,stsTokenManager:da,createdAt:Ud,lastLoginAt:dl});return mc&&Array.isArray(mc)&&(Hd.providerData=mc.map(Gd=>Object.assign({},Gd))),ad&&(Hd._redirectEventId=ad),Hd}static _fromIdTokenResponse(p,_,M=!1){return(0,v.Z)(function*(){const X=new $t;X.updateFromServerResponse(_);const he=new ln({uid:_.localId,auth:p,stsTokenManager:X,isAnonymous:M});return yield Si(he),he})()}}const Tn=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(_,M){var X=this;return(0,v.Z)(function*(){X.storage[_]=M})()}_get(_){var M=this;return(0,v.Z)(function*(){const X=M.storage[_];return void 0===X?null:X})()}_remove(_){var M=this;return(0,v.Z)(function*(){delete M.storage[_]})()}_addListener(_,M){}_removeListener(_,M){}}return D.type="NONE",D})();function _t(D,p,_){return`firebase:${D}:${p}:${_}`}class Ve{constructor(p,_,M){this.persistence=p,this.auth=_,this.userKey=M;const{config:X,name:he}=this.auth;this.fullUserKey=_t(this.userKey,X.apiKey,he),this.fullPersistenceKey=_t("persistence",X.apiKey,he),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,v.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?ln._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,v.Z)(function*(){if(_.persistence===p)return;const M=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,M?_.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,M="authUser"){return(0,v.Z)(function*(){if(!_.length)return new Ve(ht(Tn),p,M);const X=(yield Promise.all(_.map(function(){var Hn=(0,v.Z)(function*(br){if(yield br._isAvailable())return br});return function(br){return Hn.apply(this,arguments)}}()))).filter(Hn=>Hn);let he=X[0]||ht(Tn);const ct=_t(M,p.config.apiKey,p.name);let Lt=null;for(const Hn of _)try{const br=yield Hn._get(ct);if(br){const ar=ln._fromJSON(p,br);Hn!==he&&(Lt=ar),he=Hn;break}}catch{}const yn=X.filter(Hn=>Hn._shouldAllowMigration);return he._shouldAllowMigration&&yn.length?(he=yn[0],Lt&&(yield he._set(ct,Lt.toJSON())),yield Promise.all(_.map(function(){var Hn=(0,v.Z)(function*(br){if(br!==he)try{yield br._remove(ct)}catch{}});return function(br){return Hn.apply(this,arguments)}}())),new Ve(he,p,M)):new Ve(he,p,M)})()}}function xe(D){const p=D.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(An(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(gt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(pr(p))return"Blackberry";if(Vr(p))return"Webos";if(Nt(p))return"Safari";if((p.includes("chrome/")||fn(p))&&!p.includes("edge/"))return"Chrome";if(Un(p))return"Android";{const M=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function gt(D=(0,te.z$)()){return/firefox\//i.test(D)}function Nt(D=(0,te.z$)()){const p=D.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function fn(D=(0,te.z$)()){return/crios\//i.test(D)}function An(D=(0,te.z$)()){return/iemobile/i.test(D)}function Un(D=(0,te.z$)()){return/android/i.test(D)}function pr(D=(0,te.z$)()){return/blackberry/i.test(D)}function Vr(D=(0,te.z$)()){return/webos/i.test(D)}function qn(D=(0,te.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function fi(D=(0,te.z$)()){return qn(D)||Un(D)||Vr(D)||pr(D)||/windows phone/i.test(D)||An(D)}function si(D,p=[]){let _;switch(D){case"Browser":_=xe((0,te.z$)());break;case"Worker":_=`${xe((0,te.z$)())}-${D}`;break;default:_=D}const M=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${de.SDK_VERSION}/${M}`}class gr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const M=he=>new Promise((ct,Lt)=>{try{ct(p(he))}catch(yn){Lt(yn)}});M.onAbort=_,this.queue.push(M);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,v.Z)(function*(){var M;if(_.auth.currentUser===p)return;const X=[];try{for(const he of _.queue)yield he(p),he.onAbort&&X.push(he.onAbort)}catch(he){X.reverse();for(const ct of X)try{ct()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(M=he)||void 0===M?void 0:M.message})}})()}}class Ir{constructor(p,_,M){this.app=p,this.heartbeatServiceProvider=_,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pi(this),this.idTokenSubscription=new Pi(this),this.beforeStateQueue=new gr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,_){var M=this;return _&&(this._popupRedirectResolver=ht(_)),this._initializationPromise=this.queue((0,v.Z)(function*(){var X,he;if(!M._deleted&&(M.persistenceManager=yield Ve.create(M,p),!M._deleted)){if(null!==(X=M._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(_),M.lastNotifiedUid=(null===(he=M.currentUser)||void 0===he?void 0:he.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,v.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,v.Z)(function*(){var M;const X=yield _.assertedPersistence.getCurrentUser();let he=X,ct=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Lt=null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId,yn=null==he?void 0:he._redirectEventId,Hn=yield _.tryRedirectSignIn(p);(!Lt||Lt===yn)&&null!=Hn&&Hn.user&&(he=Hn.user,ct=!0)}if(!he)return _.directlySetCurrentUser(null);if(!he._redirectEventId){if(ct)try{yield _.beforeStateQueue.runMiddleware(he)}catch(Lt){he=X,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Lt))}return he?_.reloadAndSetCurrentUserOrClear(he):_.directlySetCurrentUser(null)}return q(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===he._redirectEventId?_.directlySetCurrentUser(he):_.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(p){var _=this;return(0,v.Z)(function*(){let M=null;try{M=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,v.Z)(function*(){var M;try{yield Si(p)}catch(X){if("auth/network-request-failed"!==(null===(M=X)||void 0===M?void 0:M.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Le(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var p=this;return(0,v.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,v.Z)(function*(){const M=p?(0,te.m9)(p):null;return M&&q(M.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(M&&M._clone(_))})()}_updateCurrentUser(p,_=!1){var M=this;return(0,v.Z)(function*(){if(!M._deleted)return p&&q(M.tenantId===p.tenantId,M,"tenant-id-mismatch"),_||(yield M.beforeStateQueue.runMiddleware(p)),M.queue((0,v.Z)(function*(){yield M.directlySetCurrentUser(p),M.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,v.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,v.Z)(function*(){yield _.assertedPersistence.setPersistence(ht(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new te.LL("auth","Firebase",p())}onAuthStateChanged(p,_,M){return this.registerStateListener(this.authStateSubscription,p,_,M)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,M){return this.registerStateListener(this.idTokenSubscription,p,_,M)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var M=this;return(0,v.Z)(function*(){const X=yield M.getOrInitRedirectPersistenceManager(_);return null===p?X.removeCurrentUser():X.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,v.Z)(function*(){if(!_.redirectPersistenceManager){const M=p&&ht(p)||_._popupRedirectResolver;q(M,_,"argument-error"),_.redirectPersistenceManager=yield Ve.create(_,[ht(M._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,v.Z)(function*(){var M,X;return _._isInitialized&&(yield _.queue((0,v.Z)(function*(){}))),(null===(M=_._currentUser)||void 0===M?void 0:M._redirectEventId)===p?_._currentUser:(null===(X=_.redirectUser)||void 0===X?void 0:X._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,v.Z)(function*(){if(p===_.currentUser)return _.queue((0,v.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,M,X){if(this._deleted)return()=>{};const he="function"==typeof _?_:_.next.bind(_),ct=this._isInitialized?Promise.resolve():this._initializationPromise;return q(ct,this,"internal-error"),ct.then(()=>he(this.currentUser)),"function"==typeof _?p.addObserver(_,M,X):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,v.Z)(function*(){_.currentUser&&_.currentUser!==p&&(_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh()),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=si(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,v.Z)(function*(){var _;const M={"X-Client-Version":p.clientVersion};p.app.options.appId&&(M["X-Firebase-gmpid"]=p.app.options.appId);const X=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return X&&(M["X-Firebase-Client"]=X),M})()}}function Pr(D){return(0,te.m9)(D)}class Pi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,te.ne)(_=>this.observer=_)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function li(D){const p=D.indexOf(":");return p<0?"":D.substr(0,p+1)}function Nr(D){if(!D)return null;const p=Number(D);return isNaN(p)?null:p}class Bi{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return He("not implemented")}_getIdTokenResponse(p){return He("not implemented")}_linkToIdToken(p,_){return He("not implemented")}_getReauthenticationResolver(p){return He("not implemented")}}function wi(D,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,v.Z)(function*(D,p){return Mt(D,"POST","/v1/accounts:resetPassword",nn(D,p))})).apply(this,arguments)}function Ni(D,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,v.Z)(function*(D,p){return Mt(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function rs(){return(rs=(0,v.Z)(function*(D,p){return Mt(D,"POST","/v1/accounts:update",nn(D,p))})).apply(this,arguments)}function hs(){return(hs=(0,v.Z)(function*(D,p){return Ut(D,"POST","/v1/accounts:signInWithPassword",nn(D,p))})).apply(this,arguments)}function es(D,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,v.Z)(function*(D,p){return Mt(D,"POST","/v1/accounts:sendOobCode",nn(D,p))})).apply(this,arguments)}function se(){return(se=(0,v.Z)(function*(D,p){return es(D,p)})).apply(this,arguments)}function Ze(){return(Ze=(0,v.Z)(function*(D,p){return es(D,p)})).apply(this,arguments)}function nt(){return(nt=(0,v.Z)(function*(D,p){return es(D,p)})).apply(this,arguments)}function Tt(){return(Tt=(0,v.Z)(function*(D,p){return es(D,p)})).apply(this,arguments)}function jt(){return(jt=(0,v.Z)(function*(D,p){return Ut(D,"POST","/v1/accounts:signInWithEmailLink",nn(D,p))})).apply(this,arguments)}function En(){return(En=(0,v.Z)(function*(D,p){return Ut(D,"POST","/v1/accounts:signInWithEmailLink",nn(D,p))})).apply(this,arguments)}class gn extends Bi{constructor(p,_,M,X=null){super("password",M),this._email=p,this._password=_,this._tenantId=X}static _fromEmailAndPassword(p,_){return new gn(p,_,"password")}static _fromEmailAndCode(p,_,M=null){return new gn(p,_,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(null!=_&&_.email&&null!=_&&_.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,v.Z)(function*(){switch(_.signInMethod){case"password":return function ji(D,p){return hs.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Wt(D,p){return jt.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:rt(p,"internal-error")}})()}_linkToIdToken(p,_){var M=this;return(0,v.Z)(function*(){switch(M.signInMethod){case"password":return Ni(p,{idToken:_,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function Ft(D,p){return En.apply(this,arguments)}(p,{idToken:_,email:M._email,oobCode:M._password});default:rt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Pn(D,p){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,v.Z)(function*(D,p){return Ut(D,"POST","/v1/accounts:signInWithIdp",nn(D,p))})).apply(this,arguments)}class lt extends Bi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new lt(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):rt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:X}=_,he=(0,Ie._T)(_,["providerId","signInMethod"]);if(!M||!X)return null;const ct=new lt(M,X);return ct.idToken=he.idToken||void 0,ct.accessToken=he.accessToken||void 0,ct.secret=he.secret,ct.nonce=he.nonce,ct.pendingToken=he.pendingToken||null,ct}_getIdTokenResponse(p){return Pn(p,this.buildRequest())}_linkToIdToken(p,_){const M=this.buildRequest();return M.idToken=_,Pn(p,M)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Pn(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,te.xO)(_)}return p}}function sn(){return(sn=(0,v.Z)(function*(D,p){return Mt(D,"POST","/v1/accounts:sendVerificationCode",nn(D,p))})).apply(this,arguments)}function lr(){return(lr=(0,v.Z)(function*(D,p){return Ut(D,"POST","/v1/accounts:signInWithPhoneNumber",nn(D,p))})).apply(this,arguments)}function Zn(){return(Zn=(0,v.Z)(function*(D,p){const _=yield Ut(D,"POST","/v1/accounts:signInWithPhoneNumber",nn(D,p));if(_.temporaryProof)throw Ct(D,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const vn={USER_NOT_FOUND:"user-not-found"};function Rr(){return(Rr=(0,v.Z)(function*(D,p){return Ut(D,"POST","/v1/accounts:signInWithPhoneNumber",nn(D,Object.assign(Object.assign({},p),{operation:"REAUTH"})),vn)})).apply(this,arguments)}class ni extends Bi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new ni({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new ni({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function In(D,p){return lr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function ei(D,p){return Zn.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Wn(D,p){return Rr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:M,verificationCode:X}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:M,code:X}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:M,phoneNumber:X,temporaryProof:he}=p;return M||_||X||he?new ni({verificationId:_,verificationCode:M,phoneNumber:X,temporaryProof:he}):null}}class fs{constructor(p){var _,M,X,he,ct,Lt;const yn=(0,te.zd)((0,te.pd)(p)),Hn=null!==(_=yn.apiKey)&&void 0!==_?_:null,br=null!==(M=yn.oobCode)&&void 0!==M?M:null,ar=function is(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=yn.mode)&&void 0!==X?X:null);q(Hn&&br&&ar,"argument-error"),this.apiKey=Hn,this.operation=ar,this.code=br,this.continueUrl=null!==(he=yn.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(ct=yn.languageCode)&&void 0!==ct?ct:null,this.tenantId=null!==(Lt=yn.tenantId)&&void 0!==Lt?Lt:null}static parseLink(p){const _=function bi(D){const p=(0,te.zd)((0,te.pd)(D)).link,_=p?(0,te.zd)((0,te.pd)(p)).deep_link_id:null,M=(0,te.zd)((0,te.pd)(D)).deep_link_id;return(M?(0,te.zd)((0,te.pd)(M)).link:null)||M||_||p||D}(p);try{return new fs(_)}catch{return null}}}let Fs=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(_,M){return gn._fromEmailAndPassword(_,M)}static credentialWithLink(_,M){const X=fs.parseLink(M);return q(X,"argument-error"),gn._fromEmailAndCode(_,X.code,X.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class ss{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class jn extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Is extends jn{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return q("providerId"in _&&"signInMethod"in _,"argument-error"),lt._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return q(p.idToken||p.accessToken,"argument-error"),lt._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Is.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Is.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:M,oauthTokenSecret:X,pendingToken:he,nonce:ct,providerId:Lt}=p;if(!M&&!X&&!_&&!he||!Lt)return null;try{return new Is(Lt)._credential({idToken:_,accessToken:M,nonce:ct,pendingToken:he})}catch{return null}}}let Ls=(()=>{class D extends jn{constructor(){super("facebook.com")}static credential(_){return lt._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Ys=(()=>{class D extends jn{constructor(){super("google.com"),this.addScope("profile")}static credential(_,M){return lt._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:M})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:M,oauthAccessToken:X}=_;if(!M&&!X)return null;try{return D.credential(M,X)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),ri=(()=>{class D extends jn{constructor(){super("github.com")}static credential(_){return lt._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class ps extends Bi{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Pn(p,this.buildRequest())}_linkToIdToken(p,_){const M=this.buildRequest();return M.idToken=_,Pn(p,M)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Pn(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:X,pendingToken:he}=_;return M&&X&&he&&M===X?new ps(M,he):null}static _create(p,_){return new ps(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xi extends ss{constructor(p){q(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return xi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return xi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=ps.fromJSON(p);return q(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:M}=p;if(!_||!M)return null;try{return ps._create(M,_)}catch{return null}}}let Bs=(()=>{class D extends jn{constructor(){super("twitter.com")}static credential(_,M){return lt._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:M})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:M,oauthTokenSecret:X}=_;if(!M||!X)return null;try{return D.credential(M,X)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function gs(D,p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,v.Z)(function*(D,p){return Ut(D,"POST","/v1/accounts:signUp",nn(D,p))})).apply(this,arguments)}class os{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,M,X=!1){return(0,v.Z)(function*(){const he=yield ln._fromIdTokenResponse(p,M,X),ct=jo(M);return new os({user:he,providerId:ct,_tokenResponse:M,operationType:_})})()}static _forOperation(p,_,M){return(0,v.Z)(function*(){yield p._updateTokensIfNecessary(M,!0);const X=jo(M);return new os({user:p,providerId:X,_tokenResponse:M,operationType:_})})()}}function jo(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function pa(){return(pa=(0,v.Z)(function*(D){var p;const _=Pr(D);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new os({user:_.currentUser,providerId:null,operationType:"signIn"});const M=yield gs(_,{returnSecureToken:!0}),X=yield os._fromIdTokenResponse(_,"signIn",M,!0);return yield _._updateCurrentUser(X.user),X})).apply(this,arguments)}class $s extends te.ZR{constructor(p,_,M,X){var he;super(_.code,_.message),this.operationType=M,this.user=X,Object.setPrototypeOf(this,$s.prototype),this.customData={appName:p.name,tenantId:null!==(he=p.tenantId)&&void 0!==he?he:void 0,_serverResponse:_.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(p,_,M,X){return new $s(p,_,M,X)}}function Ro(D,p,_,M){return("reauthenticate"===p?_._getReauthenticationResolver(D):_._getIdTokenResponse(D)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?$s._fromErrorAndOperation(D,he,p,M):he})}function pi(D){return new Set(D.map(({providerId:p})=>p).filter(p=>!!p))}function ms(){return ms=(0,v.Z)(function*(D,p){const _=(0,te.m9)(D);yield bo(!0,_,p);const{providerUserInfo:M}=yield function On(D,p){return Qn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),X=pi(M||[]);return _.providerData=_.providerData.filter(he=>X.has(he.providerId)),X.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),ms.apply(this,arguments)}function ys(D,p){return $i.apply(this,arguments)}function $i(){return($i=(0,v.Z)(function*(D,p,_=!1){const M=yield Gn(D,p._linkToIdToken(D.auth,yield D.getIdToken()),_);return os._forOperation(D,"link",M)})).apply(this,arguments)}function bo(D,p,_){return vs.apply(this,arguments)}function vs(){return(vs=(0,v.Z)(function*(D,p,_){yield Si(p);const X=!1===D?"provider-already-linked":"no-such-provider";q(pi(p.providerData).has(_)===D,p.auth,X)})).apply(this,arguments)}function Sr(D,p){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,v.Z)(function*(D,p,_=!1){var M;const{auth:X}=D,he="reauthenticate";try{const ct=yield Gn(D,Ro(X,he,p,D),_);q(ct.idToken,X,"internal-error");const Lt=Yr(ct.idToken);q(Lt,X,"internal-error");const{sub:yn}=Lt;return q(D.uid===yn,X,"user-mismatch"),os._forOperation(D,he,ct)}catch(ct){throw"auth/user-not-found"===(null===(M=ct)||void 0===M?void 0:M.code)&&rt(X,"user-mismatch"),ct}})).apply(this,arguments)}function no(D,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,v.Z)(function*(D,p,_=!1){const M="signIn",X=yield Ro(D,M,p),he=yield os._fromIdTokenResponse(D,M,X);return _||(yield D._updateCurrentUser(he.user)),he})).apply(this,arguments)}function mr(D,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,v.Z)(function*(D,p){return no(Pr(D),p)})).apply(this,arguments)}function Ho(D,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,v.Z)(function*(D,p){const _=(0,te.m9)(D);return yield bo(!1,_,p.providerId),ys(_,p)})).apply(this,arguments)}function $a(D,p){return ba.apply(this,arguments)}function ba(){return(ba=(0,v.Z)(function*(D,p){return Sr((0,te.m9)(D),p)})).apply(this,arguments)}function C(){return(C=(0,v.Z)(function*(D,p){return Ut(D,"POST","/v1/accounts:signInWithCustomToken",nn(D,p))})).apply(this,arguments)}function T(){return T=(0,v.Z)(function*(D,p){const _=Pr(D),M=yield function Da(D,p){return C.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),X=yield os._fromIdTokenResponse(_,"signIn",M);return yield _._updateCurrentUser(X.user),X}),T.apply(this,arguments)}class G{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?fe._fromServerResponse(p,_):rt(p,"internal-error")}}class fe extends G{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new fe(_)}}function Gt(D,p,_){var M;q((null===(M=_.url)||void 0===M?void 0:M.length)>0,D,"invalid-continue-uri"),q(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(q(_.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(q(_.android.packageName.length>0,D,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Jn(){return Jn=(0,v.Z)(function*(D,p,_){const M=(0,te.m9)(D),X={requestType:"PASSWORD_RESET",email:p};_&&Gt(M,X,_),yield function Ee(D,p){return Ze.apply(this,arguments)}(M,X)}),Jn.apply(this,arguments)}function Lr(){return(Lr=(0,v.Z)(function*(D,p,_){yield wi((0,te.m9)(D),{oobCode:p,newPassword:_})})).apply(this,arguments)}function Do(){return Do=(0,v.Z)(function*(D,p){yield function Ji(D,p){return rs.apply(this,arguments)}((0,te.m9)(D),{oobCode:p})}),Do.apply(this,arguments)}function Ps(D,p){return ro.apply(this,arguments)}function ro(){return(ro=(0,v.Z)(function*(D,p){const _=(0,te.m9)(D),M=yield wi(_,{oobCode:p}),X=M.requestType;switch(q(X,_,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(M.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(M.mfaInfo,_,"internal-error");default:q(M.email,_,"internal-error")}let he=null;return M.mfaInfo&&(he=G._fromServerResponse(Pr(_),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:he},operation:X}})).apply(this,arguments)}function Po(){return(Po=(0,v.Z)(function*(D,p){const{data:_}=yield Ps((0,te.m9)(D),p);return _.email})).apply(this,arguments)}function U(){return(U=(0,v.Z)(function*(D,p,_){const M=Pr(D),X=yield gs(M,{returnSecureToken:!0,email:p,password:_}),he=yield os._fromIdTokenResponse(M,"signIn",X);return yield M._updateCurrentUser(he.user),he})).apply(this,arguments)}function bt(){return bt=(0,v.Z)(function*(D,p,_){const M=(0,te.m9)(D),X={requestType:"EMAIL_SIGNIN",email:p};q(_.handleCodeInApp,M,"argument-error"),_&&Gt(M,X,_),yield function pe(D,p){return nt.apply(this,arguments)}(M,X)}),bt.apply(this,arguments)}function as(){return(as=(0,v.Z)(function*(D,p,_){const M=(0,te.m9)(D),X=Fs.credentialWithLink(p,_||dt());return q(X._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),mr(M,X)})).apply(this,arguments)}function Co(){return(Co=(0,v.Z)(function*(D,p){return Mt(D,"POST","/v1/accounts:createAuthUri",nn(D,p))})).apply(this,arguments)}function qs(){return qs=(0,v.Z)(function*(D,p){const M={identifier:p,continueUri:tt()?dt():"http://localhost"},{signinMethods:X}=yield function ea(D,p){return Co.apply(this,arguments)}((0,te.m9)(D),M);return X||[]}),qs.apply(this,arguments)}function ui(){return ui=(0,v.Z)(function*(D,p){const _=(0,te.m9)(D),X={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};p&&Gt(_.auth,X,p);const{email:he}=yield function Hi(D,p){return se.apply(this,arguments)}(_.auth,X);he!==D.email&&(yield D.reload())}),ui.apply(this,arguments)}function el(){return el=(0,v.Z)(function*(D,p,_){const M=(0,te.m9)(D),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:p};_&&Gt(M.auth,he,_);const{email:ct}=yield function We(D,p){return Tt.apply(this,arguments)}(M.auth,he);ct!==D.email&&(yield D.reload())}),el.apply(this,arguments)}function na(){return(na=(0,v.Z)(function*(D,p){return Mt(D,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function tl(){return tl=(0,v.Z)(function*(D,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const M=(0,te.m9)(D),he={idToken:yield M.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},ct=yield Gn(M,function ta(D,p){return na.apply(this,arguments)}(M.auth,he));M.displayName=ct.displayName||null,M.photoURL=ct.photoUrl||null;const Lt=M.providerData.find(({providerId:yn})=>"password"===yn);Lt&&(Lt.displayName=M.displayName,Lt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(ct)}),tl.apply(this,arguments)}function Va(D,p,_){return go.apply(this,arguments)}function go(){return(go=(0,v.Z)(function*(D,p,_){const{auth:M}=D,he={idToken:yield D.getIdToken(),returnSecureToken:!0};p&&(he.email=p),_&&(he.password=_);const ct=yield Gn(D,Ni(M,he));yield D._updateTokensIfNecessary(ct,!0)})).apply(this,arguments)}class ya{constructor(p,_,M={}){this.isNewUser=p,this.providerId=_,this.profile=M}}class ru extends ya{constructor(p,_,M,X){super(p,_,M),this.username=X}}class _s extends ya{constructor(p,_){super(p,"facebook.com",_)}}class No extends ru{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class kl extends ya{constructor(p,_){super(p,"google.com",_)}}class mo extends ru{constructor(p,_,M){super(p,"twitter.com",_,M)}}function Ki(D){const{user:p,_tokenResponse:_}=D;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function io(D){var p,_;if(!D)return null;const{providerId:M}=D,X=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},he=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!M&&null!=D&&D.idToken){const ct=null===(_=null===(p=Yr(D.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(ct)return new ya(he,"anonymous"!==ct&&"custom"!==ct?ct:null)}if(!M)return null;switch(M){case"facebook.com":return new _s(he,X);case"github.com":return new No(he,X);case"google.com":return new kl(he,X);case"twitter.com":return new mo(he,X,D.screenName||null);case"custom":case"anonymous":return new ya(he,null);default:return new ya(he,M,X)}}(_)}class ko{constructor(p,_){this.type=p,this.credential=_}static _fromIdtoken(p){return new ko("enroll",p)}static _fromMfaPendingCredential(p){return new ko("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,M;if(null!=p&&p.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ko._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(M=p.multiFactorSession)&&void 0!==M&&M.idToken)return ko._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ts{constructor(p,_,M){this.session=p,this.hints=_,this.signInResolver=M}static _fromError(p,_){const M=Pr(p),X=_.customData._serverResponse,he=(X.mfaInfo||[]).map(Lt=>G._fromServerResponse(M,Lt));q(X.mfaPendingCredential,M,"internal-error");const ct=ko._fromMfaPendingCredential(X.mfaPendingCredential);return new ts(ct,he,function(){var Lt=(0,v.Z)(function*(yn){const Hn=yield yn._process(M,ct);delete X.mfaInfo,delete X.mfaPendingCredential;const br=Object.assign(Object.assign({},X),{idToken:Hn.idToken,refreshToken:Hn.refreshToken});switch(_.operationType){case"signIn":const ar=yield os._fromIdTokenResponse(M,_.operationType,br);return yield M._updateCurrentUser(ar.user),ar;case"reauthenticate":return q(_.user,M,"internal-error"),os._forOperation(_.user,_.operationType,br);default:rt(M,"internal-error")}});return function(yn){return Lt.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,v.Z)(function*(){return _.signInResolver(p)})()}}class k{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(M=>G._fromServerResponse(p.auth,M)))})}static _fromUser(p){return new k(p)}getSession(){var p=this;return(0,v.Z)(function*(){return ko._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,_){var M=this;return(0,v.Z)(function*(){const X=p,he=yield M.getSession(),ct=yield Gn(M.user,X._process(M.user.auth,he,_));return yield M.user._updateTokensIfNecessary(ct),M.user.reload()})()}unenroll(p){var _=this;return(0,v.Z)(function*(){var M;const X="string"==typeof p?p:p.uid,he=yield _.user.getIdToken(),ct=yield Gn(_.user,function Yi(D,p){return Mt(D,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(D,p))}(_.user.auth,{idToken:he,mfaEnrollmentId:X}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Lt})=>Lt!==X),yield _.user._updateTokensIfNecessary(ct);try{yield _.user.reload()}catch(Lt){if("auth/user-token-expired"!==(null===(M=Lt)||void 0===M?void 0:M.code))throw Lt}})()}}const Z=new WeakMap,ne="__sak";class Re{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ne,"1"),this.storage.removeItem(ne),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Br=(()=>{class D extends Re{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,M)=>this.onStorageEvent(_,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wt(){const D=(0,te.z$)();return Nt(D)||qn(D)}()&&function Ei(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=fi(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const M of Object.keys(this.listeners)){const X=this.storage.getItem(M),he=this.localCache[M];X!==he&&_(M,he,X)}}onStorageEvent(_,M=!1){if(!_.key)return void this.forAllChangedKeys((Lt,yn,Hn)=>{this.notifyListeners(Lt,Hn)});const X=_.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Lt=this.storage.getItem(X);if(_.newValue!==Lt)null!==_.newValue?this.storage.setItem(X,_.newValue):this.storage.removeItem(X);else if(this.localCache[X]===_.newValue&&!M)return}const he=()=>{const Lt=this.storage.getItem(X);!M&&this.localCache[X]===Lt||this.notifyListeners(X,Lt)},ct=this.storage.getItem(X);!function ns(){return(0,te.w1)()&&10===document.documentMode}()||ct===_.newValue||_.newValue===_.oldValue?he():setTimeout(he,10)}notifyListeners(_,M){this.localCache[_]=M;const X=this.listeners[_];if(X)for(const he of Array.from(X))he(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,M,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:M,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(M)}_removeListener(_,M){this.listeners[_]&&(this.listeners[_].delete(M),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,M){var X=()=>super._set,he=this;return(0,v.Z)(function*(){yield X().call(he,_,M),he.localCache[_]=JSON.stringify(M)})()}_get(_){var M=()=>super._get,X=this;return(0,v.Z)(function*(){const he=yield M().call(X,_);return X.localCache[_]=JSON.stringify(he),he})()}_remove(_){var M=()=>super._remove,X=this;return(0,v.Z)(function*(){yield M().call(X,_),delete X.localCache[_]})()}}return D.type="LOCAL",D})(),rr=(()=>{class D extends Re{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,M){}_removeListener(_,M){}}return D.type="SESSION",D})();let Di=(()=>{class D{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const M=this.receivers.find(he=>he.isListeningto(_));if(M)return M;const X=new D(_);return this.receivers.push(X),X}isListeningto(_){return this.eventTarget===_}handleEvent(_){var M=this;return(0,v.Z)(function*(){const X=_,{eventId:he,eventType:ct,data:Lt}=X.data,yn=M.handlersMap[ct];if(null==yn||!yn.size)return;X.ports[0].postMessage({status:"ack",eventId:he,eventType:ct});const Hn=Array.from(yn).map(function(){var ar=(0,v.Z)(function*(Ws){return Ws(X.origin,Lt)});return function(Ws){return ar.apply(this,arguments)}}()),br=yield function Oi(D){return Promise.all(D.map(function(){var p=(0,v.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(M){return{fulfilled:!1,reason:M}}});return function(_){return p.apply(this,arguments)}}()))}(Hn);X.ports[0].postMessage({status:"done",eventId:he,eventType:ct,response:br})})()}_subscribe(_,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(M)}_unsubscribe(_,M){this.handlersMap[_]&&M&&this.handlersMap[_].delete(M),(!M||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Rn(D="",p=10){let _="";for(let M=0;M<p;M++)_+=Math.floor(10*Math.random());return D+_}class So{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,M=50){var X=this;return(0,v.Z)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let ct,Lt;return new Promise((yn,Hn)=>{const br=Rn("",20);he.port1.start();const ar=setTimeout(()=>{Hn(new Error("unsupported_event"))},M);Lt={messageChannel:he,onMessage(Ws){const Oa=Ws;if(Oa.data.eventId===br)switch(Oa.data.status){case"ack":clearTimeout(ar),ct=setTimeout(()=>{Hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ct),yn(Oa.data.response);break;default:clearTimeout(ar),clearTimeout(ct),Hn(new Error("invalid_response"))}}},X.handlers.add(Lt),he.port1.addEventListener("message",Lt.onMessage),X.target.postMessage({eventType:p,eventId:br,data:_},[he.port2])}).finally(()=>{Lt&&X.removeMessageHandler(Lt)})})()}}function ai(){return window}function Ss(){return typeof ai().WorkerGlobalScope<"u"&&"function"==typeof ai().importScripts}function Hs(){return(Hs=(0,v.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zs="firebaseLocalStorageDb",gi="firebaseLocalStorage",Ua="fbase_key";class Jt{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function dn(D,p){return D.transaction([gi],p?"readwrite":"readonly").objectStore(gi)}function su(){const D=indexedDB.open(Zs,1);return new Promise((p,_)=>{D.addEventListener("error",()=>{_(D.error)}),D.addEventListener("upgradeneeded",()=>{const M=D.result;try{M.createObjectStore(gi,{keyPath:Ua})}catch(X){_(X)}}),D.addEventListener("success",(0,v.Z)(function*(){const M=D.result;M.objectStoreNames.contains(gi)?p(M):(M.close(),yield function hr(){const D=indexedDB.deleteDatabase(Zs);return new Jt(D).toPromise()}(),p(yield su()))}))})}function mn(D,p,_){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,v.Z)(function*(D,p,_){const M=dn(D,!0).put({[Ua]:p,value:_});return new Jt(M).toPromise()})).apply(this,arguments)}function ci(){return(ci=(0,v.Z)(function*(D,p){const _=dn(D,!1).get(p),M=yield new Jt(_).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function ja(D,p){const _=dn(D,!0).delete(p);return new Jt(_).toPromise()}const wl=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,v.Z)(function*(){return _.db||(_.db=yield su()),_.db})()}_withRetries(_){var M=this;return(0,v.Z)(function*(){let X=0;for(;;)try{const he=yield M._openDb();return yield _(he)}catch(he){if(X++>3)throw he;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,v.Z)(function*(){return Ss()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,v.Z)(function*(){_.receiver=Di._getInstance(function Iu(){return Ss()?self:null}()),_.receiver._subscribe("keyChanged",function(){var M=(0,v.Z)(function*(X,he){return{keyProcessed:(yield _._poll()).includes(he.key)}});return function(X,he){return M.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var M=(0,v.Z)(function*(X,he){return["keyChanged"]});return function(X,he){return M.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,v.Z)(function*(){var M,X;if(_.activeServiceWorker=yield function Ci(){return Hs.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new So(_.activeServiceWorker);const he=yield _.sender._send("ping",{},800);he&&null!==(M=he[0])&&void 0!==M&&M.fulfilled&&null!==(X=he[0])&&void 0!==X&&X.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var M=this;return(0,v.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Es(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:_},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const _=yield su();return yield mn(_,ne,"1"),yield ja(_,ne),!0}catch{}return!1})()}_withPendingWrite(_){var M=this;return(0,v.Z)(function*(){M.pendingWrites++;try{yield _()}finally{M.pendingWrites--}})()}_set(_,M){var X=this;return(0,v.Z)(function*(){return X._withPendingWrite((0,v.Z)(function*(){return yield X._withRetries(he=>mn(he,_,M)),X.localCache[_]=M,X.notifyServiceWorker(_)}))})()}_get(_){var M=this;return(0,v.Z)(function*(){const X=yield M._withRetries(he=>function tn(D,p){return ci.apply(this,arguments)}(he,_));return M.localCache[_]=X,X})()}_remove(_){var M=this;return(0,v.Z)(function*(){return M._withPendingWrite((0,v.Z)(function*(){return yield M._withRetries(X=>ja(X,_)),delete M.localCache[_],M.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,v.Z)(function*(){const M=yield _._withRetries(ct=>{const Lt=dn(ct,!1).getAll();return new Jt(Lt).toPromise()});if(!M)return[];if(0!==_.pendingWrites)return[];const X=[],he=new Set;for(const{fbase_key:ct,value:Lt}of M)he.add(ct),JSON.stringify(_.localCache[ct])!==JSON.stringify(Lt)&&(_.notifyListeners(ct,Lt),X.push(ct));for(const ct of Object.keys(_.localCache))_.localCache[ct]&&!he.has(ct)&&(_.notifyListeners(ct,null),X.push(ct));return X})()}notifyListeners(_,M){this.localCache[_]=M;const X=this.listeners[_];if(X)for(const he of Array.from(X))he(M)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(M)}_removeListener(_,M){this.listeners[_]&&(this.listeners[_].delete(M),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function sa(){return(sa=(0,v.Z)(function*(D){return(yield Mt(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bl(D){return new Promise((p,_)=>{const M=document.createElement("script");M.setAttribute("src",D),M.onload=p,M.onerror=X=>{const he=Ce("internal-error");he.customData=X,_(he)},M.type="text/javascript",M.charset="UTF-8",function _a(){var D,p;return null!==(p=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==p?p:document}().appendChild(M)})}function Or(D){return`__${D}${Math.floor(1e6*Math.random())}`}const mi=1e12;class _r{constructor(p){this.auth=p,this.counter=mi,this._widgets=new Map}render(p,_){const M=this.counter;return this._widgets.set(M,new Ha(p,this.auth.name,_||{})),this.counter++,M}reset(p){var _;const M=p||mi;null===(_=this._widgets.get(M))||void 0===_||_.delete(),this._widgets.delete(M)}getResponse(p){var _;return(null===(_=this._widgets.get(p||mi))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,v.Z)(function*(){var M;return null===(M=_._widgets.get(p||mi))||void 0===M||M.execute(),""})()}}class Ha{constructor(p,_,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof p?document.getElementById(p):p;q(X,"argument-error",{appName:_}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ur(D){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<D;M++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qu=Or("rcb"),us=new qe(3e4,6e4);class rl{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=ai().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return q(function wu(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(_),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(ai().grecaptcha):new Promise((M,X)=>{const he=ai().setTimeout(()=>{X(Ce(p,"network-request-failed"))},us.get());ai()[Qu]=()=>{ai().clearTimeout(he),delete ai()[Qu];const Lt=ai().grecaptcha;if(!Lt)return void X(Ce(p,"internal-error"));const yn=Lt.render;Lt.render=(Hn,br)=>{const ar=yn(Hn,br);return this.counter++,ar},this.hostLanguage=_,M(Lt)},bl(`https://www.google.com/recaptcha/api.js??${(0,te.xO)({onload:Qu,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(he),X(Ce(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=ai().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ca{load(p){return(0,v.Z)(function*(){return new _r(p)})()}clearedOneInstance(){}}const Dl="recaptcha",Cl={theme:"light",type:"image"};class Ju{constructor(p,_=Object.assign({},Cl),M){this.parameters=_,this.type=Dl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pr(M),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof p?document.getElementById(p):p;q(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ca:new rl,this.validateStartingState()}verify(){var p=this;return(0,v.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),M=p.getAssertedRecaptcha();return M.getResponse(_)||new Promise(he=>{const ct=Lt=>{Lt&&(p.tokenChangeListeners.delete(ct),he(Lt))};p.tokenChangeListeners.add(ct),p.isInvisible&&M.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(M=>M(_)),"function"==typeof p)p(_);else if("string"==typeof p){const M=ai()[p];"function"==typeof M&&M(_)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,v.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const M=document.createElement("div");_.appendChild(M),_=M}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,v.Z)(function*(){q(tt()&&!Ss(),p.auth,"internal-error"),yield function ec(){let D=null;return new Promise(p=>{"complete"!==document.readyState?(D=()=>p(),window.addEventListener("load",D)):p()}).catch(p=>{throw D&&window.removeEventListener("load",D),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function Go(D){return sa.apply(this,arguments)}(p.auth);q(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yi{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=ni._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Fi(){return(Fi=(0,v.Z)(function*(D,p,_){const M=Pr(D),X=yield Ga(M,p,(0,te.m9)(_));return new yi(X,he=>mr(M,he))})).apply(this,arguments)}function Ta(){return(Ta=(0,v.Z)(function*(D,p,_){const M=(0,te.m9)(D);yield bo(!1,M,"phone");const X=yield Ga(M.auth,p,(0,te.m9)(_));return new yi(X,he=>Ho(M,he))})).apply(this,arguments)}function xt(){return(xt=(0,v.Z)(function*(D,p,_){const M=(0,te.m9)(D),X=yield Ga(M.auth,p,(0,te.m9)(_));return new yi(X,he=>$a(M,he))})).apply(this,arguments)}function Ga(D,p,_){return S.apply(this,arguments)}function S(){return S=(0,v.Z)(function*(D,p,_){var M;const X=yield _.verify();try{let he;if(q("string"==typeof X,D,"argument-error"),q(_.type===Dl,D,"argument-error"),he="string"==typeof p?{phoneNumber:p}:p,"session"in he){const ct=he.session;if("phoneNumber"in he)return q("enroll"===ct.type,D,"internal-error"),(yield function iu(D,p){return Mt(D,"POST","/v2/accounts/mfaEnrollment:start",nn(D,p))}(D,{idToken:ct.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{q("signin"===ct.type,D,"internal-error");const Lt=(null===(M=he.multiFactorHint)||void 0===M?void 0:M.uid)||he.multiFactorUid;return q(Lt,D,"missing-multi-factor-info"),(yield function so(D,p){return Mt(D,"POST","/v2/accounts/mfaSignIn:start",nn(D,p))}(D,{mfaPendingCredential:ct.credential,mfaEnrollmentId:Lt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ct}=yield function Ht(D,p){return sn.apply(this,arguments)}(D,{phoneNumber:he.phoneNumber,recaptchaToken:X});return ct}}finally{_._reset()}}),S.apply(this,arguments)}function b(){return(b=(0,v.Z)(function*(D,p){yield ys((0,te.m9)(D),p)})).apply(this,arguments)}let R=(()=>{class D{constructor(_){this.providerId=D.PROVIDER_ID,this.auth=Pr(_)}verifyPhoneNumber(_,M){return Ga(this.auth,_,(0,te.m9)(M))}static credential(_,M){return ni._fromVerification(_,M)}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:M,temporaryProof:X}=_;return M&&X?ni._fromTokenResponse(M,X):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function z(D,p){return p?ht(p):(q(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class oe extends Bi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Pn(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Pn(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Pn(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function ce(D){return no(D.auth,new oe(D),D.bypassAuthState)}function Je(D){const{auth:p,user:_}=D;return q(_,p,"internal-error"),Sr(_,new oe(D),D.bypassAuthState)}function Kt(D){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,v.Z)(function*(D){const{auth:p,user:_}=D;return q(_,p,"internal-error"),ys(_,new oe(D),D.bypassAuthState)})).apply(this,arguments)}class Ln{constructor(p,_,M,X,he=!1){this.auth=p,this.resolver=M,this.user=X,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,v.Z)(function*(M,X){p.pendingPromise={resolve:M,reject:X};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(he){p.reject(he)}});return function(M,X){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,v.Z)(function*(){const{urlResponse:M,sessionId:X,postBody:he,tenantId:ct,error:Lt,type:yn}=p;if(Lt)return void _.reject(Lt);const Hn={auth:_.auth,requestUri:M,sessionId:X,tenantId:ct||void 0,postBody:he||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(yn)(Hn))}catch(br){_.reject(br)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ce;case"linkViaPopup":case"linkViaRedirect":return Kt;case"reauthViaPopup":case"reauthViaRedirect":return Je;default:rt(this.auth,"internal-error")}}resolve(p){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vn=new qe(2e3,1e4);function ir(){return(ir=(0,v.Z)(function*(D,p,_){const M=Pr(D);Ue(D,p,ss);const X=z(M,_);return new Tl(M,"signInViaPopup",p,X).executeNotNull()})).apply(this,arguments)}function vo(){return(vo=(0,v.Z)(function*(D,p,_){const M=(0,te.m9)(D);Ue(M.auth,p,ss);const X=z(M.auth,_);return new Tl(M.auth,"reauthViaPopup",p,X,M).executeNotNull()})).apply(this,arguments)}function Fr(){return(Fr=(0,v.Z)(function*(D,p,_){const M=(0,te.m9)(D);Ue(M.auth,p,ss);const X=z(M.auth,_);return new Tl(M.auth,"linkViaPopup",p,X,M).executeNotNull()})).apply(this,arguments)}let Tl=(()=>{class D extends Ln{constructor(_,M,X,he,ct){super(_,M,he,ct),this.provider=X,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var _=this;return(0,v.Z)(function*(){const M=yield _.execute();return q(M,_.auth,"internal-error"),M})()}onExecution(){var _=this;return(0,v.Z)(function*(){we(1===_.filter.length,"Popup operations only handle one event");const M=Rn();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],M),_.authWindow.associatedEvent=M,_.resolver._originValidation(_.auth).catch(X=>{_.reject(X)}),_.resolver._isIframeWebStorageSupported(_.auth,X=>{X||_.reject(Ce(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const _=()=>{var M,X;this.pollId=null!==(X=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Vn.get())};_()}}return D.currentPopupAction=null,D})();const Wo="pendingRedirect",Xs=new Map;class Sl extends Ln{constructor(p,_,M=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,M),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,v.Z)(function*(){let M=Xs.get(_.auth._key());if(!M){try{const he=(yield function Vi(D,p){return Sa.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;M=()=>Promise.resolve(he)}catch(X){M=()=>Promise.reject(X)}Xs.set(_.auth._key(),M)}return _.bypassAuthState||Xs.set(_.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,M=this;return(0,v.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(M,p);if("unknown"!==p.type){if(p.eventId){const X=yield M.auth._redirectUserForId(p.eventId);if(X)return M.user=X,_().call(M,p);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function Sa(){return(Sa=(0,v.Z)(function*(D,p){const _=$l(p),M=Du(D);if(!(yield M._isAvailable()))return!1;const X="true"===(yield M._get(_));return yield M._remove(_),X})).apply(this,arguments)}function _o(D,p){return vi.apply(this,arguments)}function vi(){return(vi=(0,v.Z)(function*(D,p){return Du(D)._set($l(p),"true")})).apply(this,arguments)}function Yc(D,p){Xs.set(D._key(),p)}function Du(D){return ht(D._redirectPersistence)}function $l(D){return _t(Wo,D.config.apiKey,D.name)}function xd(D,p,_){return function ws(D,p,_){return $.apply(this,arguments)}(D,p,_)}function $(){return($=(0,v.Z)(function*(D,p,_){const M=Pr(D);Ue(D,p,ss);const X=z(M,_);return yield _o(X,M),X._openRedirect(M,p,"signInViaRedirect")})).apply(this,arguments)}function H(D,p,_){return function ae(D,p,_){return Fe.apply(this,arguments)}(D,p,_)}function Fe(){return(Fe=(0,v.Z)(function*(D,p,_){const M=(0,te.m9)(D);Ue(M.auth,p,ss);const X=z(M.auth,_);yield _o(X,M.auth);const he=yield or(M);return X._openRedirect(M.auth,p,"reauthViaRedirect",he)})).apply(this,arguments)}function ft(D,p,_){return function At(D,p,_){return Xt.apply(this,arguments)}(D,p,_)}function Xt(){return(Xt=(0,v.Z)(function*(D,p,_){const M=(0,te.m9)(D);Ue(M.auth,p,ss);const X=z(M.auth,_);yield bo(!1,M,p.providerId),yield _o(X,M.auth);const he=yield or(M);return X._openRedirect(M.auth,p,"linkViaRedirect",he)})).apply(this,arguments)}function Bn(){return(Bn=(0,v.Z)(function*(D,p){return yield Pr(D)._initializationPromise,Ar(D,p,!1)})).apply(this,arguments)}function Ar(D,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,v.Z)(function*(D,p,_=!1){const M=Pr(D),X=z(M,p),ct=yield new Sl(M,X,_).execute();return ct&&!_&&(delete ct.user._redirectEventId,yield M._persistUserIfCurrent(ct.user),yield M._setRedirectUser(null,p)),ct})).apply(this,arguments)}function or(D){return qi.apply(this,arguments)}function qi(){return(qi=(0,v.Z)(function*(D){const p=Rn(`${D.uid}:::`);return D._redirectEventId=p,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),p})).apply(this,arguments)}class za{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(p,M)&&(_=!0,this.sendToConsumer(p,M),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Wa(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ko(D);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var M;if(p.error&&!Ko(p)){const X=(null===(M=p.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";_.onError(Ce(this.auth,X))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const M=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&M}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(il(p))}saveEventToCache(p){this.cachedEventUids.add(il(p)),this.lastProcessedEventTime=Date.now()}}function il(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(p=>p).join("-")}function Ko({type:D,error:p}){return"unknown"===D&&"auth/no-auth-event"===(null==p?void 0:p.code)}function sl(D){return ol.apply(this,arguments)}function ol(){return(ol=(0,v.Z)(function*(D,p={}){return Mt(D,"GET","/v1/projects",p)})).apply(this,arguments)}const al=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ou=/^https?/;function nc(){return(nc=(0,v.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:p}=yield sl(D);for(const _ of p)try{if(Gs(_))return}catch{}rt(D,"unauthorized-domain")})).apply(this,arguments)}function Gs(D){const p=dt(),{protocol:_,hostname:M}=new URL(p);if(D.startsWith("chrome-extension://")){const ct=new URL(D);return""===ct.hostname&&""===M?"chrome-extension:"===_&&D.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&ct.hostname===M}if(!ou.test(_))return!1;if(al.test(D))return M===D;const X=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(M)}const Al=new qe(3e4,6e4);function _i(){const D=ai().___jsl;if(null!=D&&D.H)for(const p of Object.keys(D.H))if(D.H[p].r=D.H[p].r||[],D.H[p].L=D.H[p].L||[],D.H[p].r=[...D.H[p].L],D.CP)for(let _=0;_<D.CP.length;_++)D.CP[_]=null}let aa=null;const qr=new qe(5e3,15e3),qc="__/auth/iframe",Tu="emulator/auth/iframe",Sh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ns=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ah(D){const p=D.config;q(p.authDomain,D,"auth-domain-config-required");const _=p.emulator?Et(p,Tu):`https://${D.config.authDomain}/${qc}`,M={apiKey:p.apiKey,appName:D.name,v:de.SDK_VERSION},X=Ns.get(D.config.apiHost);X&&(M.eid=X);const he=D._getFrameworks();return he.length&&(M.fw=he.join(",")),`${_}?${(0,te.xO)(M).slice(1)}`}function Rd(){return Rd=(0,v.Z)(function*(D){const p=yield function Yo(D){return aa=aa||function Cu(D){return new Promise((p,_)=>{var M,X,he;function ct(){_i(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{_i(),_(Ce(D,"network-request-failed"))},timeout:Al.get()})}if(null!==(X=null===(M=ai().gapi)||void 0===M?void 0:M.iframes)&&void 0!==X&&X.Iframe)p(gapi.iframes.getContext());else{if(null===(he=ai().gapi)||void 0===he||!he.load){const Lt=Or("iframefcb");return ai()[Lt]=()=>{gapi.load?ct():_(Ce(D,"network-request-failed"))},bl(`https://apis.google.com/js/api.js?onload=${Lt}`).catch(yn=>_(yn))}ct()}}).catch(p=>{throw aa=null,p})}(D),aa}(D),_=ai().gapi;return q(_,D,"internal-error"),p.open({where:document.body,url:Ah(D),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sh,dontclear:!0},M=>new Promise(function(){var X=(0,v.Z)(function*(he,ct){yield M.restyle({setHideOnLeave:!1});const Lt=Ce(D,"network-request-failed"),yn=ai().setTimeout(()=>{ct(Lt)},qr.get());function Hn(){ai().clearTimeout(yn),he(M)}M.ping(Hn).then(Hn,()=>{ct(Lt)})});return function(he,ct){return X.apply(this,arguments)}}()))}),Rd.apply(this,arguments)}const Ml={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Su{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const la="__/auth/handler",rc="emulator/auth/handler";function ll(D,p,_,M,X,he){q(D.config.authDomain,D,"auth-domain-config-required"),q(D.config.apiKey,D,"invalid-api-key");const ct={apiKey:D.config.apiKey,appName:D.name,authType:_,redirectUrl:M,v:de.SDK_VERSION,eventId:X};if(p instanceof ss){p.setDefaultLanguage(D.languageCode),ct.providerId=p.providerId||"",(0,te.xb)(p.getCustomParameters())||(ct.customParameters=JSON.stringify(p.getCustomParameters()));for(const[yn,Hn]of Object.entries(he||{}))ct[yn]=Hn}if(p instanceof jn){const yn=p.getScopes().filter(Hn=>""!==Hn);yn.length>0&&(ct.scopes=yn.join(","))}D.tenantId&&(ct.tid=D.tenantId);const Lt=ct;for(const yn of Object.keys(Lt))void 0===Lt[yn]&&delete Lt[yn];return`${function ic({config:D}){return D.emulator?Et(D,rc):`https://${D.authDomain}/${la}`}(D)}?${(0,te.xO)(Lt).slice(1)}`}const Ma="webStorageSupport",Au=class Zc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rr,this._completeRedirectFn=Ar,this._overrideRedirectResult=Yc}_openPopup(p,_,M,X){var he=this;return(0,v.Z)(function*(){var ct;we(null===(ct=he.eventManagers[p._key()])||void 0===ct?void 0:ct.manager,"_initialize() not called before _openPopup()");const Lt=ll(p,_,M,dt(),X);return function Df(D,p,_,M=500,X=600){const he=Math.max((window.screen.availHeight-X)/2,0).toString(),ct=Math.max((window.screen.availWidth-M)/2,0).toString();let Lt="";const yn=Object.assign(Object.assign({},Ml),{width:M.toString(),height:X.toString(),top:he,left:ct}),Hn=(0,te.z$)().toLowerCase();_&&(Lt=fn(Hn)?"_blank":_),gt(Hn)&&(p=p||"http://localhost",yn.scrollbars="yes");const br=Object.entries(yn).reduce((Ws,[Oa,ql])=>`${Ws}${Oa}=${ql},`,"");if(function hi(D=(0,te.z$)()){var p;return qn(D)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Hn)&&"_self"!==Lt)return function ao(D,p){const _=document.createElement("a");_.href=D,_.target=p;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(M)}(p||"",Lt),new Su(null);const ar=window.open(p||"",Lt,br);q(ar,D,"popup-blocked");try{ar.focus()}catch{}return new Su(ar)}(p,Lt,Rn())})()}_openRedirect(p,_,M,X){var he=this;return(0,v.Z)(function*(){return yield he._originValidation(p),function ls(D){ai().location.href=D}(ll(p,_,M,dt(),X)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:X,promise:he}=this.eventManagers[_];return X?Promise.resolve(X):(we(he,"If manager is not set, promise should be"),he)}const M=this.initAndGetManager(p);return this.eventManagers[_]={promise:M},M.catch(()=>{delete this.eventManagers[_]}),M}initAndGetManager(p){var _=this;return(0,v.Z)(function*(){const M=yield function qo(D){return Rd.apply(this,arguments)}(p),X=new za(p);return M.register("authEvent",he=>(q(null==he?void 0:he.authEvent,p,"invalid-auth-event"),{status:X.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:X},_.iframes[p._key()]=M,X})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Ma,{type:Ma},X=>{var he;const ct=null===(he=null==X?void 0:X[0])||void 0===he?void 0:he[Ma];void 0!==ct&&_(!!ct),rt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Li(D){return nc.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return fi()||Nt()||qn()}};class Mh{constructor(p){this.factorId=p}_process(p,_,M){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,M);case"signin":return this._finalizeSignIn(p,_.credential);default:return He("unexpected MultiFactorSessionType")}}}class Lo extends Mh{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Lo(p)}_finalizeEnroll(p,_,M){return function Il(D,p){return Mt(D,"POST","/v2/accounts/mfaEnrollment:finalize",nn(D,p))}(p,{idToken:_,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function ia(D,p){return Mt(D,"POST","/v2/accounts/mfaSignIn:finalize",nn(D,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xc=(()=>{class D{constructor(){}static assertion(_){return Lo._fromCredential(_)}}return D.FACTOR_ID="phone",D})();var Vl="@firebase/auth";class xa{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,v.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(M=>{var X;p((null===(X=M)||void 0===X?void 0:X.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xl(){return window}!function Qc(D){(0,de._registerComponent)(new ge.wA("auth",(p,{options:_})=>{const M=p.getProvider("app").getImmediate(),X=p.getProvider("heartbeat"),{apiKey:he,authDomain:ct}=M.options;return((Lt,yn)=>{q(he&&!he.includes(":"),"invalid-api-key",{appName:Lt.name}),q(!(null!=ct&&ct.includes(":")),"argument-error",{appName:Lt.name});const Hn={apiKey:he,authDomain:ct,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:si(D)},br=new Ir(Lt,yn,Hn);return function Qt(D,p){const _=(null==p?void 0:p.persistence)||[],M=(Array.isArray(_)?_:[_]).map(ht);null!=p&&p.errorMap&&D._updateErrorMap(p.errorMap),D._initializeWithPersistence(M,null==p?void 0:p.popupRedirectResolver)}(br,_),br})(M,X)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,M)=>{p.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ge.wA("auth-internal",p=>{const _=Pr(p.getProvider("auth").getImmediate());return new xa(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Vl,"0.20.5",function Od(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,de.registerVersion)(Vl,"0.20.5","esm2017")}("Browser");function sc(){return sc=(0,v.Z)(function*(D,p,_){var M;const{BuildInfo:X}=xl();we(p.sessionId,"AuthEvent did not contain a session ID");const he=yield function xh(D){return oc.apply(this,arguments)}(p.sessionId),ct={};return qn()?ct.ibi=X.packageName:Un()?ct.apn=X.packageName:rt(D,"operation-not-supported-in-this-environment"),X.displayName&&(ct.appDisplayName=X.displayName),ct.sessionId=he,ll(D,_,p.type,void 0,null!==(M=p.eventId)&&void 0!==M?M:void 0,ct)}),sc.apply(this,arguments)}function Ul(){return(Ul=(0,v.Z)(function*(D){const{BuildInfo:p}=xl(),_={};qn()?_.iosBundleId=p.packageName:Un()?_.androidPackageName=p.packageName:rt(D,"operation-not-supported-in-this-environment"),yield sl(D,_)})).apply(this,arguments)}function jl(){return(jl=(0,v.Z)(function*(D,p,_){const{cordova:M}=xl();let X=()=>{};try{yield new Promise((he,ct)=>{let Lt=null;function yn(){var ar;he();const Ws=null===(ar=M.plugins.browsertab)||void 0===ar?void 0:ar.close;"function"==typeof Ws&&Ws(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Hn(){Lt||(Lt=window.setTimeout(()=>{ct(Ce(D,"redirect-cancelled-by-user"))},2e3))}function br(){"visible"===(null==document?void 0:document.visibilityState)&&Hn()}p.addPassiveListener(yn),document.addEventListener("resume",Hn,!1),Un()&&document.addEventListener("visibilitychange",br,!1),X=()=>{p.removePassiveListener(yn),document.removeEventListener("resume",Hn,!1),document.removeEventListener("visibilitychange",br,!1),Lt&&window.clearTimeout(Lt)}})}finally{X()}})).apply(this,arguments)}function oc(){return(oc=(0,v.Z)(function*(D){const p=function Hl(D){if(we(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(D);const p=new ArrayBuffer(D.length),_=new Uint8Array(p);for(let M=0;M<D.length;M++)_[M]=D.charCodeAt(M);return _}(D),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(X=>X.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Qs extends za{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,v.Z)(function*(){yield p.initPromise})()}}function Ra(D){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,v.Z)(function*(D){const p=yield uu()._get(Wl(D));return p&&(yield uu()._remove(Wl(D))),p})).apply(this,arguments)}function Ka(){const D=[];for(let _=0;_<20;_++){const M=Math.floor(62*Math.random());D.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(M))}return D.join("")}function uu(){return ht(Br)}function Wl(D){return _t("authEvent",D.config.apiKey,D.name)}function ul(D){if(null==D||!D.includes("?"))return{};const[p,..._]=D.split("?");return(0,te.zd)(_.join("?"))}const cu=class Cf{constructor(){this._redirectPersistence=rr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ar,this._overrideRedirectResult=Yc}_initialize(p){var _=this;return(0,v.Z)(function*(){const M=p._key();let X=_.eventManagers.get(M);return X||(X=new Qs(p),_.eventManagers.set(M,X),_.attachCallbackListeners(p,X)),X})()}_openPopup(p){rt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,M,X){var he=this;return(0,v.Z)(function*(){!function Op(D){var p,_,M,X,he,ct,Lt,yn,Hn,br;const ar=xl();q("function"==typeof(null===(p=null==ar?void 0:ar.universalLinks)||void 0===p?void 0:p.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof(null===(_=null==ar?void 0:ar.BuildInfo)||void 0===_?void 0:_.packageName)<"u",D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(he=null===(X=null===(M=null==ar?void 0:ar.cordova)||void 0===M?void 0:M.plugins)||void 0===X?void 0:X.browsertab)||void 0===he?void 0:he.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(yn=null===(Lt=null===(ct=null==ar?void 0:ar.cordova)||void 0===ct?void 0:ct.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===yn?void 0:yn.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(br=null===(Hn=null==ar?void 0:ar.cordova)||void 0===Hn?void 0:Hn.InAppBrowser)||void 0===br?void 0:br.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const ct=yield he._initialize(p);yield ct.initialized(),ct.resetRedirect(),function Aa(){Xs.clear()}(),yield he._originValidation(p);const Lt=function Gl(D,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:Ka(),postBody:null,tenantId:D.tenantId,error:Ce(D,"no-auth-event")}}(p,M,X);yield function zl(D,p){return uu()._set(Wl(D),p)}(p,Lt);const yn=yield function Jc(D,p,_){return sc.apply(this,arguments)}(p,Lt,_),Hn=yield function xu(D){const{cordova:p}=xl();return new Promise(_=>{p.plugins.browsertab.isAvailable(M=>{let X=null;M?p.plugins.browsertab.openUrl(D):X=p.InAppBrowser.open(D,function Ui(D=(0,te.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),_(X)})})}(yn);return function kd(D,p,_){return jl.apply(this,arguments)}(p,ct,Hn)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Mu(D){return Ul.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:M,handleOpenURL:X,BuildInfo:he}=xl(),ct=setTimeout((0,v.Z)(function*(){yield Ra(p),_.onEvent(Ou())}),500),Lt=function(){var br=(0,v.Z)(function*(ar){clearTimeout(ct);const Ws=yield Ra(p);let Oa=null;Ws&&null!=ar&&ar.url&&(Oa=function ed(D,p){var _,M;const X=function Fd(D){const p=ul(D),_=p.link?decodeURIComponent(p.link):void 0,M=ul(_).link,X=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ul(X).link||X||M||_||D}(p);if(X.includes("/__/auth/callback")){const he=ul(X),ct=he.firebaseError?function ks(D){try{return JSON.parse(D)}catch{return null}}(decodeURIComponent(he.firebaseError)):null,Lt=null===(M=null===(_=null==ct?void 0:ct.code)||void 0===_?void 0:_.split("auth/"))||void 0===M?void 0:M[1],yn=Lt?Ce(Lt):null;return yn?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:yn,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:X,postBody:null}}return null}(Ws,ar.url)),_.onEvent(Oa||Ou())});return function(Ws){return br.apply(this,arguments)}}();typeof M<"u"&&"function"==typeof M.subscribe&&M.subscribe(null,Lt);const yn=X,Hn=`${he.packageName.toLowerCase()}://`;xl().handleOpenURL=function(){var br=(0,v.Z)(function*(ar){if(ar.toLowerCase().startsWith(Hn)&&Lt({url:ar}),"function"==typeof yn)try{yn(ar)}catch(Ws){console.error(Ws)}});return function(ar){return br.apply(this,arguments)}}()}};function Ou(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function ac(){var D;return(null===(D=null==self?void 0:self.location)||void 0===D?void 0:D.protocol)||null}function Zo(D=(0,te.z$)()){return!("file:"!==ac()&&"ionic:"!==ac()&&"capacitor:"!==ac()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function du(){try{const D=self.localStorage,p=Rn();if(D)return D.setItem(p,"1"),D.removeItem(p),!function di(D=(0,te.z$)()){return function nd(){return(0,te.w1)()&&11===(null==document?void 0:document.documentMode)}()||function lo(D=(0,te.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,te.hl)()}catch{return Bd()&&(0,te.hl)()}return!1}function Bd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xo(){return(function Zi(){return"http:"===ac()||"https:"===ac()}()||(0,te.ru)()||Zo())&&!function lc(){return(0,te.b$)()||(0,te.UG)()}()&&du()&&!Bd()}function $d(){return Zo()&&typeof document<"u"}function Pu(){return(Pu=(0,v.Z)(function*(){return!!$d()&&new Promise(D=>{const p=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),D(!0)})})})).apply(this,arguments)}const ua={LOCAL:"local",NONE:"none",SESSION:"session"},ca=q,hu="persistence";function cc(D){return dc.apply(this,arguments)}function dc(){return(dc=(0,v.Z)(function*(D){yield D._initializationPromise;const p=Rh(),_=_t(hu,D.config.apiKey,D.name);p&&p.setItem(_,D._getPersistence())})).apply(this,arguments)}function Rh(){var D;try{return(null===(D=function Kl(){return typeof window<"u"?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch{return null}}const rd=q;class Ya{constructor(){this.browserResolver=ht(Au),this.cordovaResolver=ht(cu),this.underlyingResolver=null,this._redirectPersistence=rr,this._completeRedirectFn=Ar,this._overrideRedirectResult=Yc}_initialize(p){var _=this;return(0,v.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,M,X){var he=this;return(0,v.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._openPopup(p,_,M,X)})()}_openRedirect(p,_,M,X){var he=this;return(0,v.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._openRedirect(p,_,M,X)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return $d()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,v.Z)(function*(){if(p.underlyingResolver)return;const _=yield function zs(){return Pu.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function Nu(D){return D.unwrap()}function Sf(D){return Oh(D)}function Oh(D){const{_tokenResponse:p}=D instanceof te.ZR?D.customData:D;if(!p)return null;if(!(D instanceof te.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return R.credentialFromResult(D);const _=p.providerId;if(!_||_===$e.PASSWORD)return null;let M;switch(_){case $e.GOOGLE:M=Ys;break;case $e.FACEBOOK:M=Ls;break;case $e.GITHUB:M=ri;break;case $e.TWITTER:M=Bs;break;default:const{oauthIdToken:X,oauthAccessToken:he,oauthTokenSecret:ct,pendingToken:Lt,nonce:yn}=p;return he||ct||X||Lt?Lt?_.startsWith("saml.")?ps._create(_,Lt):lt._fromParams({providerId:_,signInMethod:_,pendingToken:Lt,idToken:X,accessToken:he}):new Is(_).credential({idToken:X,accessToken:he,rawNonce:yn}):null}return D instanceof te.ZR?M.credentialFromError(D):M.credentialFromResult(D)}function Ao(D,p){return p.catch(_=>{throw _ instanceof te.ZR&&function Af(D,p){var _,M;const X=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null===(M=p)||void 0===M?void 0:M.code))p.resolver=new Bo(D,function Cr(D,p){var _;const M=(0,te.m9)(D),X=p;return q(p.customData.operationType,M,"argument-error"),q(null===(_=X.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,M,"argument-error"),ts._fromError(M,X)}(D,p));else if(X){const he=Oh(p),ct=p;he&&(ct.credential=he,ct.tenantId=X.tenantId||void 0,ct.email=X.email||void 0,ct.phoneNumber=X.phoneNumber||void 0)}}(D,_),_}).then(_=>{const X=_.user;return{operationType:_.operationType,credential:Sf(_),additionalUserInfo:Ki(_),user:cl.getOrCreate(X)}})}function fc(D,p){return id.apply(this,arguments)}function id(){return(id=(0,v.Z)(function*(D,p){const _=yield p;return{verificationId:_.verificationId,confirm:M=>Ao(D,_.confirm(M))}})).apply(this,arguments)}class Bo{constructor(p,_){this.resolver=_,this.auth=function hc(D){return D.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ao(Nu(this.auth),this.resolver.resolveSignIn(p))}}class cl{constructor(p){this._delegate=p,this.multiFactor=function V(D){const p=(0,te.m9)(D);return Z.has(p)||Z.set(p,k._fromUser(p)),Z.get(p)}(p)}static getOrCreate(p){return cl.USER_MAP.has(p)||cl.USER_MAP.set(p,new cl(p)),cl.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,v.Z)(function*(){return Ao(_.auth,Ho(_._delegate,p))})()}linkWithPhoneNumber(p,_){var M=this;return(0,v.Z)(function*(){return fc(M.auth,function tc(D,p,_){return Ta.apply(this,arguments)}(M._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,v.Z)(function*(){return Ao(_.auth,function As(D,p,_){return Fr.apply(this,arguments)}(_._delegate,p,Ya))})()}linkWithRedirect(p){var _=this;return(0,v.Z)(function*(){return yield cc(Pr(_.auth)),ft(_._delegate,p,Ya)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,v.Z)(function*(){return Ao(_.auth,$a(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return fc(this.auth,function bu(D,p,_){return xt.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return Ao(this.auth,function kr(D,p,_){return vo.apply(this,arguments)}(this._delegate,p,Ya))}reauthenticateWithRedirect(p){var _=this;return(0,v.Z)(function*(){return yield cc(Pr(_.auth)),H(_._delegate,p,Ya)})()}sendEmailVerification(p){return function ki(D,p){return ui.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,v.Z)(function*(){return yield function Ts(D,p){return ms.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function ga(D,p){return Va((0,te.m9)(D),p,null)}(this._delegate,p)}updatePassword(p){return function ma(D,p){return Va((0,te.m9)(D),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function O(D,p){return b.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function po(D,p){return tl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function El(D,p,_){return el.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cl.USER_MAP=new WeakMap;const fu=q;let Yl=(()=>{class D{constructor(_,M){if(this.app=_,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:X}=_.options;fu(X,"invalid-api-key",{appName:_.name}),fu(X,"invalid-api-key",{appName:_.name});const he=typeof window<"u"?Ya:void 0;this._delegate=M.initialize({options:{persistence:sd(X,_.name),popupRedirectResolver:he}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,M){!function Ai(D,p,_){const M=Pr(D);q(M._canInitEmulator,M,"emulator-config-failed"),q(/^https?:\/\//.test(p),M,"invalid-emulator-scheme");const X=!(null==_||!_.disableWarnings),he=li(p),{host:ct,port:Lt}=function Ii(D){const p=li(D),_=/(\/\/)?([^?#/]+)/.exec(D.substr(p.length));if(!_)return{host:"",port:null};const M=_[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(M);if(X){const he=X[1];return{host:he,port:Nr(M.substr(he.length+1))}}{const[he,ct]=M.split(":");return{host:he,port:Nr(ct)}}}(p);M.config.emulator={url:`${he}//${ct}${null===Lt?"":`:${Lt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:ct,port:Lt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function xr(){function D(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,_,M)}applyActionCode(_){return function zi(D,p){return Do.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Ps(this._delegate,_)}confirmPasswordReset(_,M){return function Dr(D,p,_){return Lr.apply(this,arguments)}(this._delegate,_,M)}createUserWithEmailAndPassword(_,M){var X=this;return(0,v.Z)(function*(){return Ao(X._delegate,function j(D,p,_){return U.apply(this,arguments)}(X._delegate,_,M))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Wi(D,p){return qs.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function wn(D,p){const _=fs.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,v.Z)(function*(){fu(Xo(),_._delegate,"operation-not-supported-in-this-environment");const M=yield function Cn(D,p){return Bn.apply(this,arguments)}(_._delegate,Ya);return M?Ao(_._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Tf(D,p){Pr(D)._logFramework(p)}(this._delegate,_)}onAuthStateChanged(_,M,X){const{next:he,error:ct,complete:Lt}=Eo(_,M,X);return this._delegate.onAuthStateChanged(he,ct,Lt)}onIdTokenChanged(_,M,X){const{next:he,error:ct,complete:Lt}=Eo(_,M,X);return this._delegate.onIdTokenChanged(he,ct,Lt)}sendSignInLinkToEmail(_,M){return function ie(D,p,_){return bt.apply(this,arguments)}(this._delegate,_,M)}sendPasswordResetEmail(_,M){return function kn(D,p,_){return Jn.apply(this,arguments)}(this._delegate,_,M||void 0)}setPersistence(_){var M=this;return(0,v.Z)(function*(){let X;switch(function uc(D,p){ca(Object.values(ua).includes(p),D,"invalid-persistence-type"),(0,te.b$)()?ca(p!==ua.SESSION,D,"unsupported-persistence-type"):(0,te.UG)()?ca(p===ua.NONE,D,"unsupported-persistence-type"):Bd()?ca(p===ua.NONE||p===ua.LOCAL&&(0,te.hl)(),D,"unsupported-persistence-type"):ca(p===ua.NONE||du(),D,"unsupported-persistence-type")}(M._delegate,_),_){case ua.SESSION:X=rr;break;case ua.LOCAL:X=(yield ht(wl)._isAvailable())?wl:Br;break;case ua.NONE:X=Tn;break;default:return rt("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(X)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Ao(this._delegate,function ur(D){return pa.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Ao(this._delegate,mr(this._delegate,_))}signInWithCustomToken(_){return Ao(this._delegate,function K(D,p){return T.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,M){return Ao(this._delegate,function L(D,p,_){return mr((0,te.m9)(D),Fs.credential(p,_))}(this._delegate,_,M))}signInWithEmailLink(_,M){return Ao(this._delegate,function ti(D,p,_){return as.apply(this,arguments)}(this._delegate,_,M))}signInWithPhoneNumber(_,M){return fc(this._delegate,function oa(D,p,_){return Fi.apply(this,arguments)}(this._delegate,_,M))}signInWithPopup(_){var M=this;return(0,v.Z)(function*(){return fu(Xo(),M._delegate,"operation-not-supported-in-this-environment"),Ao(M._delegate,function tr(D,p,_){return ir.apply(this,arguments)}(M._delegate,_,Ya))})()}signInWithRedirect(_){var M=this;return(0,v.Z)(function*(){return fu(Xo(),M._delegate,"operation-not-supported-in-this-environment"),yield cc(M._delegate),xd(M._delegate,_,Ya)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Qr(D,p){return Po.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=ua,D})();function Eo(D,p,_){let M=D;"function"!=typeof D&&({next:M,error:p,complete:_}=D);const X=M;return{next:ct=>X(ct&&cl.getOrCreate(ct)),error:p,complete:_}}function sd(D,p){const _=function Tr(D,p){const _=Rh();if(!_)return[];const M=_t(hu,D,p);switch(_.getItem(M)){case ua.NONE:return[Tn];case ua.LOCAL:return[wl,rr];case ua.SESSION:return[rr];default:return[]}}(D,p);if(typeof self<"u"&&!_.includes(wl)&&_.push(wl),typeof window<"u")for(const M of[Br,rr])_.includes(M)||_.push(M);return _.includes(Tn)||_.push(Tn),_}class Js{constructor(){this.providerId="phone",this._delegate=new R(Nu(y.Z.auth()))}static credential(p,_){return R.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}Js.PHONE_SIGN_IN_METHOD=R.PHONE_SIGN_IN_METHOD,Js.PROVIDER_ID=R.PROVIDER_ID;const od=q;class Vd{constructor(p,_,M=y.Z.app()){var X;od(null===(X=M.options)||void 0===X?void 0:X.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new Ju(p,_,M.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ol(D){D.INTERNAL.registerComponent(new ge.wA("auth-compat",p=>{const _=p.getProvider("app-compat").getImmediate(),M=p.getProvider("auth");return new Yl(_,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Fs,FacebookAuthProvider:Ls,GithubAuthProvider:ri,GoogleAuthProvider:Ys,OAuthProvider:Is,SAMLAuthProvider:xi,PhoneAuthProvider:Js,PhoneMultiFactorGenerator:Xc,RecaptchaVerifier:Vd,TwitterAuthProvider:Bs,Auth:Yl,AuthCredential:Bi,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.2.18")}(y.Z)},1135:(cn,ut,F)=>{"use strict";F.d(ut,{X:()=>y});var v=F(7579);class y extends v.x{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const Ie=super._subscribe(de);return!Ie.closed&&de.next(this._value),Ie}getValue(){const{hasError:de,thrownError:Ie,_value:ve}=this;if(de)throw Ie;return this._throwIfClosed(),ve}next(de){super.next(this._value=de)}}},9751:(cn,ut,F)=>{"use strict";F.d(ut,{y:()=>Oe});var v=F(930),y=F(727),te=F(8822),de=F(9635),Ie=F(2416),ve=F(576),ge=F(2806);let Oe=(()=>{class Ne{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const Ye=new Ne;return Ye.source=this,Ye.operator=Be,Ye}subscribe(Be,Ye,mt){const ke=function ue(Ne){return Ne&&Ne instanceof v.Lv||function Se(Ne){return Ne&&(0,ve.m)(Ne.next)&&(0,ve.m)(Ne.error)&&(0,ve.m)(Ne.complete)}(Ne)&&(0,y.Nn)(Ne)}(Be)?Be:new v.Hp(Be,Ye,mt);return(0,ge.x)(()=>{const{operator:be,source:ye}=this;ke.add(be?be.call(ke,ye):ye?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(Be){try{return this._subscribe(Be)}catch(Ye){Be.error(Ye)}}forEach(Be,Ye){return new(Ye=$e(Ye))((mt,ke)=>{const be=new v.Hp({next:ye=>{try{Be(ye)}catch(Q){ke(Q),be.unsubscribe()}},error:ke,complete:mt});this.subscribe(be)})}_subscribe(Be){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Be)}[te.L](){return this}pipe(...Be){return(0,de.U)(Be)(this)}toPromise(Be){return new(Be=$e(Be))((Ye,mt)=>{let ke;this.subscribe(be=>ke=be,be=>mt(be),()=>Ye(ke))})}}return Ne.create=Pe=>new Ne(Pe),Ne})();function $e(Ne){var Pe;return null!==(Pe=null!=Ne?Ne:Ie.config.Promise)&&void 0!==Pe?Pe:Promise}},7579:(cn,ut,F)=>{"use strict";F.d(ut,{x:()=>ge});var v=F(9751),y=F(727);const de=(0,F(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=F(8737),ve=F(2806);let ge=(()=>{class $e extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Ne=new Oe(this,this);return Ne.operator=ue,Ne}_throwIfClosed(){if(this.closed)throw new de}next(ue){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(ue)}})}error(ue){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(ue)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Ne,isStopped:Pe,observers:Be}=this;return Ne||Pe?y.Lc:(this.currentObservers=null,Be.push(ue),new y.w0(()=>{this.currentObservers=null,(0,Ie.P)(Be,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Ne,thrownError:Pe,isStopped:Be}=this;Ne?ue.error(Pe):Be&&ue.complete()}asObservable(){const ue=new v.y;return ue.source=this,ue}}return $e.create=(Se,ue)=>new Oe(Se,ue),$e})();class Oe extends ge{constructor(Se,ue){super(),this.destination=Se,this.source=ue}next(Se){var ue,Ne;null===(Ne=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Ne||Ne.call(ue,Se)}error(Se){var ue,Ne;null===(Ne=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Ne||Ne.call(ue,Se)}complete(){var Se,ue;null===(ue=null===(Se=this.destination)||void 0===Se?void 0:Se.complete)||void 0===ue||ue.call(Se)}_subscribe(Se){var ue,Ne;return null!==(Ne=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(Se))&&void 0!==Ne?Ne:y.Lc}}},930:(cn,ut,F)=>{"use strict";F.d(ut,{Hp:()=>mt,Lv:()=>Ne});var v=F(576),y=F(727),te=F(2416),de=F(7849),Ie=F(5032);const ve=$e("C",void 0,void 0);function $e(rt,Ce,Ke){return{kind:rt,value:Ce,error:Ke}}var Se=F(3410),ue=F(2806);class Ne extends y.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,y.Nn)(Ce)&&Ce.add(this)):this.destination=Q}static create(Ce,Ke,Ue){return new mt(Ce,Ke,Ue)}next(Ce){this.isStopped?ye(function Oe(rt){return $e("N",rt,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?ye(function ge(rt){return $e("E",void 0,rt)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?ye(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Be(rt,Ce){return Pe.call(rt,Ce)}class Ye{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(Ce)}catch(Ue){ke(Ue)}}error(Ce){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(Ce)}catch(Ue){ke(Ue)}else ke(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Ke){ke(Ke)}}}class mt extends Ne{constructor(Ce,Ke,Ue){let Te;if(super(),(0,v.m)(Ce)||!Ce)Te={next:null!=Ce?Ce:void 0,error:null!=Ke?Ke:void 0,complete:null!=Ue?Ue:void 0};else{let q;this&&te.config.useDeprecatedNextContext?(q=Object.create(Ce),q.unsubscribe=()=>this.unsubscribe(),Te={next:Ce.next&&Be(Ce.next,q),error:Ce.error&&Be(Ce.error,q),complete:Ce.complete&&Be(Ce.complete,q)}):Te=Ce}this.destination=new Ye(Te)}}function ke(rt){te.config.useDeprecatedSynchronousErrorHandling?(0,ue.O)(rt):(0,de.h)(rt)}function ye(rt,Ce){const{onStoppedNotification:Ke}=te.config;Ke&&Se.z.setTimeout(()=>Ke(rt,Ce))}const Q={closed:!0,next:Ie.Z,error:function be(rt){throw rt},complete:Ie.Z}},727:(cn,ut,F)=>{"use strict";F.d(ut,{Lc:()=>ve,w0:()=>Ie,Nn:()=>ge});var v=F(576);const te=(0,F(3888).d)($e=>function(ue){$e(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Ne,Pe)=>`${Pe+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var de=F(8737);class Ie{constructor(Se){this.initialTeardown=Se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Se;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Be of ue)Be.remove(this);else ue.remove(this);const{initialTeardown:Ne}=this;if((0,v.m)(Ne))try{Ne()}catch(Be){Se=Be instanceof te?Be.errors:[Be]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Be of Pe)try{Oe(Be)}catch(Ye){Se=null!=Se?Se:[],Ye instanceof te?Se=[...Se,...Ye.errors]:Se.push(Ye)}}if(Se)throw new te(Se)}}add(Se){var ue;if(Se&&Se!==this)if(this.closed)Oe(Se);else{if(Se instanceof Ie){if(Se.closed||Se._hasParent(this))return;Se._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(Se)}}_hasParent(Se){const{_parentage:ue}=this;return ue===Se||Array.isArray(ue)&&ue.includes(Se)}_addParent(Se){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(Se),ue):ue?[ue,Se]:Se}_removeParent(Se){const{_parentage:ue}=this;ue===Se?this._parentage=null:Array.isArray(ue)&&(0,de.P)(ue,Se)}remove(Se){const{_finalizers:ue}=this;ue&&(0,de.P)(ue,Se),Se instanceof Ie&&Se._removeParent(this)}}Ie.EMPTY=(()=>{const $e=new Ie;return $e.closed=!0,$e})();const ve=Ie.EMPTY;function ge($e){return $e instanceof Ie||$e&&"closed"in $e&&(0,v.m)($e.remove)&&(0,v.m)($e.add)&&(0,v.m)($e.unsubscribe)}function Oe($e){(0,v.m)($e)?$e():$e.unsubscribe()}},2416:(cn,ut,F)=>{"use strict";F.d(ut,{config:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(cn,ut,F)=>{"use strict";F.d(ut,{c:()=>ve});var v=F(9751),y=F(727),te=F(8343),de=F(5403),Ie=F(4482);class ve extends v.y{constructor(Oe,$e){super(),this.source=Oe,this.subjectFactory=$e,this._subject=null,this._refCount=0,this._connection=null,(0,Ie.A)(Oe)&&(this.lift=Oe.lift)}_subscribe(Oe){return this.getSubject().subscribe(Oe)}getSubject(){const Oe=this._subject;return(!Oe||Oe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Oe}=this;this._subject=this._connection=null,null==Oe||Oe.unsubscribe()}connect(){let Oe=this._connection;if(!Oe){Oe=this._connection=new y.w0;const $e=this.getSubject();Oe.add(this.source.subscribe((0,de.x)($e,void 0,()=>{this._teardown(),$e.complete()},Se=>{this._teardown(),$e.error(Se)},()=>this._teardown()))),Oe.closed&&(this._connection=null,Oe=y.w0.EMPTY)}return Oe}refCount(){return(0,te.x)()(this)}}},7272:(cn,ut,F)=>{"use strict";F.d(ut,{z:()=>Ie});var v=F(8189),te=F(3269),de=F(8996);function Ie(...ve){return function y(){return(0,v.J)(1)}()((0,de.D)(ve,(0,te.yG)(ve)))}},9770:(cn,ut,F)=>{"use strict";F.d(ut,{P:()=>te});var v=F(9751),y=F(8421);function te(de){return new v.y(Ie=>{(0,y.Xf)(de()).subscribe(Ie)})}},515:(cn,ut,F)=>{"use strict";F.d(ut,{E:()=>y});const y=new(F(9751).y)(Ie=>Ie.complete())},8996:(cn,ut,F)=>{"use strict";F.d(ut,{D:()=>Ce});var v=F(8421),y=F(5363),te=F(9468),ve=F(9751),Oe=F(2202),$e=F(576),Se=F(9672);function Ne(Ke,Ue){if(!Ke)throw new Error("Iterable cannot be null");return new ve.y(Te=>{(0,Se.f)(Te,Ue,()=>{const q=Ke[Symbol.asyncIterator]();(0,Se.f)(Te,Ue,()=>{q.next().then(He=>{He.done?Te.complete():Te.next(He.value)})},0,!0)})})}var Pe=F(3670),Be=F(8239),Ye=F(1144),mt=F(6495),ke=F(2206),be=F(4532),ye=F(3260);function Ce(Ke,Ue){return Ue?function rt(Ke,Ue){if(null!=Ke){if((0,Pe.c)(Ke))return function de(Ke,Ue){return(0,v.Xf)(Ke).pipe((0,te.R)(Ue),(0,y.Q)(Ue))}(Ke,Ue);if((0,Ye.z)(Ke))return function ge(Ke,Ue){return new ve.y(Te=>{let q=0;return Ue.schedule(function(){q===Ke.length?Te.complete():(Te.next(Ke[q++]),Te.closed||this.schedule())})})}(Ke,Ue);if((0,Be.t)(Ke))return function Ie(Ke,Ue){return(0,v.Xf)(Ke).pipe((0,te.R)(Ue),(0,y.Q)(Ue))}(Ke,Ue);if((0,ke.D)(Ke))return Ne(Ke,Ue);if((0,mt.T)(Ke))return function ue(Ke,Ue){return new ve.y(Te=>{let q;return(0,Se.f)(Te,Ue,()=>{q=Ke[Oe.h](),(0,Se.f)(Te,Ue,()=>{let He,we;try{({value:He,done:we}=q.next())}catch(yt){return void Te.error(yt)}we?Te.complete():Te.next(He)},0,!0)}),()=>(0,$e.m)(null==q?void 0:q.return)&&q.return()})}(Ke,Ue);if((0,ye.L)(Ke))return function Q(Ke,Ue){return Ne((0,ye.Q)(Ke),Ue)}(Ke,Ue)}throw(0,be.z)(Ke)}(Ke,Ue):(0,v.Xf)(Ke)}},4968:(cn,ut,F)=>{"use strict";F.d(ut,{R:()=>Se});var v=F(8421),y=F(9751),te=F(5577),de=F(1144),Ie=F(576),ve=F(3268);const ge=["addListener","removeListener"],Oe=["addEventListener","removeEventListener"],$e=["on","off"];function Se(Ye,mt,ke,be){if((0,Ie.m)(ke)&&(be=ke,ke=void 0),be)return Se(Ye,mt,ke).pipe((0,ve.Z)(be));const[ye,Q]=function Be(Ye){return(0,Ie.m)(Ye.addEventListener)&&(0,Ie.m)(Ye.removeEventListener)}(Ye)?Oe.map(rt=>Ce=>Ye[rt](mt,Ce,ke)):function Ne(Ye){return(0,Ie.m)(Ye.addListener)&&(0,Ie.m)(Ye.removeListener)}(Ye)?ge.map(ue(Ye,mt)):function Pe(Ye){return(0,Ie.m)(Ye.on)&&(0,Ie.m)(Ye.off)}(Ye)?$e.map(ue(Ye,mt)):[];if(!ye&&(0,de.z)(Ye))return(0,te.z)(rt=>Se(rt,mt,ke))((0,v.Xf)(Ye));if(!ye)throw new TypeError("Invalid event target");return new y.y(rt=>{const Ce=(...Ke)=>rt.next(1<Ke.length?Ke:Ke[0]);return ye(Ce),()=>Q(Ce)})}function ue(Ye,mt){return ke=>be=>Ye[ke](mt,be)}},8421:(cn,ut,F)=>{"use strict";F.d(ut,{Xf:()=>Pe});var v=F(7582),y=F(1144),te=F(8239),de=F(9751),Ie=F(3670),ve=F(2206),ge=F(4532),Oe=F(6495),$e=F(3260),Se=F(576),ue=F(7849),Ne=F(8822);function Pe(rt){if(rt instanceof de.y)return rt;if(null!=rt){if((0,Ie.c)(rt))return function Be(rt){return new de.y(Ce=>{const Ke=rt[Ne.L]();if((0,Se.m)(Ke.subscribe))return Ke.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(rt);if((0,y.z)(rt))return function Ye(rt){return new de.y(Ce=>{for(let Ke=0;Ke<rt.length&&!Ce.closed;Ke++)Ce.next(rt[Ke]);Ce.complete()})}(rt);if((0,te.t)(rt))return function mt(rt){return new de.y(Ce=>{rt.then(Ke=>{Ce.closed||(Ce.next(Ke),Ce.complete())},Ke=>Ce.error(Ke)).then(null,ue.h)})}(rt);if((0,ve.D)(rt))return be(rt);if((0,Oe.T)(rt))return function ke(rt){return new de.y(Ce=>{for(const Ke of rt)if(Ce.next(Ke),Ce.closed)return;Ce.complete()})}(rt);if((0,$e.L)(rt))return function ye(rt){return be((0,$e.Q)(rt))}(rt)}throw(0,ge.z)(rt)}function be(rt){return new de.y(Ce=>{(function Q(rt,Ce){var Ke,Ue,Te,q;return(0,v.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,v.KL)(rt);!(Ue=yield Ke.next()).done;)if(Ce.next(Ue.value),Ce.closed)return}catch(He){Te={error:He}}finally{try{Ue&&!Ue.done&&(q=Ke.return)&&(yield q.call(Ke))}finally{if(Te)throw Te.error}}Ce.complete()})})(rt,Ce).catch(Ke=>Ce.error(Ke))})}},6451:(cn,ut,F)=>{"use strict";F.d(ut,{T:()=>ve});var v=F(8189),y=F(8421),te=F(515),de=F(3269),Ie=F(8996);function ve(...ge){const Oe=(0,de.yG)(ge),$e=(0,de._6)(ge,1/0),Se=ge;return Se.length?1===Se.length?(0,y.Xf)(Se[0]):(0,v.J)($e)((0,Ie.D)(Se,Oe)):te.E}},9646:(cn,ut,F)=>{"use strict";F.d(ut,{of:()=>te});var v=F(3269),y=F(8996);function te(...de){const Ie=(0,v.yG)(de);return(0,y.D)(de,Ie)}},2843:(cn,ut,F)=>{"use strict";F.d(ut,{_:()=>te});var v=F(9751),y=F(576);function te(de,Ie){const ve=(0,y.m)(de)?de:()=>de,ge=Oe=>Oe.error(ve());return new v.y(Ie?Oe=>Ie.schedule(ge,0,Oe):ge)}},5403:(cn,ut,F)=>{"use strict";F.d(ut,{x:()=>y});var v=F(930);function y(de,Ie,ve,ge,Oe){return new te(de,Ie,ve,ge,Oe)}class te extends v.Lv{constructor(Ie,ve,ge,Oe,$e,Se){super(Ie),this.onFinalize=$e,this.shouldUnsubscribe=Se,this._next=ve?function(ue){try{ve(ue)}catch(Ne){Ie.error(Ne)}}:super._next,this._error=Oe?function(ue){try{Oe(ue)}catch(Ne){Ie.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(ue){Ie.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(Ie=this.onFinalize)||void 0===Ie||Ie.call(this))}}}},6590:(cn,ut,F)=>{"use strict";F.d(ut,{d:()=>te});var v=F(4482),y=F(5403);function te(de){return(0,v.e)((Ie,ve)=>{let ge=!1;Ie.subscribe((0,y.x)(ve,Oe=>{ge=!0,ve.next(Oe)},()=>{ge||ve.next(de),ve.complete()}))})}},1884:(cn,ut,F)=>{"use strict";F.d(ut,{x:()=>de});var v=F(4671),y=F(4482),te=F(5403);function de(ve,ge=v.y){return ve=null!=ve?ve:Ie,(0,y.e)((Oe,$e)=>{let Se,ue=!0;Oe.subscribe((0,te.x)($e,Ne=>{const Pe=ge(Ne);(ue||!ve(Se,Pe))&&(ue=!1,Se=Pe,$e.next(Ne))}))})}function Ie(ve,ge){return ve===ge}},9300:(cn,ut,F)=>{"use strict";F.d(ut,{h:()=>te});var v=F(4482),y=F(5403);function te(de,Ie){return(0,v.e)((ve,ge)=>{let Oe=0;ve.subscribe((0,y.x)(ge,$e=>de.call(Ie,$e,Oe++)&&ge.next($e)))})}},590:(cn,ut,F)=>{"use strict";F.d(ut,{P:()=>ge});var v=F(6805),y=F(9300),te=F(5698),de=F(6590),Ie=F(8068),ve=F(4671);function ge(Oe,$e){const Se=arguments.length>=2;return ue=>ue.pipe(Oe?(0,y.h)((Ne,Pe)=>Oe(Ne,Pe,ue)):ve.y,(0,te.q)(1),Se?(0,de.d)($e):(0,Ie.T)(()=>new v.K))}},4004:(cn,ut,F)=>{"use strict";F.d(ut,{U:()=>te});var v=F(4482),y=F(5403);function te(de,Ie){return(0,v.e)((ve,ge)=>{let Oe=0;ve.subscribe((0,y.x)(ge,$e=>{ge.next(de.call(Ie,$e,Oe++))}))})}},9718:(cn,ut,F)=>{"use strict";F.d(ut,{h:()=>y});var v=F(4004);function y(te){return(0,v.U)(()=>te)}},8189:(cn,ut,F)=>{"use strict";F.d(ut,{J:()=>te});var v=F(5577),y=F(4671);function te(de=1/0){return(0,v.z)(y.y,de)}},5577:(cn,ut,F)=>{"use strict";F.d(ut,{z:()=>Oe});var v=F(4004),y=F(8421),te=F(4482),de=F(9672),Ie=F(5403),ge=F(576);function Oe($e,Se,ue=1/0){return(0,ge.m)(Se)?Oe((Ne,Pe)=>(0,v.U)((Be,Ye)=>Se(Ne,Be,Pe,Ye))((0,y.Xf)($e(Ne,Pe))),ue):("number"==typeof Se&&(ue=Se),(0,te.e)((Ne,Pe)=>function ve($e,Se,ue,Ne,Pe,Be,Ye,mt){const ke=[];let be=0,ye=0,Q=!1;const rt=()=>{Q&&!ke.length&&!be&&Se.complete()},Ce=Ue=>be<Ne?Ke(Ue):ke.push(Ue),Ke=Ue=>{Be&&Se.next(Ue),be++;let Te=!1;(0,y.Xf)(ue(Ue,ye++)).subscribe((0,Ie.x)(Se,q=>{null==Pe||Pe(q),Be?Ce(q):Se.next(q)},()=>{Te=!0},void 0,()=>{if(Te)try{for(be--;ke.length&&be<Ne;){const q=ke.shift();Ye?(0,de.f)(Se,Ye,()=>Ke(q)):Ke(q)}rt()}catch(q){Se.error(q)}}))};return $e.subscribe((0,Ie.x)(Se,Ce,()=>{Q=!0,rt()})),()=>{null==mt||mt()}}(Ne,Pe,$e,ue)))}},5363:(cn,ut,F)=>{"use strict";F.d(ut,{Q:()=>de});var v=F(9672),y=F(4482),te=F(5403);function de(Ie,ve=0){return(0,y.e)((ge,Oe)=>{ge.subscribe((0,te.x)(Oe,$e=>(0,v.f)(Oe,Ie,()=>Oe.next($e),ve),()=>(0,v.f)(Oe,Ie,()=>Oe.complete(),ve),$e=>(0,v.f)(Oe,Ie,()=>Oe.error($e),ve)))})}},8343:(cn,ut,F)=>{"use strict";F.d(ut,{x:()=>te});var v=F(4482),y=F(5403);function te(){return(0,v.e)((de,Ie)=>{let ve=null;de._refCount++;const ge=(0,y.x)(Ie,void 0,void 0,void 0,()=>{if(!de||de._refCount<=0||0<--de._refCount)return void(ve=null);const Oe=de._connection,$e=ve;ve=null,Oe&&(!$e||Oe===$e)&&Oe.unsubscribe(),Ie.unsubscribe()});de.subscribe(ge),ge.closed||(ve=de.connect())})}},5026:(cn,ut,F)=>{"use strict";F.d(ut,{R:()=>de});var v=F(4482),y=F(5403);function de(Ie,ve){return(0,v.e)(function te(Ie,ve,ge,Oe,$e){return(Se,ue)=>{let Ne=ge,Pe=ve,Be=0;Se.subscribe((0,y.x)(ue,Ye=>{const mt=Be++;Pe=Ne?Ie(Pe,Ye,mt):(Ne=!0,Ye),Oe&&ue.next(Pe)},$e&&(()=>{Ne&&ue.next(Pe),ue.complete()})))}}(Ie,ve,arguments.length>=2,!0))}},3099:(cn,ut,F)=>{"use strict";F.d(ut,{B:()=>Ie});var v=F(8421),y=F(7579),te=F(930),de=F(4482);function Ie(ge={}){const{connector:Oe=(()=>new y.x),resetOnError:$e=!0,resetOnComplete:Se=!0,resetOnRefCountZero:ue=!0}=ge;return Ne=>{let Pe,Be,Ye,mt=0,ke=!1,be=!1;const ye=()=>{null==Be||Be.unsubscribe(),Be=void 0},Q=()=>{ye(),Pe=Ye=void 0,ke=be=!1},rt=()=>{const Ce=Pe;Q(),null==Ce||Ce.unsubscribe()};return(0,de.e)((Ce,Ke)=>{mt++,!be&&!ke&&ye();const Ue=Ye=null!=Ye?Ye:Oe();Ke.add(()=>{mt--,0===mt&&!be&&!ke&&(Be=ve(rt,ue))}),Ue.subscribe(Ke),!Pe&&mt>0&&(Pe=new te.Hp({next:Te=>Ue.next(Te),error:Te=>{be=!0,ye(),Be=ve(Q,$e,Te),Ue.error(Te)},complete:()=>{ke=!0,ye(),Be=ve(Q,Se),Ue.complete()}}),(0,v.Xf)(Ce).subscribe(Pe))})(Ne)}}function ve(ge,Oe,...$e){if(!0===Oe)return void ge();if(!1===Oe)return;const Se=new te.Hp({next:()=>{Se.unsubscribe(),ge()}});return(0,v.Xf)(Oe(...$e)).subscribe(Se)}},8675:(cn,ut,F)=>{"use strict";F.d(ut,{O:()=>de});var v=F(7272),y=F(3269),te=F(4482);function de(...Ie){const ve=(0,y.yG)(Ie);return(0,te.e)((ge,Oe)=>{(ve?(0,v.z)(Ie,ge,ve):(0,v.z)(Ie,ge)).subscribe(Oe)})}},9468:(cn,ut,F)=>{"use strict";F.d(ut,{R:()=>y});var v=F(4482);function y(te,de=0){return(0,v.e)((Ie,ve)=>{ve.add(te.schedule(()=>Ie.subscribe(ve),de))})}},3900:(cn,ut,F)=>{"use strict";F.d(ut,{w:()=>de});var v=F(8421),y=F(4482),te=F(5403);function de(Ie,ve){return(0,y.e)((ge,Oe)=>{let $e=null,Se=0,ue=!1;const Ne=()=>ue&&!$e&&Oe.complete();ge.subscribe((0,te.x)(Oe,Pe=>{null==$e||$e.unsubscribe();let Be=0;const Ye=Se++;(0,v.Xf)(Ie(Pe,Ye)).subscribe($e=(0,te.x)(Oe,mt=>Oe.next(ve?ve(Pe,mt,Ye,Be++):mt),()=>{$e=null,Ne()}))},()=>{ue=!0,Ne()}))})}},5698:(cn,ut,F)=>{"use strict";F.d(ut,{q:()=>de});var v=F(515),y=F(4482),te=F(5403);function de(Ie){return Ie<=0?()=>v.E:(0,y.e)((ve,ge)=>{let Oe=0;ve.subscribe((0,te.x)(ge,$e=>{++Oe<=Ie&&(ge.next($e),Ie<=Oe&&ge.complete())}))})}},8505:(cn,ut,F)=>{"use strict";F.d(ut,{b:()=>Ie});var v=F(576),y=F(4482),te=F(5403),de=F(4671);function Ie(ve,ge,Oe){const $e=(0,v.m)(ve)||ge||Oe?{next:ve,error:ge,complete:Oe}:ve;return $e?(0,y.e)((Se,ue)=>{var Ne;null===(Ne=$e.subscribe)||void 0===Ne||Ne.call($e);let Pe=!0;Se.subscribe((0,te.x)(ue,Be=>{var Ye;null===(Ye=$e.next)||void 0===Ye||Ye.call($e,Be),ue.next(Be)},()=>{var Be;Pe=!1,null===(Be=$e.complete)||void 0===Be||Be.call($e),ue.complete()},Be=>{var Ye;Pe=!1,null===(Ye=$e.error)||void 0===Ye||Ye.call($e,Be),ue.error(Be)},()=>{var Be,Ye;Pe&&(null===(Be=$e.unsubscribe)||void 0===Be||Be.call($e)),null===(Ye=$e.finalize)||void 0===Ye||Ye.call($e)}))}):de.y}},8068:(cn,ut,F)=>{"use strict";F.d(ut,{T:()=>de});var v=F(6805),y=F(4482),te=F(5403);function de(ve=Ie){return(0,y.e)((ge,Oe)=>{let $e=!1;ge.subscribe((0,te.x)(Oe,Se=>{$e=!0,Oe.next(Se)},()=>$e?Oe.complete():Oe.error(ve())))})}function Ie(){return new v.K}},4408:(cn,ut,F)=>{"use strict";F.d(ut,{o:()=>Ie});var v=F(727);class y extends v.w0{constructor(ge,Oe){super()}schedule(ge,Oe=0){return this}}const te={setInterval(ve,ge,...Oe){const{delegate:$e}=te;return null!=$e&&$e.setInterval?$e.setInterval(ve,ge,...Oe):setInterval(ve,ge,...Oe)},clearInterval(ve){const{delegate:ge}=te;return((null==ge?void 0:ge.clearInterval)||clearInterval)(ve)},delegate:void 0};var de=F(8737);class Ie extends y{constructor(ge,Oe){super(ge,Oe),this.scheduler=ge,this.work=Oe,this.pending=!1}schedule(ge,Oe=0){var $e;if(this.closed)return this;this.state=ge;const Se=this.id,ue=this.scheduler;return null!=Se&&(this.id=this.recycleAsyncId(ue,Se,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(ue,this.id,Oe),this}requestAsyncId(ge,Oe,$e=0){return te.setInterval(ge.flush.bind(ge,this),$e)}recycleAsyncId(ge,Oe,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return Oe;null!=Oe&&te.clearInterval(Oe)}execute(ge,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(ge,Oe);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Oe){let Se,$e=!1;try{this.work(ge)}catch(ue){$e=!0,Se=ue||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),Se}unsubscribe(){if(!this.closed){const{id:ge,scheduler:Oe}=this,{actions:$e}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)($e,this),null!=ge&&(this.id=this.recycleAsyncId(Oe,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(cn,ut,F)=>{"use strict";F.d(ut,{v:()=>te});var v=F(6063);class y{constructor(Ie,ve=y.now){this.schedulerActionCtor=Ie,this.now=ve}schedule(Ie,ve=0,ge){return new this.schedulerActionCtor(this,Ie).schedule(ge,ve)}}y.now=v.l.now;class te extends y{constructor(Ie,ve=y.now){super(Ie,ve),this.actions=[],this._active=!1}flush(Ie){const{actions:ve}=this;if(this._active)return void ve.push(Ie);let ge;this._active=!0;do{if(ge=Ie.execute(Ie.state,Ie.delay))break}while(Ie=ve.shift());if(this._active=!1,ge){for(;Ie=ve.shift();)Ie.unsubscribe();throw ge}}}},4986:(cn,ut,F)=>{"use strict";F.d(ut,{P:()=>de,z:()=>te});var v=F(4408);const te=new(F(7565).v)(v.o),de=te},6063:(cn,ut,F)=>{"use strict";F.d(ut,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(cn,ut,F)=>{"use strict";F.d(ut,{z:()=>v});const v={setTimeout(y,te,...de){const{delegate:Ie}=v;return null!=Ie&&Ie.setTimeout?Ie.setTimeout(y,te,...de):setTimeout(y,te,...de)},clearTimeout(y){const{delegate:te}=v;return((null==te?void 0:te.clearTimeout)||clearTimeout)(y)},delegate:void 0}},2202:(cn,ut,F)=>{"use strict";F.d(ut,{h:()=>y});const y=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(cn,ut,F)=>{"use strict";F.d(ut,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(cn,ut,F)=>{"use strict";F.d(ut,{K:()=>y});const y=(0,F(3888).d)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(cn,ut,F)=>{"use strict";F.d(ut,{_6:()=>ve,jO:()=>de,yG:()=>Ie});var v=F(576),y=F(3532);function te(ge){return ge[ge.length-1]}function de(ge){return(0,v.m)(te(ge))?ge.pop():void 0}function Ie(ge){return(0,y.K)(te(ge))?ge.pop():void 0}function ve(ge,Oe){return"number"==typeof te(ge)?ge.pop():Oe}},4742:(cn,ut,F)=>{"use strict";F.d(ut,{D:()=>Ie});const{isArray:v}=Array,{getPrototypeOf:y,prototype:te,keys:de}=Object;function Ie(ge){if(1===ge.length){const Oe=ge[0];if(v(Oe))return{args:Oe,keys:null};if(function ve(ge){return ge&&"object"==typeof ge&&y(ge)===te}(Oe)){const $e=de(Oe);return{args:$e.map(Se=>Oe[Se]),keys:$e}}}return{args:ge,keys:null}}},8737:(cn,ut,F)=>{"use strict";function v(y,te){if(y){const de=y.indexOf(te);0<=de&&y.splice(de,1)}}F.d(ut,{P:()=>v})},3888:(cn,ut,F)=>{"use strict";function v(y){const de=y(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}F.d(ut,{d:()=>v})},1810:(cn,ut,F)=>{"use strict";function v(y,te){return y.reduce((de,Ie,ve)=>(de[Ie]=te[ve],de),{})}F.d(ut,{n:()=>v})},2806:(cn,ut,F)=>{"use strict";F.d(ut,{O:()=>de,x:()=>te});var v=F(2416);let y=null;function te(Ie){if(v.config.useDeprecatedSynchronousErrorHandling){const ve=!y;if(ve&&(y={errorThrown:!1,error:null}),Ie(),ve){const{errorThrown:ge,error:Oe}=y;if(y=null,ge)throw Oe}}else Ie()}function de(Ie){v.config.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=Ie)}},9672:(cn,ut,F)=>{"use strict";function v(y,te,de,Ie=0,ve=!1){const ge=te.schedule(function(){de(),ve?y.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(y.add(ge),!ve)return ge}F.d(ut,{f:()=>v})},4671:(cn,ut,F)=>{"use strict";function v(y){return y}F.d(ut,{y:()=>v})},1144:(cn,ut,F)=>{"use strict";F.d(ut,{z:()=>v});const v=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(cn,ut,F)=>{"use strict";F.d(ut,{D:()=>y});var v=F(576);function y(te){return Symbol.asyncIterator&&(0,v.m)(null==te?void 0:te[Symbol.asyncIterator])}},576:(cn,ut,F)=>{"use strict";function v(y){return"function"==typeof y}F.d(ut,{m:()=>v})},3670:(cn,ut,F)=>{"use strict";F.d(ut,{c:()=>te});var v=F(8822),y=F(576);function te(de){return(0,y.m)(de[v.L])}},6495:(cn,ut,F)=>{"use strict";F.d(ut,{T:()=>te});var v=F(2202),y=F(576);function te(de){return(0,y.m)(null==de?void 0:de[v.h])}},8239:(cn,ut,F)=>{"use strict";F.d(ut,{t:()=>y});var v=F(576);function y(te){return(0,v.m)(null==te?void 0:te.then)}},3260:(cn,ut,F)=>{"use strict";F.d(ut,{L:()=>de,Q:()=>te});var v=F(7582),y=F(576);function te(Ie){return(0,v.FC)(this,arguments,function*(){const ge=Ie.getReader();try{for(;;){const{value:Oe,done:$e}=yield(0,v.qq)(ge.read());if($e)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(Oe)}}finally{ge.releaseLock()}})}function de(Ie){return(0,y.m)(null==Ie?void 0:Ie.getReader)}},3532:(cn,ut,F)=>{"use strict";F.d(ut,{K:()=>y});var v=F(576);function y(te){return te&&(0,v.m)(te.schedule)}},4482:(cn,ut,F)=>{"use strict";F.d(ut,{A:()=>y,e:()=>te});var v=F(576);function y(de){return(0,v.m)(null==de?void 0:de.lift)}function te(de){return Ie=>{if(y(Ie))return Ie.lift(function(ve){try{return de(ve,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(cn,ut,F)=>{"use strict";F.d(ut,{Z:()=>de});var v=F(4004);const{isArray:y}=Array;function de(Ie){return(0,v.U)(ve=>function te(Ie,ve){return y(ve)?Ie(...ve):Ie(ve)}(Ie,ve))}},5032:(cn,ut,F)=>{"use strict";function v(){}F.d(ut,{Z:()=>v})},9635:(cn,ut,F)=>{"use strict";F.d(ut,{U:()=>te,z:()=>y});var v=F(4671);function y(...de){return te(de)}function te(de){return 0===de.length?v.y:1===de.length?de[0]:function(ve){return de.reduce((ge,Oe)=>Oe(ge),ve)}}},7849:(cn,ut,F)=>{"use strict";F.d(ut,{h:()=>te});var v=F(2416),y=F(3410);function te(de){y.z.setTimeout(()=>{const{onUnhandledError:Ie}=v.config;if(!Ie)throw de;Ie(de)})}},4532:(cn,ut,F)=>{"use strict";function v(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(ut,{z:()=>v})},863:(cn,ut,F)=>{var v={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function y(te){if(!F.o(v,te))return Promise.resolve().then(()=>{var ve=new Error("Cannot find module '"+te+"'");throw ve.code="MODULE_NOT_FOUND",ve});var de=v[te],Ie=de[0];return Promise.all(de.slice(1).map(F.e)).then(()=>F(Ie))}y.keys=()=>Object.keys(v),y.id=863,cn.exports=y},4755:(cn,ut,F)=>{"use strict";F.d(ut,{Do:()=>mt,EM:()=>$s,HT:()=>de,JF:()=>ys,K0:()=>ve,Mx:()=>xr,NF:()=>Gi,O5:()=>es,PM:()=>os,S$:()=>Pe,V_:()=>Oe,Ye:()=>ke,b0:()=>Ye,bD:()=>Mi,ez:()=>ps,q:()=>te,sg:()=>rs,tP:()=>jt,w_:()=>Ie});var v=F(2223);let y=null;function te(){return y}function de(k){y||(y=k)}class Ie{}const ve=new v.OlP("DocumentToken");let ge=(()=>{class k{historyGo(V){throw new Error("Not implemented")}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275prov=v.Yz7({token:k,factory:function(){return(0,v.f3M)($e)},providedIn:"platform"}),k})();const Oe=new v.OlP("Location Initialized");let $e=(()=>{class k extends ge{constructor(){super(),this._doc=(0,v.f3M)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(V){const ne=te().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",V,!1),()=>ne.removeEventListener("popstate",V)}onHashChange(V){const ne=te().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",V,!1),()=>ne.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,ne,Re){this._history.pushState(V,ne,Re)}replaceState(V,ne,Re){this._history.replaceState(V,ne,Re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275prov=v.Yz7({token:k,factory:function(){return new k},providedIn:"platform"}),k})();function Se(k,Z){if(0==k.length)return Z;if(0==Z.length)return k;let V=0;return k.endsWith("/")&&V++,Z.startsWith("/")&&V++,2==V?k+Z.substring(1):1==V?k+Z:k+"/"+Z}function ue(k){const Z=k.match(/#|\?|$/),V=Z&&Z.index||k.length;return k.slice(0,V-("/"===k[V-1]?1:0))+k.slice(V)}function Ne(k){return k&&"?"!==k[0]?"?"+k:k}let Pe=(()=>{class k{historyGo(V){throw new Error("Not implemented")}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275prov=v.Yz7({token:k,factory:function(){return(0,v.f3M)(Ye)},providedIn:"root"}),k})();const Be=new v.OlP("appBaseHref");let Ye=(()=>{class k extends Pe{constructor(V,ne){var Re,wt,zt;super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=null!==(Re=null!==(wt=null!=ne?ne:this._platformLocation.getBaseHrefFromDOM())&&void 0!==wt?wt:null===(zt=(0,v.f3M)(ve).location)||void 0===zt?void 0:zt.origin)&&void 0!==Re?Re:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return Se(this._baseHref,V)}path(V=!1){const ne=this._platformLocation.pathname+Ne(this._platformLocation.search),Re=this._platformLocation.hash;return Re&&V?`${ne}${Re}`:ne}pushState(V,ne,Re,wt){const zt=this.prepareExternalUrl(Re+Ne(wt));this._platformLocation.pushState(V,ne,zt)}replaceState(V,ne,Re,wt){const zt=this.prepareExternalUrl(Re+Ne(wt));this._platformLocation.replaceState(V,ne,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){var ne,Re;null===(ne=(Re=this._platformLocation).historyGo)||void 0===ne||ne.call(Re,V)}}return k.\u0275fac=function(V){return new(V||k)(v.LFG(ge),v.LFG(Be,8))},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),mt=(()=>{class k extends Pe{constructor(V,ne){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(V){const ne=Se(this._baseHref,V);return ne.length>0?"#"+ne:ne}pushState(V,ne,Re,wt){let zt=this.prepareExternalUrl(Re+Ne(wt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(V,ne,zt)}replaceState(V,ne,Re,wt){let zt=this.prepareExternalUrl(Re+Ne(wt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(V,ne,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){var ne,Re;null===(ne=(Re=this._platformLocation).historyGo)||void 0===ne||ne.call(Re,V)}}return k.\u0275fac=function(V){return new(V||k)(v.LFG(ge),v.LFG(Be,8))},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac}),k})(),ke=(()=>{class k{constructor(V){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const ne=this._locationStrategy.getBaseHref();this._basePath=function rt(k){if(new RegExp("^(https?:)?//").test(k)){const[,V]=k.split(/\/\/[^\/]+/);return V}return k}(ue(Q(ne))),this._locationStrategy.onPopState(Re=>{this._subject.emit({url:this.path(!0),pop:!0,state:Re.state,type:Re.type})})}ngOnDestroy(){var V;null===(V=this._urlChangeSubscription)||void 0===V||V.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,ne=""){return this.path()==this.normalize(V+Ne(ne))}normalize(V){return k.stripTrailingSlash(function ye(k,Z){if(!k||!Z.startsWith(k))return Z;const V=Z.substring(k.length);return""===V||["/",";","?","#"].includes(V[0])?V:Z}(this._basePath,Q(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,ne="",Re=null){this._locationStrategy.pushState(Re,"",V,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Ne(ne)),Re)}replaceState(V,ne="",Re=null){this._locationStrategy.replaceState(Re,"",V,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Ne(ne)),Re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){var ne,Re;null===(ne=(Re=this._locationStrategy).historyGo)||void 0===ne||ne.call(Re,V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)})),()=>{const ne=this._urlChangeListeners.indexOf(V);var Re;this._urlChangeListeners.splice(ne,1),0===this._urlChangeListeners.length&&(null===(Re=this._urlChangeSubscription)||void 0===Re||Re.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",ne){this._urlChangeListeners.forEach(Re=>Re(V,ne))}subscribe(V,ne,Re){return this._subject.subscribe({next:V,error:ne,complete:Re})}}return k.normalizeQueryParams=Ne,k.joinWithSlash=Se,k.stripTrailingSlash=ue,k.\u0275fac=function(V){return new(V||k)(v.LFG(Pe))},k.\u0275prov=v.Yz7({token:k,factory:function(){return function be(){return new ke((0,v.LFG)(Pe))}()},providedIn:"root"}),k})();function Q(k){return k.replace(/\/index.html$/,"")}function xr(k,Z){Z=encodeURIComponent(Z);for(const V of k.split(";")){const ne=V.indexOf("="),[Re,wt]=-1==ne?[V,""]:[V.slice(0,ne),V.slice(ne+1)];if(Re.trim()===Z)return decodeURIComponent(wt)}return null}class Ji{constructor(Z,V,ne,Re){this.$implicit=Z,this.ngForOf=V,this.index=ne,this.count=Re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rs=(()=>{class k{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,ne,Re){this._viewContainer=V,this._template=ne,this._differs=Re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const ne=this._viewContainer;V.forEachOperation((Re,wt,zt)=>{if(null==Re.previousIndex)ne.createEmbeddedView(this._template,new Ji(Re.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)ne.remove(null===wt?void 0:wt);else if(null!==wt){const xn=ne.get(wt);ne.move(xn,zt),ji(xn,Re)}});for(let Re=0,wt=ne.length;Re<wt;Re++){const xn=ne.get(Re).context;xn.index=Re,xn.count=wt,xn.ngForOf=this._ngForOf}V.forEachIdentityChange(Re=>{ji(ne.get(Re.currentIndex),Re)})}static ngTemplateContextGuard(V,ne){return!0}}return k.\u0275fac=function(V){return new(V||k)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function ji(k,Z){k.context.$implicit=Z.item}let es=(()=>{class k{constructor(V,ne){this._viewContainer=V,this._context=new Os,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Hi("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Hi("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,ne){return!0}}return k.\u0275fac=function(V){return new(V||k)(v.Y36(v.s_b),v.Y36(v.Rgc))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class Os{constructor(){this.$implicit=null,this.ngIf=null}}function Hi(k,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,v.AaK)(Z)}'.`)}let jt=(()=>{class k{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const ne=this._viewContainerRef;if(this._viewRef&&ne.remove(ne.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Re,ngTemplateOutletContext:wt,ngTemplateOutletInjector:zt}=this;this._viewRef=ne.createEmbeddedView(Re,wt,zt?{injector:zt}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(V){return new(V||k)(v.Y36(v.s_b))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[v.TTD]}),k})(),ps=(()=>{class k{}return k.\u0275fac=function(V){return new(V||k)},k.\u0275mod=v.oAB({type:k}),k.\u0275inj=v.cJS({}),k})();const Mi="browser",xi="server";function Gi(k){return k===Mi}function os(k){return k===xi}let $s=(()=>{class k{}return k.\u0275prov=(0,v.Yz7)({token:k,providedIn:"root",factory:()=>new Ro((0,v.LFG)(ve),window)}),k})();class Ro{constructor(Z,V){this.document=Z,this.window=V,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const V=function Ts(k,Z){const V=k.getElementById(Z)||k.getElementsByName(Z)[0];if(V)return V;if("function"==typeof k.createTreeWalker&&k.body&&"function"==typeof k.body.attachShadow){const ne=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let Re=ne.currentNode;for(;Re;){const wt=Re.shadowRoot;if(wt){const zt=wt.getElementById(Z)||wt.querySelector(`[name="${Z}"]`);if(zt)return zt}Re=ne.nextNode()}}return null}(this.document,Z);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=Z)}}scrollToElement(Z){const V=Z.getBoundingClientRect(),ne=V.left+this.window.pageXOffset,Re=V.top+this.window.pageYOffset,wt=this.offset();this.window.scrollTo(ne-wt[0],Re-wt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=pi(this.window.history)||pi(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function pi(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class ys{}},2223:(cn,ut,F)=>{"use strict";F.d(ut,{$8M:()=>nc,$WT:()=>at,$Z:()=>lf,AFp:()=>yl,AaK:()=>Pe,AsE:()=>T_,CHM:()=>hr,CRH:()=>jE,D6c:()=>MC,EJc:()=>PD,EpF:()=>Iv,F$t:()=>Dv,F4k:()=>Vm,FYo:()=>lg,FiY:()=>xu,G48:()=>rC,Gf:()=>VE,GfV:()=>fm,GkF:()=>Sy,Gpc:()=>mt,HDt:()=>cI,Hsn:()=>Ry,JOm:()=>Tr,KtG:()=>su,LFG:()=>ln,LMc:()=>RC,Lbi:()=>Zh,Lck:()=>mb,MAs:()=>wy,MMx:()=>gE,MR2:()=>Gh,NdJ:()=>Um,Ojb:()=>Xh,OlP:()=>Xi,Oqu:()=>D_,P3R:()=>Jg,PXZ:()=>YD,Q6J:()=>by,QGY:()=>Ay,Qsj:()=>hm,R0b:()=>nu,RDi:()=>Yg,Rgc:()=>Zy,SBq:()=>uh,Sil:()=>kD,Suo:()=>UE,TTD:()=>Ki,TgZ:()=>$m,VKq:()=>bE,X6Q:()=>nC,XFs:()=>Vt,Xpm:()=>Ze,Xts:()=>th,Y36:()=>hh,YKP:()=>fE,YNc:()=>pv,Yjl:()=>En,Yz7:()=>Ut,Z0I:()=>Ct,ZZ4:()=>c0,_Bn:()=>hE,_UZ:()=>Vg,_c5:()=>_C,_uU:()=>Mp,aQg:()=>d0,c2e:()=>uI,cJS:()=>Zt,cg1:()=>S_,dDg:()=>GD,dqk:()=>Gn,eFA:()=>DI,eJc:()=>W_,ekj:()=>i,eoX:()=>EI,f3M:()=>Tn,g9A:()=>Wf,h0i:()=>Wm,hGG:()=>EC,iGM:()=>$E,ifc:()=>pr,ip1:()=>lI,jDz:()=>mE,kL8:()=>B0,lG2:()=>Ft,lqb:()=>Dc,lri:()=>vI,n5z:()=>ol,oAB:()=>Tt,oxw:()=>xy,q4F:()=>ep,qFp:()=>OC,qLn:()=>kc,qOj:()=>sv,qZA:()=>Cd,rWj:()=>_I,rg0:()=>_s,sBO:()=>iC,s_b:()=>$v,soG:()=>Uv,tb:()=>r0,tp0:()=>jl,uIk:()=>mf,vHH:()=>Ce,vpe:()=>Th,wAp:()=>$r,xp6:()=>gg,z2F:()=>qm,zSh:()=>Kh,zs3:()=>gu});var Se,v=F(7579),y=F(727),te=F(1135),de=F(9751),Ie=F(6451),ve=F(9646),ge=F(3099),Oe=F(3900),$e=F(1884);function ue(t){for(let r in t)if(t[r]===ue)return r;throw Error("Could not find renamed property on target object.")}function Ne(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Be(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ye=ue({__forward_ref__:ue});function mt(t){return t.__forward_ref__=mt,t.toString=function(){return Pe(this())},t}function ke(t){return be(t)?t():t}function be(t){return"function"==typeof t&&t.hasOwnProperty(Ye)&&t.__forward_ref__===mt}function ye(t){return t&&!!t.\u0275providers}const rt="https://g.co/ng/security#xss";class Ce extends Error{constructor(r,s){super(function Ke(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function yt(t,r){throw new Ce(-201,!1)}function nn(t,r){null==t&&function Mt(t,r,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${r} <=Actual]`))}(r,t,null,"!=")}function Ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mn(t){return nr(t,Qn)||nr(t,Yn)}function Ct(t){return null!==Mn(t)}function nr(t,r){return t.hasOwnProperty(r)?t[r]:null}function On(t){return t&&(t.hasOwnProperty(Gr)||t.hasOwnProperty(fr))?t[Gr]:null}const Qn=ue({\u0275prov:ue}),Gr=ue({\u0275inj:ue}),Yn=ue({ngInjectableDef:ue}),fr=ue({ngInjectorDef:ue});var Vt=(()=>((Vt=Vt||{})[Vt.Default=0]="Default",Vt[Vt.Host=1]="Host",Vt[Vt.Self=2]="Self",Vt[Vt.SkipSelf=4]="SkipSelf",Vt[Vt.Optional=8]="Optional",Vt))();let $n;function Mr(t){const r=$n;return $n=t,r}function Yr(t,r,s){const u=Mn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Vt.Optional?null:void 0!==r?r:void yt(Pe(t))}const Gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),sr={},Si="__NG_DI_FLAG__",Er="ngTempTokenPath",st=/\n/gm,je="__source";let Qe;function $t(t){const r=Qe;return Qe=t,r}function hn(t,r=Vt.Default){if(void 0===Qe)throw new Ce(-203,!1);return null===Qe?Yr(t,void 0,r):Qe.get(t,r&Vt.Optional?null:void 0,r)}function ln(t,r=Vt.Default){return(function zr(){return $n}()||hn)(ke(t),r)}function Tn(t,r=Vt.Default){return ln(t,_t(r))}function _t(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ve(t){const r=[];for(let s=0;s<t.length;s++){const u=ke(t[s]);if(Array.isArray(u)){if(0===u.length)throw new Ce(900,!1);let h,g=Vt.Default;for(let I=0;I<u.length;I++){const x=u[I],N=gt(x);"number"==typeof N?-1===N?h=x.token:g|=N:h=x}r.push(ln(h,g))}else r.push(ln(u))}return r}function xe(t,r){return t[Si]=r,t.prototype[Si]=r,t}function gt(t){return t[Si]}function An(t){return{toString:t}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),pr=(()=>{return(t=pr||(pr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",pr;var t})();const Vr={},qn=[],Ui=ue({\u0275cmp:ue}),hi=ue({\u0275dir:ue}),ns=ue({\u0275pipe:ue}),fi=ue({\u0275mod:ue}),Ei=ue({\u0275fac:ue}),si=ue({__NG_ELEMENT_ID__:ue}),gr=ue({__NG_ENV_ID__:ue});function Ir(t,r,s){let u=t.length;for(;;){const h=t.indexOf(r,s);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const g=r.length;if(h+g===u||t.charCodeAt(h+g)<=32)return h}s=h+1}}function Pr(t,r,s){let u=0;for(;u<s.length;){const h=s[u];if("number"==typeof h){if(0!==h)break;u++;const g=s[u++],I=s[u++],x=s[u++];t.setAttribute(r,I,x,g)}else{const g=h,I=s[++u];Ai(g)?t.setProperty(r,g,I):t.setAttribute(r,g,I),u++}}return u}function Pi(t){return 3===t||4===t||6===t}function Ai(t){return 64===t.charCodeAt(0)}function li(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let u=0;u<r.length;u++){const h=r[u];"number"==typeof h?s=h:0===s||Ii(t,s,h,null,-1===s||2===s?r[++u]:null)}}return t}function Ii(t,r,s,u,h){let g=0,I=t.length;if(-1===r)I=-1;else for(;g<t.length;){const x=t[g++];if("number"==typeof x){if(x===r){I=-1;break}if(x>r){I=g-1;break}}}for(;g<t.length;){const x=t[g];if("number"==typeof x)break;if(x===s){if(null===u)return void(null!==h&&(t[g+1]=h));if(u===t[g+1])return void(t[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==I&&(t.splice(I,0,r),g=I+1),t.splice(g++,0,s),null!==u&&t.splice(g++,0,u),null!==h&&t.splice(g++,0,h)}const Nr="ng-template";function xr(t,r,s){let u=0,h=!0;for(;u<t.length;){let g=t[u++];if("string"==typeof g&&h){const I=t[u++];if(s&&"class"===g&&-1!==Ir(I.toLowerCase(),r,0))return!0}else{if(1===g){for(;u<t.length&&"string"==typeof(g=t[u++]);)if(g.toLowerCase()===r)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Bi(t){return 4===t.type&&t.value!==Nr}function wi(t,r,s){return r===(4!==t.type||s?t.value:Nr)}function Ds(t,r,s){let u=4;const h=t.attrs||[],g=function ji(t){for(let r=0;r<t.length;r++)if(Pi(t[r]))return r;return t.length}(h);let I=!1;for(let x=0;x<r.length;x++){const N=r[x];if("number"!=typeof N){if(!I)if(4&u){if(u=2|1&u,""!==N&&!wi(t,N,s)||""===N&&1===r.length){if(Ni(u))return!1;I=!0}}else{const W=8&u?N:r[++x];if(8&u&&null!==t.attrs){if(!xr(t.attrs,W,s)){if(Ni(u))return!1;I=!0}continue}const me=Cs(8&u?"class":N,h,Bi(t),s);if(-1===me){if(Ni(u))return!1;I=!0;continue}if(""!==W){let ot;ot=me>g?"":h[me+1].toLowerCase();const vt=8&u?ot:null;if(vt&&-1!==Ir(vt,W,0)||2&u&&W!==ot){if(Ni(u))return!1;I=!0}}}}else{if(!I&&!Ni(u)&&!Ni(N))return!1;if(I&&Ni(N))continue;I=!1,u=N|1&u}}return Ni(u)||I}function Ni(t){return 0==(1&t)}function Cs(t,r,s,u){if(null===r)return-1;let h=0;if(u||!s){let g=!1;for(;h<r.length;){const I=r[h];if(I===t)return h;if(3===I||6===I)g=!0;else{if(1===I||2===I){let x=r[++h];for(;"string"==typeof x;)x=r[++h];continue}if(4===I)break;if(0===I){h+=4;continue}}h+=g?1:2}return-1}return function hs(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===r)return s;s++}return-1}(r,t)}function Ji(t,r,s=!1){for(let u=0;u<r.length;u++)if(Ds(t,r[u],s))return!0;return!1}function es(t,r){e:for(let s=0;s<r.length;s++){const u=r[s];if(t.length===u.length){for(let h=0;h<t.length;h++)if(t[h]!==u[h])continue e;return!0}}return!1}function Os(t,r){return t?":not("+r.trim()+")":r}function Hi(t){let r=t[0],s=1,u=2,h="",g=!1;for(;s<t.length;){let I=t[s];if("string"==typeof I)if(2&u){const x=t[++s];h+="["+I+(x.length>0?'="'+x+'"':"")+"]"}else 8&u?h+="."+I:4&u&&(h+=" "+I);else""!==h&&!Ni(I)&&(r+=Os(g,h),h=""),u=I,g=g||!Ni(u);s++}return""!==h&&(r+=Os(g,h)),r}function Ze(t){return An(()=>{const r=Ht(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||pr.Emulated,styles:t.styles||qn,_:null,schemas:t.schemas||null,tView:null,id:""};sn(s);const u=t.dependencies;return s.directiveDefs=In(u,!1),s.pipeDefs=In(u,!0),s.id=function ei(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const h of s)r=Math.imul(31,r)+h.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function nt(t){return gn(t)||Pn(t)}function We(t){return null!==t}function Tt(t){return An(()=>({type:t.type,bootstrap:t.bootstrap||qn,declarations:t.declarations||qn,imports:t.imports||qn,exports:t.exports||qn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jt(t,r){if(null==t)return Vr;const s={};for(const u in t)if(t.hasOwnProperty(u)){let h=t[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),s[h]=u,r&&(r[h]=g)}return s}function Ft(t){return An(()=>{const r=Ht(t);return sn(r),r})}function En(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function gn(t){return t[Ui]||null}function Pn(t){return t[hi]||null}function Xe(t){return t[ns]||null}function at(t){const r=gn(t)||Pn(t)||Xe(t);return null!==r&&r.standalone}function lt(t,r){const s=t[fi]||null;if(!s&&!0===r)throw new Error(`Type ${Pe(t)} does not have '\u0275mod' property.`);return s}function Ht(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||qn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jt(t.inputs,r),outputs:jt(t.outputs)}}function sn(t){var r;null===(r=t.features)||void 0===r||r.forEach(s=>s(t))}function In(t,r){if(!t)return null;const s=r?Xe:nt;return()=>("function"==typeof t?t():t).map(u=>s(u)).filter(We)}const Zn=0,vn=1,Wn=2,Rr=3,ni=4,is=5,bi=6,fs=7,Xr=8,Fs=9,ss=10,jn=11,Is=12,Ls=13,Ys=14,ri=15,fo=16,ps=17,Mi=18,xi=19,Bs=20,gs=21,Gi=22,os=23,jo=24,ur=25,$s=1,Ro=2,pi=7,Ts=8,ms=9,$i=11;function vs(t){return Array.isArray(t)&&"object"==typeof t[$s]}function Sr(t){return Array.isArray(t)&&!0===t[$s]}function Vs(t){return 0!=(4&t.flags)}function no(t){return t.componentOffset>-1}function Us(t){return 1==(1&t.flags)}function mr(t){return!!t.template}function Ri(t){return 0!=(512&t[Wn])}function j(t,r){return t.hasOwnProperty(Ei)?t[Ei]:null}let ti=null!==(Se=Gn.WeakRef)&&void 0!==Se?Se:class wn{constructor(r){this.ref=r}deref(){return this.ref}},Co=0,Wi=null,qs=!1;function ki(t){const r=Wi;return Wi=t,r}class ui{constructor(){this.id=Co++,this.ref=function as(t){return new ti(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,s]of this.producers){const u=s.producerNode.deref();if(void 0!==u&&s.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(r),null==u||u.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=qs;qs=!0;try{for(const[s,u]of this.consumers){const h=u.consumerNode.deref();void 0!==h&&h.trackingVersion===u.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),null==h||h.producers.delete(this.id))}}finally{qs=r}}producerAccessed(){if(qs)throw new Error("");if(null===Wi)return;let r=Wi.producers.get(this.id);void 0===r?(r={consumerNode:Wi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Wi.trackingVersion},Wi.producers.set(this.id,r),this.consumers.set(Wi.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=Wi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=Wi)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let ga=null;function _s(t){const r=ki(null);try{return t()}finally{ki(r)}}const No=()=>{};class kl extends ui{constructor(r,s,u){super(),this.watch=r,this.schedule=s,this.dirty=!1,this.cleanupFn=No,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=ki(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=No,this.watch(this.registerOnCleanup)}finally{ki(r)}}cleanup(){this.cleanupFn()}}class mo{constructor(r,s,u){this.previousValue=r,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ki(){return Eu}function Eu(t){return t.type.prototype.ngOnChanges&&(t.setInput=nl),Fl}function Fl(){const t=ra(this),r=null==t?void 0:t.current;if(r){const s=t.previous;if(s===Vr)t.previous=r;else for(let u in r)s[u]=r[u];t.current=null,this.ngOnChanges(r)}}function nl(t,r,s,u){const h=this.declaredInputs[s],g=ra(t)||function To(t,r){return t[va]=r}(t,{previous:Vr,current:null}),I=g.current||(g.current={}),x=g.previous,N=x[h];I[h]=new mo(N&&N.currentValue,r,x===Vr),t[u]=r}Ki.ngInherit=!0;const va="__ngSimpleChanges__";function ra(t){return t[va]||null}const js=function(t,r,s){};function Cr(t){for(;Array.isArray(t);)t=t[Zn];return t}function Il(t,r){return Cr(r[t])}function Yi(t,r){return Cr(r[t.index])}function Z(t,r){return t.data[r]}function ne(t,r){const s=r[t];return vs(s)?s:s[Zn]}function wt(t){return 128==(128&t[Wn])}function xn(t,r){return null==r?null:t[r]}function cr(t){t[ps]=0}function Br(t){1024&t[Wn]||(t[Wn]|=1024,rr(t,1))}function Wr(t){1024&t[Wn]&&(t[Wn]&=-1025,rr(t,-1))}function rr(t,r){let s=t[Rr];if(null===s)return;s[is]+=r;let u=s;for(s=s[Rr];null!==s&&(1===r&&1===u[is]||-1===r&&0===u[is]);)s[is]+=r,u=s,s=s[Rr]}const Rn={lFrame:wu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Hs(){return Rn.bindingsEnabled}function Es(){return null!==Rn.skipHydrationRootTNode}function Jt(){return Rn.lFrame.lView}function dn(){return Rn.lFrame.tView}function hr(t){return Rn.lFrame.contextLView=t,t[Xr]}function su(t){return Rn.lFrame.contextLView=null,t}function mn(){let t=Ot();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ot(){return Rn.lFrame.currentTNode}function ci(t,r){const s=Rn.lFrame;s.currentTNode=t,s.isParent=r}function ja(){return Rn.lFrame.isParent}function Fo(){Rn.lFrame.isParent=!1}function sa(){return Rn.lFrame.bindingIndex++}function _a(t){const r=Rn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function yo(t,r){const s=Rn.lFrame;s.bindingIndex=s.bindingRootIndex=t,mi(r)}function mi(t){Rn.lFrame.currentDirectiveIndex=t}function Ha(){return Rn.lFrame.currentQueryIndex}function Ur(t){Rn.lFrame.currentQueryIndex=t}function Qu(t){const r=t[vn];return 2===r.type?r.declTNode:1===r.type?t[bi]:null}function us(t,r,s){if(s&Vt.SkipSelf){let h=r,g=t;for(;!(h=h.parent,null!==h||s&Vt.Host||(h=Qu(g),null===h||(g=g[Ys],10&h.type))););if(null===h)return!1;r=h,t=g}const u=Rn.lFrame=rl();return u.currentTNode=r,u.lView=t,!0}function bn(t){const r=rl(),s=t[vn];Rn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function rl(){const t=Rn.lFrame,r=null===t?null:t.child;return null===r?wu(t):r}function wu(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ca(){const t=Rn.lFrame;return Rn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Dl=Ca;function Cl(){const t=Ca();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yi(){return Rn.lFrame.selectedIndex}function oa(t){Rn.lFrame.selectedIndex=t}function Fi(){const t=Rn.lFrame;return Z(t.tView,t.selectedIndex)}let S=!0;function O(){return S}function b(t){S=t}function z(t,r){for(let W=r.directiveStart,re=r.directiveEnd;W<re;W++){const ot=t.data[W].type.prototype,{ngAfterContentInit:vt,ngAfterContentChecked:qt,ngAfterViewInit:_n,ngAfterViewChecked:Nn,ngOnDestroy:Xn}=ot;var s,u,h,g,I,x,N;vt&&(null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(-W,vt),qt&&((null!==(u=t.contentHooks)&&void 0!==u?u:t.contentHooks=[]).push(W,qt),(null!==(h=t.contentCheckHooks)&&void 0!==h?h:t.contentCheckHooks=[]).push(W,qt)),_n&&(null!==(g=t.viewHooks)&&void 0!==g?g:t.viewHooks=[]).push(-W,_n),Nn&&((null!==(I=t.viewHooks)&&void 0!==I?I:t.viewHooks=[]).push(W,Nn),(null!==(x=t.viewCheckHooks)&&void 0!==x?x:t.viewCheckHooks=[]).push(W,Nn)),null!=Xn&&(null!==(N=t.destroyHooks)&&void 0!==N?N:t.destroyHooks=[]).push(W,Xn)}}function oe(t,r,s){Kt(t,r,3,s)}function ce(t,r,s,u){(3&t[Wn])===s&&Kt(t,r,s,u)}function Je(t,r){let s=t[Wn];(3&s)===r&&(s&=4095,s+=1,t[Wn]=s)}function Kt(t,r,s,u){const g=null!=u?u:-1,I=r.length-1;let x=0;for(let N=void 0!==u?65535&t[ps]:0;N<I;N++)if("number"==typeof r[N+1]){if(x=r[N],null!=u&&x>=u)break}else r[N]<0&&(t[ps]+=65536),(x<g||-1==g)&&(Ln(t,s,r,N),t[ps]=(4294901760&t[ps])+N+2),N++}function Dn(t,r){js(4,t,r);const s=ki(null);try{r.call(t)}finally{ki(s),js(5,t,r)}}function Ln(t,r,s,u){const h=s[u]<0,g=s[u+1],x=t[h?-s[u]:s[u]];h?t[Wn]>>12<t[ps]>>16&&(3&t[Wn])===r&&(t[Wn]+=4096,Dn(x,g)):Dn(x,g)}const Vn=-1;class tr{constructor(r,s,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Sl(t){return t!==Vn}function Vi(t){return 32767&t}function _o(t,r){let s=function Sa(t){return t>>16}(t),u=r;for(;s>0;)u=u[Ys],s--;return u}let vi=!0;function Aa(t){const r=vi;return vi=t,r}const Du=255,$l=5;let xd=0;const ws={};function H(t,r){const s=Fe(t,r);if(-1!==s)return s;const u=r[vn];u.firstCreatePass&&(t.injectorIndex=r.length,ae(u.data,t),ae(r,null),ae(u.blueprint,null));const h=ft(t,r),g=t.injectorIndex;if(Sl(h)){const I=Vi(h),x=_o(h,r),N=x[vn].data;for(let W=0;W<8;W++)r[g+W]=x[I+W]|N[I+W]}return r[g+8]=h,g}function ae(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Fe(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function ft(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,h=r;for(;null!==h;){if(u=Li(h),null===u)return Vn;if(s++,h=h[Ys],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return Vn}function At(t,r,s){!function $(t,r,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(si)&&(u=s[si]),null==u&&(u=s[si]=xd++);const h=u&Du;r.data[t+(h>>$l)]|=1<<h}(t,r,s)}function Cn(t,r,s){if(s&Vt.Optional||void 0!==t)return t;yt()}function Bn(t,r,s,u){if(s&Vt.Optional&&void 0===u&&(u=null),!(s&(Vt.Self|Vt.Host))){const h=t[Fs],g=Mr(void 0);try{return h?h.get(r,u,s&Vt.Optional):Yr(r,u,s&Vt.Optional)}finally{Mr(g)}}return Cn(u,0,s)}function Ar(t,r,s,u=Vt.Default,h){if(null!==t){if(2048&r[Wn]&&!(u&Vt.Self)){const I=function ou(t,r,s,u,h){let g=t,I=r;for(;null!==g&&null!==I&&2048&I[Wn]&&!(512&I[Wn]);){const x=wr(g,I,s,u|Vt.Self,ws);if(x!==ws)return x;let N=g.parent;if(!N){const W=I[Bs];if(W){const re=W.get(s,ws,u);if(re!==ws)return re}N=Li(I),I=I[Ys]}g=N}return h}(t,r,s,u,ws);if(I!==ws)return I}const g=wr(t,r,s,u,ws);if(g!==ws)return g}return Bn(r,s,u,h)}function wr(t,r,s,u,h){const g=function za(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(si)?t[si]:void 0;return"number"==typeof r?r>=0?r&Du:sl:r}(s);if("function"==typeof g){if(!us(r,t,u))return u&Vt.Host?Cn(h,0,u):Bn(r,s,u,h);try{const I=g(u);if(null!=I||u&Vt.Optional)return I;yt()}finally{Dl()}}else if("number"==typeof g){let I=null,x=Fe(t,r),N=Vn,W=u&Vt.Host?r[ri][bi]:null;for((-1===x||u&Vt.SkipSelf)&&(N=-1===x?ft(t,r):r[x+8],N!==Vn&&Ko(u,!1)?(I=r[vn],x=Vi(N),r=_o(N,r)):x=-1);-1!==x;){const re=r[vn];if(il(g,x,re.data)){const me=or(x,r,s,I,u,W);if(me!==ws)return me}N=r[x+8],N!==Vn&&Ko(u,r[vn].data[x+8]===W)&&il(g,x,r)?(I=re,x=Vi(N),r=_o(N,r)):x=-1}}return h}function or(t,r,s,u,h,g){const I=r[vn],x=I.data[t+8],re=qi(x,I,s,null==u?no(x)&&vi:u!=I&&0!=(3&x.type),h&Vt.Host&&g===x);return null!==re?Ms(r,I,re,x):ws}function qi(t,r,s,u,h){const g=t.providerIndexes,I=r.data,x=1048575&g,N=t.directiveStart,re=g>>20,ot=h?x+re:t.directiveEnd;for(let vt=u?x:x+re;vt<ot;vt++){const qt=I[vt];if(vt<N&&s===qt||vt>=N&&qt.type===s)return vt}if(h){const vt=I[N];if(vt&&mr(vt)&&vt.type===s)return N}return null}function Ms(t,r,s,u){let h=t[s];const g=r.data;if(function ir(t){return t instanceof tr}(h)){const I=h;I.resolving&&function q(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Te(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}(g[s]));const x=Aa(I.canSeeViewProviders);I.resolving=!0;const N=I.injectImpl?Mr(I.injectImpl):null;us(t,u,Vt.Default);try{h=t[s]=I.factory(void 0,g,t,u),r.firstCreatePass&&s>=u.directiveStart&&function R(t,r,s){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=r.type.prototype;if(u){var I,x;const me=Eu(r);(null!==(I=s.preOrderHooks)&&void 0!==I?I:s.preOrderHooks=[]).push(t,me),(null!==(x=s.preOrderCheckHooks)&&void 0!==x?x:s.preOrderCheckHooks=[]).push(t,me)}var N,W,re;h&&(null!==(N=s.preOrderHooks)&&void 0!==N?N:s.preOrderHooks=[]).push(0-t,h),g&&((null!==(W=s.preOrderHooks)&&void 0!==W?W:s.preOrderHooks=[]).push(t,g),(null!==(re=s.preOrderCheckHooks)&&void 0!==re?re:s.preOrderCheckHooks=[]).push(t,g))}(s,g[s],r)}finally{null!==N&&Mr(N),Aa(x),I.resolving=!1,Dl()}}return h}function il(t,r,s){return!!(s[r+(t>>$l)]&1<<t)}function Ko(t,r){return!(t&Vt.Self||t&Vt.Host&&r)}class Wa{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,u){return Ar(this._tNode,this._lView,r,_t(u),s)}}function sl(){return new Wa(mn(),Jt())}function ol(t){return An(()=>{const r=t.prototype.constructor,s=r[Ei]||al(r),u=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==u;){const g=h[Ei]||al(h);if(g&&g!==s)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function al(t){return be(t)?()=>{const r=al(ke(t));return r&&r()}:j(t)}function Li(t){const r=t[vn],s=r.type;return 2===s?r.declTNode:1===s?t[bi]:null}function nc(t){return function Xt(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const u=s.length;let h=0;for(;h<u;){const g=s[h];if(Pi(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof s[h];)h++;else{if(g===r)return s[h+1];h+=2}}}return null}(mn(),t)}const Al="__parameters__";function Yo(t,r,s){return An(()=>{const u=function aa(t){return function(...s){if(t){const u=t(...s);for(const h in u)this[h]=u[h]}}}(r);function h(...g){if(this instanceof h)return u.apply(this,g),this;const I=new h(...g);return x.annotation=I,x;function x(N,W,re){const me=N.hasOwnProperty(Al)?N[Al]:Object.defineProperty(N,Al,{value:[]})[Al];for(;me.length<=re;)me.push(null);return(me[re]=me[re]||[]).push(I),N}}return s&&(h.prototype=Object.create(s.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}function la(t,r){t.forEach(s=>Array.isArray(s)?la(s,r):r(s))}function rc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function ll(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ic(t,r){const s=[];for(let u=0;u<t;u++)s.push(r);return s}function Lo(t,r,s){let u=Vl(t,r);return u>=0?t[1|u]=s:(u=~u,function Au(t,r,s,u){let h=t.length;if(h==r)t.push(s,u);else if(1===h)t.push(u,t[0]),t[0]=s;else{for(h--,t.push(t[h-1],t[h]);h>r;)t[h]=t[h-2],h--;t[r]=s,t[r+1]=u}}(t,u,r,s)),u}function Xc(t,r){const s=Vl(t,r);if(s>=0)return t[1|s]}function Vl(t,r){return function xa(t,r,s){let u=0,h=t.length>>s;for(;h!==u;){const g=u+(h-u>>1),I=t[g<<s];if(r===I)return g<<s;I>r?h=g:u=g+1}return~(h<<s)}(t,r,1)}const xu=xe(Yo("Optional"),8),jl=xe(Yo("SkipSelf"),4);function cc(t){return 128==(128&t.flags)}var Tr=(()=>((Tr=Tr||{})[Tr.Important=1]="Important",Tr[Tr.DashCase=2]="DashCase",Tr))();const Rh=/^>|^->|<!--|-->|--!>|<!-$/g,rd=/(<|>)/,Ya="\u200b$1\u200b";const hc=new Map;let Sf=0;const Yl="__ngContext__";function Eo(t,r){vs(r)?(t[Yl]=r[xi],function Oh(t){hc.set(t[xi],t)}(r)):t[Yl]=r}let he;function ct(t,r){return he(t,r)}function yn(t){const r=t[Rr];return Sr(r)?r[Rr]:r}function ar(t){return Oa(t[Is])}function Ws(t){return Oa(t[ni])}function Oa(t){for(;null!==t&&!Sr(t);)t=t[ni];return t}function ql(t,r,s,u,h){if(null!=u){let g,I=!1;Sr(u)?g=u:vs(u)&&(I=!0,u=u[Zn]);const x=Cr(u);0===t&&null!==s?null==h?Pp(r,s,x):yc(r,s,x,h||null,!0):1===t&&null!==s?yc(r,s,x,h||null,!0):2===t?function _c(t,r,s){const u=Pf(t,r);u&&function Of(t,r,s,u){t.removeChild(r,s,u)}(t,u,r,s)}(r,x,I):3===t&&r.destroyNode(x),null!=g&&function Yd(t,r,s,u,h){const g=s[pi];g!==Cr(s)&&ql(r,t,u,g,h);for(let x=$i;x<s.length;x++){const N=s[x];uo(N[vn],N,t,r,u,g)}}(r,t,g,s,h)}}function Ud(t,r){return t.createComment(function Nu(t){return t.replace(Rh,r=>r.replace(rd,Ya))}(r))}function dl(t,r,s){return t.createElement(r,s)}function Hd(t,r){const s=t[ms],u=s.indexOf(r);Wr(r),s.splice(u,1)}function Gd(t,r){if(t.length<=$i)return;const s=$i+r,u=t[s];if(u){const h=u[fo];null!==h&&h!==t&&Hd(h,u),r>0&&(t[s-1][ni]=u[ni]);const g=ll(t,$i+r);!function Zl(t,r){uo(t,r,r[jn],2,null,null),r[Zn]=null,r[bi]=null}(u[vn],u);const I=g[Mi];null!==I&&I.detachView(g[vn]),u[Rr]=null,u[ni]=null,u[Wn]&=-129}return u}function hl(t,r){if(!(256&r[Wn])){var s,u;const h=r[jn];null===(s=r[os])||void 0===s||s.destroy(),null===(u=r[jo])||void 0===u||u.destroy(),h.destroyNode&&uo(t,r,h,3,null,null),function mc(t){let r=t[Is];if(!r)return zd(t[vn],t);for(;r;){let s=null;if(vs(r))s=r[Is];else{const u=r[$i];u&&(s=u)}if(!s){for(;r&&!r[ni]&&r!==t;)vs(r)&&zd(r[vn],r),r=r[Rr];null===r&&(r=t),vs(r)&&zd(r[vn],r),s=r&&r[ni]}r=s}}(r)}}function zd(t,r){if(!(256&r[Wn])){r[Wn]&=-129,r[Wn]|=256,function Gg(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const h=r[s[u]];if(!(h instanceof tr)){const g=s[u+1];if(Array.isArray(g))for(let I=0;I<g.length;I+=2){const x=h[g[I]],N=g[I+1];js(4,x,N);try{N.call(x)}finally{js(5,x,N)}}else{js(4,h,g);try{g.call(h)}finally{js(5,h,g)}}}}}(t,r),function xf(t,r){const s=t.cleanup,u=r[fs];if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const I=s[g+3];I>=0?u[I]():u[-I].unsubscribe(),g+=2}else s[g].call(u[s[g+1]]);null!==u&&(r[fs]=null);const h=r[gs];if(null!==h){r[gs]=null;for(let g=0;g<h.length;g++)(0,h[g])()}}(t,r),1===r[vn].type&&r[jn].destroy();const s=r[fo];if(null!==s&&Sr(r[Rr])){s!==r[Rr]&&Hd(s,r);const u=r[Mi];null!==u&&u.detachView(t)}!function fc(t){hc.delete(t[xi])}(r)}}function Rf(t,r,s){return function ku(t,r,s){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return s[Zn];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:g}=t.data[u.directiveStart+h];if(g===pr.None||g===pr.Emulated)return null}return Yi(u,s)}}(t,r.parent,s)}function yc(t,r,s,u,h){t.insertBefore(r,s,u,h)}function Pp(t,r,s){t.appendChild(r,s)}function Fu(t,r,s,u,h){null!==u?yc(t,r,s,u,h):Pp(t,r,s)}function Pf(t,r){return t.parentNode(r)}function zg(t,r,s){return Nf(t,r,s)}let Fp,$u,Bf,Nf=function kp(t,r,s){return 40&t.type?Yi(t,s):null};function vc(t,r,s,u){const h=Rf(t,u,r),g=r[jn],x=zg(u.parent||r[bi],u,r);if(null!=h)if(Array.isArray(s))for(let N=0;N<s.length;N++)Fu(g,h,s[N],x,!1);else Fu(g,h,s,x,!1);void 0!==Fp&&Fp(g,u,r,s,h)}function Wd(t,r){if(null!==r){const s=r.type;if(3&s)return Yi(r,t);if(4&s)return kf(-1,t[r.index]);if(8&s){const u=r.child;if(null!==u)return Wd(t,u);{const h=t[r.index];return Sr(h)?kf(-1,h):Cr(h)}}if(32&s)return ct(r,t)()||Cr(t[r.index]);{const u=Wg(t,r);return null!==u?Array.isArray(u)?u[0]:Wd(yn(t[ri]),u):Wd(t,r.next)}}return null}function Wg(t,r){return null!==r?t[ri][bi].projection[r.projection]:null}function kf(t,r){const s=$i+t+1;if(s<r.length){const u=r[s],h=u[vn].firstChild;if(null!==h)return Wd(u,h)}return r[pi]}function Kd(t,r,s,u,h,g,I){for(;null!=s;){const x=u[s.index],N=s.type;if(I&&0===r&&(x&&Eo(Cr(x),u),s.flags|=2),32!=(32&s.flags))if(8&N)Kd(t,r,s.child,u,h,g,!1),ql(r,t,h,x,g);else if(32&N){const W=ct(s,u);let re;for(;re=W();)ql(r,t,h,re,g);ql(r,t,h,x,g)}else 16&N?Nh(t,r,u,s,h,g):ql(r,t,h,x,g);s=I?s.projectionNext:s.next}}function uo(t,r,s,u,h,g){Kd(s,u,t.firstChild,r,h,g,!1)}function Nh(t,r,s,u,h,g){const I=s[ri],N=I[bi].projection[u.projection];if(Array.isArray(N))for(let W=0;W<N.length;W++)ql(r,t,h,N[W],g);else{let W=N;const re=I[Rr];cc(u)&&(W.flags|=128),Kd(t,r,W,re,h,g,!0)}}function Lp(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Lf(t,r,s){const{mergedAttrs:u,classes:h,styles:g}=s;null!==u&&Pr(t,r,u),null!==h&&Lp(t,r,h),null!==g&&function ld(t,r,s){t.setAttribute(r,"style",s)}(t,r,g)}function Yg(t){$u=t}function cd(t){var r;return(null===(r=function Zd(){if(void 0===Bf&&(Bf=null,Gn.trustedTypes))try{Bf=Gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bf}())||void 0===r?void 0:r.createScriptURL(t))||t}class wc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}function Na(t){return t instanceof wc?t.changingThisBreaksApplicationSecurity:t}function ha(t,r){const s=function Vu(t){return t instanceof wc&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${rt})`)}return s===r}const Bh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Io=(()=>((Io=Io||{})[Io.NONE=0]="NONE",Io[Io.HTML=1]="HTML",Io[Io.STYLE=2]="STYLE",Io[Io.SCRIPT=3]="SCRIPT",Io[Io.URL=4]="URL",Io[Io.RESOURCE_URL=5]="RESOURCE_URL",Io))();function Pl(t){const r=co();return r?r.sanitize(Io.URL,t)||"":ha(t,"URL")?Na(t):function Qd(t){return(t=String(t)).match(Bh)?t:"unsafe:"+t}(Ue(t))}function hd(t){const r=co();if(r)return cd(r.sanitize(Io.RESOURCE_URL,t)||"");if(ha(t,"ResourceURL"))return cd(Na(t));throw new Ce(904,!1)}function Jg(t,r,s){return function Hh(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?hd:Pl}(r,s)(t)}function co(){const t=Jt();return t&&t[ss].sanitizer}class Xi{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ut({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const th=new Xi("ENVIRONMENT_INITIALIZER"),nm=new Xi("INJECTOR",-1),rm=new Xi("INJECTOR_DEF_TYPES");class Xp{get(r,s=sr){if(s===sr){const u=new Error(`NullInjectorError: No provider for ${Pe(r)}!`);throw u.name="NullInjectorError",u}return s}}function Gh(t){return{\u0275providers:t}}function zh(...t){return{\u0275providers:im(0,t),\u0275fromNgModule:!0}}function im(t,...r){const s=[],u=new Set;let h;return la(r,g=>{const I=g;Nl(I,s,[],u)&&(h||(h=[]),h.push(I))}),void 0!==h&&Hu(h,s),s}function Hu(t,r){for(let s=0;s<t.length;s++){const{providers:h}=t[s];Gu(h,g=>{r.push(g)})}}function Nl(t,r,s,u){if(!(t=ke(t)))return!1;let h=null,g=On(t);const I=!g&&gn(t);if(g||I){if(I&&!I.standalone)return!1;h=t}else{const N=t.ngModule;if(g=On(N),!g)return!1;h=N}const x=u.has(h);if(I){if(x)return!1;if(u.add(h),I.dependencies){const N="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const W of N)Nl(W,r,s,u)}}else{if(!g)return!1;{if(null!=g.imports&&!x){let W;u.add(h);try{la(g.imports,re=>{Nl(re,r,s,u)&&(W||(W=[]),W.push(re))})}finally{}void 0!==W&&Hu(W,r)}if(!x){const W=j(h)||(()=>new h);r.push({provide:h,useFactory:W,deps:qn},{provide:rm,useValue:h,multi:!0},{provide:th,useValue:()=>ln(h),multi:!0})}const N=g.providers;null==N||x||Gu(N,re=>{r.push(re)})}}return h!==t&&void 0!==t.providers}function Gu(t,r){for(let s of t)ye(s)&&(s=s.\u0275providers),Array.isArray(s)?Gu(s,r):r(s)}const fd=ue({provide:String,useValue:ue});function Wh(t){return null!==t&&"object"==typeof t&&fd in t}function bc(t){return"function"==typeof t}const Kh=new Xi("Set Injector scope."),Wu={},eg={};let nh;function Gf(){return void 0===nh&&(nh=new Xp),nh}class Dc{}class Yh extends Dc{get destroyed(){return this._destroyed}constructor(r,s,u,h){super(),this.parent=s,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ac(r,I=>this.processProvider(I)),this.records.set(nm,Tc(void 0,this)),h.has("environment")&&this.records.set(Dc,Tc(void 0,this));const g=this.records.get(Kh);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(rm.multi,qn,Vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=$t(this),u=Mr(void 0);try{return r()}finally{$t(s),Mr(u)}}get(r,s=sr,u=Vt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(gr))return r[gr](this);u=_t(u);const h=$t(this),g=Mr(void 0);try{if(!(u&Vt.SkipSelf)){let x=this.records.get(r);if(void 0===x){const N=function Sc(t){return"function"==typeof t||"object"==typeof t&&t instanceof Xi}(r)&&Mn(r);x=N&&this.injectableDefInScope(N)?Tc(Cc(r),Wu):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(u&Vt.Self?Gf():this.parent).get(r,s=u&Vt.Optional&&s===sr?null:s)}catch(I){if("NullInjectorError"===I.name){if((I[Er]=I[Er]||[]).unshift(Pe(r)),h)throw I;return function Nt(t,r,s,u){const h=t[Er];throw r[je]&&h.unshift(r[je]),t.message=function fn(t,r,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let h=Pe(r);if(Array.isArray(r))h=r.map(Pe).join(" -> ");else if("object"==typeof r){let g=[];for(let I in r)if(r.hasOwnProperty(I)){let x=r[I];g.push(I+":"+("string"==typeof x?JSON.stringify(x):Pe(x)))}h=`{${g.join(", ")}}`}return`${s}${u?"("+u+")":""}[${h}]: ${t.replace(st,"\n  ")}`}("\n"+t.message,h,s,u),t.ngTokenPath=h,t[Er]=null,t}(I,r,"R3InjectorError",this.source)}throw I}finally{Mr(g),$t(h)}}resolveInjectorInitializers(){const r=$t(this),s=Mr(void 0);try{const u=this.get(th.multi,qn,Vt.Self);for(const h of u)h()}finally{$t(r),Mr(s)}}toString(){const r=[],s=this.records;for(const u of s.keys())r.push(Pe(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(r){let s=bc(r=ke(r))?r:ke(r&&r.provide);const u=function zf(t){return Wh(t)?Tc(void 0,t.useValue):Tc(rh(t),Wu)}(r);if(bc(r)||!0!==r.multi)this.records.get(s);else{let h=this.records.get(s);h||(h=Tc(void 0,Wu,!0),h.factory=()=>Ve(h.multi),this.records.set(s,h)),s=r,h.multi.push(r)}this.records.set(s,u)}hydrate(r,s){return s.value===Wu&&(s.value=eg,s.value=s.factory()),"object"==typeof s.value&&s.value&&function qh(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ke(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Cc(t){const r=Mn(t),s=null!==r?r.factory:j(t);if(null!==s)return s;if(t instanceof Xi)throw new Ce(204,!1);if(t instanceof Function)return function pd(t){const r=t.length;if(r>0)throw ic(r,"?"),new Ce(204,!1);const s=function Fn(t){return t&&(t[Qn]||t[Yn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ce(204,!1)}function rh(t,r,s){let u;if(bc(t)){const h=ke(t);return j(h)||Cc(h)}if(Wh(t))u=()=>ke(t.useValue);else if(function Qp(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...Ve(t.deps||[]));else if(function zu(t){return!(!t||!t.useExisting)}(t))u=()=>ln(ke(t.useExisting));else{const h=ke(t&&(t.useClass||t.provide));if(!function ka(t){return!!t.deps}(t))return j(h)||Cc(h);u=()=>new h(...Ve(t.deps))}return u}function Tc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Ac(t,r){for(const s of t)Array.isArray(s)?Ac(s,r):s&&ye(s)?Ac(s.\u0275providers,r):r(s)}const yl=new Xi("AppId",{providedIn:"root",factory:()=>Ku}),Ku="ng",Wf=new Xi("Platform Initializer"),Zh=new Xi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xh=new Xi("CSP nonce",{providedIn:"root",factory:()=>{var t,r;return(null===(t=function qd(){if(void 0!==$u)return $u;if(typeof document<"u")return document;throw new Ce(210,!1)}().body)||void 0===t||null===(r=t.querySelector("[ngCspNonce]"))||void 0===r?void 0:r.getAttribute("ngCspNonce"))||null}});let um=(t,r)=>null;function md(t,r){return um(t,r)}class ty{}class Xf{}class ag{resolveComponentFactory(r){throw function ny(t){const r=Error(`No component factory found for ${Pe(t)}.`);return r.ngComponent=t,r}(r)}}let yd=(()=>{class t{}return t.NULL=new ag,t})();function vd(){return Nc(mn(),Jt())}function Nc(t,r){return new uh(Yi(t,r))}let uh=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=vd,t})();function ry(t){return t instanceof uh?t.nativeElement:t}class lg{}let hm=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function iy(){const t=Jt(),s=ne(mn().index,t);return(vs(s)?s:t)[jn]}(),t})(),Jf=(()=>{class t{}return t.\u0275prov=Ut({token:t,providedIn:"root",factory:()=>null}),t})();class fm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ep=new fm("16.0.5"),pm={};function _d(t){for(;t;){t[Wn]|=64;const r=yn(t);if(Ri(t)&&!r)return t;t=r}return null}function tp(t){return t.ngOriginalError}class kc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&tp(r);for(;s&&tp(s);)s=tp(s);return s||null}}const Ed=new Xi("",{providedIn:"root",factory:()=>!1});function Xl(t){return t instanceof Function?t():t}class dg extends ui{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){_d(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,s,u){const h=ki(this);this.trackingVersion++;try{r(s,u)}finally{ki(h)}}destroy(){this.trackingVersion++}}let sf=null;function hg(){var t;return null!==(t=sf)&&void 0!==t||(sf=new dg),sf}function fg(t,r){var s;return null!==(s=t[r])&&void 0!==s?s:hg()}function pg(t,r){const s=hg();s.hasReadASignal&&(t[r]=sf,s.lView=t,sf=new dg)}const Hr={};function gg(t){mg(dn(),Jt(),yi()+t,!1)}function mg(t,r,s,u){if(!u)if(3==(3&r[Wn])){const g=t.preOrderCheckHooks;null!==g&&oe(r,g,s)}else{const g=t.preOrderHooks;null!==g&&ce(r,g,0,s)}oa(s)}function _g(t,r=null,s=null,u){const h=Eg(t,r,s,u);return h.resolveInjectorInitializers(),h}function Eg(t,r=null,s=null,u,h=new Set){const g=[s||qn,zh(t)];return u=u||("object"==typeof t?void 0:Pe(t)),new Yh(g,r||Gf(),u||null,h)}let gu=(()=>{class t{static create(s,u){if(Array.isArray(s))return _g({name:""},u,s,"");{var h;const g=null!==(h=s.name)&&void 0!==h?h:"";return _g({name:g},s.parent,s.providers,g)}}}return t.THROW_IF_NOT_FOUND=sr,t.NULL=new Xp,t.\u0275prov=Ut({token:t,providedIn:"any",factory:()=>ln(nm)}),t.__NG_ELEMENT_ID__=-1,t})();function hh(t,r=Vt.Default){const s=Jt();return null===s?ln(t,r):Ar(mn(),s,ke(t),r)}function lf(){throw new Error("invalid")}function fh(t,r,s,u,h,g,I,x,N,W,re){const me=r.blueprint.slice();return me[Zn]=h,me[Wn]=140|u,(null!==W||t&&2048&t[Wn])&&(me[Wn]|=2048),cr(me),me[Rr]=me[Ys]=t,me[Xr]=s,me[ss]=I||t&&t[ss],me[jn]=x||t&&t[jn],me[Fs]=N||t&&t[Fs]||null,me[bi]=g,me[xi]=function Af(){return Sf++}(),me[Gi]=re,me[Bs]=W,me[ri]=2==r.type?t[ri]:me,me}function ph(t,r,s,u,h){let g=t.data[r];if(null===g)g=function uf(t,r,s,u,h){const g=Ot(),I=ja(),N=t.data[r]=function ay(t,r,s,u,h,g){let I=r?r.injectorIndex:-1,x=0;return Es()&&(x|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?g:g&&g.parent,s,r,u,h);return null===t.firstChild&&(t.firstChild=N),null!==g&&(I?null==g.child&&null!==N.parent&&(g.child=N):null===g.next&&(g.next=N,N.prev=g)),N}(t,r,s,u,h),function bl(){return Rn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=u,g.attrs=h;const I=function tn(){const t=Rn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();g.injectorIndex=null===I?-1:I.injectorIndex}return ci(g,!0),g}function bd(t,r,s,u){if(0===s)return-1;const h=r.length;for(let g=0;g<s;g++)r.push(u),t.blueprint.push(u),t.data.push(null);return h}function cf(t,r,s,u,h){const g=fg(r,os),I=yi(),x=2&u;try{if(oa(-1),x&&r.length>ur&&mg(t,r,ur,!1),js(x?2:0,h),x)g.runInContext(s,u,h);else{const W=ki(null);try{s(u,h)}finally{ki(W)}}}finally{x&&null===r[os]&&pg(r,os),oa(I),js(x?3:1,h)}}function Bc(t,r,s){if(Vs(r)){const u=ki(null);try{const g=r.directiveEnd;for(let I=r.directiveStart;I<g;I++){const x=t.data[I];x.contentQueries&&x.contentQueries(1,s[I],I)}}finally{ki(u)}}}function lp(t,r,s){Hs()&&(function Cg(t,r,s,u){const h=s.directiveStart,g=s.directiveEnd;no(s)&&function ff(t,r,s){const u=Yi(r,t),I=yh(t,fh(t,Ig(s),null,s.onPush?64:16,u,r,null,t[ss].rendererFactory.createRenderer(u,s),null,null,null));t[r.index]=I}(r,s,t.data[h+s.componentOffset]),t.firstCreatePass||H(s,r),Eo(u,r);const I=s.initialInputs;for(let x=h;x<g;x++){const N=t.data[x],W=Ms(r,t,x,s);Eo(W,r),null!==I&&xm(0,x-h,W,N,0,I),mr(N)&&(ne(s.index,r)[Xr]=Ms(r,t,x,s))}}(t,r,s,Yi(s,r)),64==(64&s.flags)&&cp(t,r,s))}function df(t,r,s=Yi){const u=r.localNames;if(null!==u){let h=r.index+1;for(let g=0;g<u.length;g+=2){const I=u[g+1],x=-1===I?s(r,t):t[I];t[h++]=x}}}function Ig(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=gh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function gh(t,r,s,u,h,g,I,x,N,W,re){const me=ur+u,ot=me+h,vt=function qu(t,r){const s=[];for(let u=0;u<r;u++)s.push(u<t?null:Hr);return s}(me,ot),qt="function"==typeof W?W():W;return vt[vn]={type:t,blueprint:vt,template:s,queries:null,viewQuery:x,declTNode:r,data:vt.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:ot,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:N,consts:qt,incompleteFirstPass:!1,ssrId:re}}let mh=t=>null;function hf(t,r,s,u){for(let h in t)if(t.hasOwnProperty(h)){s=null===s?{}:s;const g=t[h];null===u?Dm(s,r,h,g):u.hasOwnProperty(h)&&Dm(s,r,u[h],g)}return s}function Dm(t,r,s,u){t.hasOwnProperty(s)?t[s].push(r,u):t[s]=[r,u]}function bg(t,r,s,u){if(Hs()){const h=null===u?null:{"":-1},g=function uy(t,r){const s=t.directiveRegistry;let u=null,h=null;if(s)for(let I=0;I<s.length;I++){const x=s[I];if(Ji(r,x.selectors,!1))if(u||(u=[]),mr(x))if(null!==x.findHostDirectiveDefs){const N=[];h=h||new Map,x.findHostDirectiveDefs(x,N,h),u.unshift(...N,x),Uc(t,r,N.length)}else u.unshift(x),Uc(t,r,0);else{var g;h=h||new Map,null===(g=x.findHostDirectiveDefs)||void 0===g||g.call(x,x,u,h),u.push(x)}}return null===u?null:[u,h]}(t,s);let I,x;null===g?I=x=null:[I,x]=g,null!==I&&Sm(t,r,s,I,h,x),h&&function Mm(t,r,s){if(r){const u=t.localNames=[];for(let h=0;h<r.length;h+=2){const g=s[r[h+1]];if(null==g)throw new Ce(-301,!1);u.push(r[h],g)}}}(s,u,h)}s.mergedAttrs=li(s.mergedAttrs,s.attrs)}function Sm(t,r,s,u,h,g){for(let me=0;me<u.length;me++)At(H(s,r),t,u[me].type);!function hp(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,u.length);for(let me=0;me<u.length;me++){const ot=u[me];ot.providersResolver&&ot.providersResolver(ot)}let I=!1,x=!1,N=bd(t,r,u.length,null);for(let me=0;me<u.length;me++){const ot=u[me];s.mergedAttrs=li(s.mergedAttrs,ot.hostAttrs),Sg(t,s,r,N,ot),dp(N,ot,h),null!==ot.contentQueries&&(s.flags|=4),(null!==ot.hostBindings||null!==ot.hostAttrs||0!==ot.hostVars)&&(s.flags|=64);const vt=ot.type.prototype;var W,re;!I&&(vt.ngOnChanges||vt.ngOnInit||vt.ngDoCheck)&&((null!==(W=t.preOrderHooks)&&void 0!==W?W:t.preOrderHooks=[]).push(s.index),I=!0),x||!vt.ngOnChanges&&!vt.ngDoCheck||((null!==(re=t.preOrderCheckHooks)&&void 0!==re?re:t.preOrderCheckHooks=[]).push(s.index),x=!0),N++}!function wg(t,r,s){const h=r.directiveEnd,g=t.data,I=r.attrs,x=[];let N=null,W=null;for(let re=r.directiveStart;re<h;re++){const me=g[re],ot=s?s.get(me):null,qt=ot?ot.outputs:null;N=hf(me.inputs,re,N,ot?ot.inputs:null),W=hf(me.outputs,re,W,qt);const _n=null===N||null===I||Bi(r)?null:pp(N,re,I);x.push(_n)}null!==N&&(N.hasOwnProperty("class")&&(r.flags|=8),N.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=x,r.inputs=N,r.outputs=W}(t,s,g)}function cp(t,r,s){const u=s.directiveStart,h=s.directiveEnd,g=s.index,I=function zo(){return Rn.lFrame.currentDirectiveIndex}();try{oa(g);for(let x=u;x<h;x++){const N=t.data[x],W=r[x];mi(x),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&Tg(N,W)}}finally{oa(-1),mi(I)}}function Tg(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Uc(t,r,s){var u;r.componentOffset=s,(null!==(u=t.components)&&void 0!==u?u:t.components=[]).push(r.index)}function dp(t,r,s){if(s){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)s[r.exportAs[u]]=t;mr(r)&&(s[""]=t)}}function Sg(t,r,s,u,h){t.data[u]=h;const g=h.factory||(h.factory=j(h.type)),I=new tr(g,mr(h),hh);t.blueprint[u]=I,s[u]=I,function Dg(t,r,s,u,h){const g=h.hostBindings;if(g){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const x=~r.index;(function Am(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=x&&I.push(x),I.push(s,u,g)}}(t,r,u,bd(t,s,h.hostVars,Hr),h)}function yu(t,r,s,u,h,g){const I=Yi(t,r);!function fp(t,r,s,u,h,g,I){if(null==g)t.removeAttribute(r,h,s);else{const x=null==I?Ue(g):I(g,u||"",h);t.setAttribute(r,h,x,s)}}(r[jn],I,g,t.value,s,u,h)}function xm(t,r,s,u,h,g){const I=g[r];if(null!==I)for(let x=0;x<I.length;)Rm(u,s,I[x++],I[x++],I[x++])}function Rm(t,r,s,u,h){const g=ki(null);try{null!==t.setInput?t.setInput(r,h,s,u):r[u]=h}finally{ki(g)}}function pp(t,r,s){let u=null,h=0;for(;h<s.length;){const g=s[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===u&&(u=[]);const I=t[g];for(let x=0;x<I.length;x+=2)if(I[x]===r){u.push(g,I[x+1],s[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function gp(t,r,s,u){return[t,!0,!1,r,null,0,u,s,null,null,null]}function Ag(t,r){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const g=s[u+1];if(-1!==g){const I=t.data[g];Ur(s[u]),I.contentQueries(2,r[g],g)}}}function yh(t,r){return t[Is]?t[Ls][ni]=r:t[Is]=r,t[Ls]=r,r}function c(t,r,s){Ur(0);const u=ki(null);try{r(t,s)}finally{ki(u)}}function l(t){return t[fs]||(t[fs]=[])}function f(t){return t.cleanup||(t.cleanup=[])}function A(t,r){const s=t[Fs],u=s?s.get(kc,null):null;u&&u.handleError(r)}function B(t,r,s,u,h){for(let g=0;g<s.length;){const I=s[g++],x=s[g++];Rm(t.data[I],r[I],u,x,h)}}function J(t,r,s){const u=Il(r,t);!function ad(t,r,s){t.setValue(r,s)}(t[jn],u,s)}function le(t,r){const s=ne(r,t),u=s[vn];!function De(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(u,s);const h=s[Zn];null!==h&&null===s[Gi]&&(s[Gi]=md(h,s[Fs])),pt(u,s,s[Xr])}function pt(t,r,s){bn(r);try{const u=t.viewQuery;null!==u&&c(1,u,s);const h=t.template;null!==h&&cf(t,r,h,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ag(t,r),t.staticViewQueries&&c(2,t.viewQuery,s);const g=t.components;null!==g&&function Dt(t,r){for(let s=0;s<r.length;s++)le(t,r[s])}(r,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{r[Wn]&=-5,Cl()}}let Kr=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,u,h){const g=typeof Zone>"u"?null:Zone.current,I=new kl(s,W=>{this.all.has(W)&&this.queue.set(W,g)},h);let x;this.all.add(I),I.notify();const N=()=>{var W;I.cleanup(),null===(W=x)||void 0===W||W(),this.all.delete(I),this.queue.delete(I)};return x=null==u?void 0:u.onDestroy(N),{destroy:N}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=Ut({token:t,providedIn:"root",factory:()=>new t}),t})();function Mo(t,r,s){let u=s?t.styles:null,h=s?t.classes:null,g=0;if(null!==r)for(let I=0;I<r.length;I++){const x=r[I];"number"==typeof x?g=x:1==g?h=Be(h,x):2==g&&(u=Be(u,x+": "+r[++I]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=h:t.classesWithoutHost=h}function eo(t,r,s,u,h=!1){for(;null!==s;){const g=r[s.index];if(null!==g&&u.push(Cr(g)),Sr(g)){for(let x=$i;x<g.length;x++){const N=g[x],W=N[vn].firstChild;null!==W&&eo(N[vn],N,W,u)}g[pi]!==g[Zn]&&u.push(g[pi])}const I=s.type;if(8&I)eo(t,r,s.child,u);else if(32&I){const x=ct(s,r);let N;for(;N=x();)u.push(N)}else if(16&I){const x=Wg(r,s);if(Array.isArray(x))u.push(...x);else{const N=yn(r[ri]);eo(N[vn],N,x,u,!0)}}s=h?s.projectionNext:s.next}return u}function xs(t,r,s,u=!0){const h=r[ss].rendererFactory;h.begin&&h.begin();try{vu(t,r,t.template,s)}catch(x){throw u&&A(r,x),x}finally{var I;h.end&&h.end(),null===(I=r[ss].effectManager)||void 0===I||I.flush()}}function vu(t,r,s,u){var h;const g=r[Wn];if(256!=(256&g)){null===(h=r[ss].effectManager)||void 0===h||h.flush(),bn(r);try{cr(r),function Go(t){return Rn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&cf(t,r,s,2,u);const x=3==(3&g);if(x){const re=t.preOrderCheckHooks;null!==re&&oe(r,re,null)}else{const re=t.preOrderHooks;null!==re&&ce(r,re,0,null),Je(r,0)}if(function vh(t){for(let r=ar(t);null!==r;r=Ws(r)){if(!r[Ro])continue;const s=r[ms];for(let u=0;u<s.length;u++){Br(s[u])}}}(r),function mp(t){for(let r=ar(t);null!==r;r=Ws(r))for(let s=$i;s<r.length;s++){const u=r[s],h=u[vn];wt(u)&&vu(h,u,h.template,u[Xr])}}(r),null!==t.contentQueries&&Ag(t,r),x){const re=t.contentCheckHooks;null!==re&&oe(r,re)}else{const re=t.contentHooks;null!==re&&ce(r,re,1),Je(r,1)}!function oy(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const u=fg(r,jo);try{for(let h=0;h<s.length;h++){const g=s[h];if(g<0)oa(~g);else{const I=g,x=s[++h],N=s[++h];yo(x,I),u.runInContext(N,2,r[I])}}}finally{null===r[jo]&&pg(r,jo),oa(-1)}}(t,r);const N=t.components;null!==N&&function tv(t,r){for(let s=0;s<r.length;s++)_h(t,r[s])}(r,N);const W=t.viewQuery;if(null!==W&&c(2,W,u),x){const re=t.viewCheckHooks;null!==re&&oe(r,re)}else{const re=t.viewHooks;null!==re&&ce(r,re,2),Je(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Wn]&=-73,Wr(r)}finally{Cl()}}}function _h(t,r){const s=ne(r,t);if(wt(s)){const u=s[vn];80&s[Wn]?vu(u,s,u.template,s[Xr]):s[is]>0&&Ti(s)}}function Ti(t){for(let u=ar(t);null!==u;u=Ws(u))for(let h=$i;h<u.length;h++){const g=u[h];if(wt(g))if(1024&g[Wn]){const I=g[vn];vu(I,g,I.template,g[Xr])}else g[is]>0&&Ti(g)}const s=t[vn].components;if(null!==s)for(let u=0;u<s.length;u++){const h=ne(s[u],t);wt(h)&&h[is]>0&&Ti(h)}}class yp{get rootNodes(){const r=this._lView,s=r[vn];return eo(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xr]}set context(r){this._lView[Xr]=r}get destroyed(){return 256==(256&this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Rr];if(Sr(r)){const s=r[Ts],u=s?s.indexOf(this):-1;u>-1&&(Gd(r,u),ll(s,u))}this._attachedToViewContainer=!1}hl(this._lView[vn],this._lView)}onDestroy(r){!function Oi(t,r){if(256==(256&t[Wn]))throw new Ce(911,!1);null===t[gs]&&(t[gs]=[]),t[gs].push(r)}(this._lView,r)}markForCheck(){_d(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){this._lView[Wn]|=128}detectChanges(){xs(this._lView[vn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ph(t,r){uo(t,r,r[jn],2,null,null)}(this._lView[vn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=r}}class Mg extends yp{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;xs(r[vn],r,r[Xr],!1)}checkNoChanges(){}get context(){return null}}class nv extends yd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=gn(r);return new vp(s,this.ngModule)}}function Ks(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Hc{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,u){u=_t(u);const h=this.injector.get(r,pm,u);return h!==pm||s===pm?h:this.parentInjector.get(r,s,u)}}class vp extends Xf{get inputs(){return Ks(this.componentDef.inputs)}get outputs(){return Ks(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function se(t){return t.map(Hi).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,u,h){var g;let I=(h=h||this.ngModule)instanceof Dc?h:null===(g=h)||void 0===g?void 0:g.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const x=I?new Hc(r,I):r,N=x.get(lg,null);if(null===N)throw new Ce(407,!1);const me={rendererFactory:N,sanitizer:x.get(Jf,null),effectManager:x.get(Kr,null)},ot=N.createRenderer(null,this.componentDef),vt=this.componentDef.selectors[0][0]||"div",qt=u?function up(t,r,s,u){const g=u.get(Ed,!1)||s===pr.ShadowDom,I=t.selectRootElement(r,g);return function bm(t){mh(t)}(I),I}(ot,u,this.componentDef.encapsulation,x):dl(ot,vt,function Xa(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(vt)),_n=this.componentDef.onPush?576:528,Nn=gh(0,null,null,1,0,null,null,null,null,null,null),Xn=fh(null,Nn,null,_n,null,null,me,ot,x,null,null);let an,jr;bn(Xn);try{const ii=this.componentDef;let ds,Xu=null;ii.findHostDirectiveDefs?(ds=[],Xu=new Map,ii.findHostDirectiveDefs(ii,ds,Xu),ds.push(ii)):ds=[ii];const YI=function rv(t,r){const s=t[vn],u=ur;return t[u]=r,ph(s,u,2,"#host",null)}(Xn,qt),PC=function iv(t,r,s,u,h,g,I){const x=h[vn];!function Kv(t,r,s,u){for(const h of t)r.mergedAttrs=li(r.mergedAttrs,h.hostAttrs);null!==r.mergedAttrs&&(Mo(r,r.mergedAttrs,!0),null!==s&&Lf(u,s,r))}(u,t,r,I);let N=null;null!==r&&(N=md(r,h[Fs]));const W=g.rendererFactory.createRenderer(r,s),re=fh(h,Ig(s),null,s.onPush?64:16,h[t.index],t,g,W,null,null,N);return x.firstCreatePass&&Uc(x,t,u.length-1),yh(h,re),h[t.index]=re}(YI,qt,ii,ds,Xn,me,ot);jr=Z(Nn,ur),qt&&function Yv(t,r,s,u){if(u)Pr(t,s,["ng-version",ep.full]);else{const{attrs:h,classes:g}=function Ee(t){const r=[],s=[];let u=1,h=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===h?""!==g&&r.push(g,t[++u]):8===h&&s.push(g);else{if(!Ni(h))break;h=g}u++}return{attrs:r,classes:s}}(r.selectors[0]);h&&Pr(t,s,h),g&&g.length>0&&Lp(t,s,g.join(" "))}}(ot,ii,qt,u),void 0!==s&&function qv(t,r,s){const u=t.projection=[];for(let h=0;h<r.length;h++){const g=s[h];u.push(null!=g?Array.from(g):null)}}(jr,this.ngContentSelectors,s),an=function dy(t,r,s,u,h,g){const I=mn(),x=h[vn],N=Yi(I,h);Sm(x,h,I,s,null,u);for(let re=0;re<s.length;re++)Eo(Ms(h,x,I.directiveStart+re,I),h);cp(x,h,I),N&&Eo(N,h);const W=Ms(h,x,I.directiveStart+I.componentOffset,I);if(t[Xr]=h[Xr]=W,null!==g)for(const re of g)re(W,r);return Bc(x,I,t),W}(PC,ii,ds,Xu,Xn,[ho]),pt(Nn,Xn,null)}finally{Cl()}return new Wv(this.componentType,an,Nc(jr,Xn),Xn,jr)}}class Wv extends ty{constructor(r,s,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Mg(h),this.componentType=r}setInput(r,s){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[r])){var g;if(null!==(g=this.previousInputValues)&&void 0!==g||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const I=this._rootLView;B(I[vn],I,h,r,s),this.previousInputValues.set(r,s),_d(ne(this._tNode.index,I))}}get injector(){return new Wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ho(){const t=mn();z(Jt()[vn],t)}function sv(t){let r=function Zv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;r;){let h;if(mr(t))h=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ce(903,!1);h=r.\u0275dir}if(h){if(s){u.push(h);const I=t;I.inputs=Om(t.inputs),I.declaredInputs=Om(t.declaredInputs),I.outputs=Om(t.outputs);const x=h.hostBindings;x&&ov(t,x);const N=h.viewQuery,W=h.contentQueries;if(N&&Xv(t,N),W&&Qv(t,W),Ne(t.inputs,h.inputs),Ne(t.declaredInputs,h.declaredInputs),Ne(t.outputs,h.outputs),mr(h)&&h.data.animation){const re=t.data;re.animation=(re.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let I=0;I<g.length;I++){const x=g[I];x&&x.ngInherit&&x(t),x===sv&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Qo(t){let r=0,s=null;for(let u=t.length-1;u>=0;u--){const h=t[u];h.hostVars=r+=h.hostVars,h.hostAttrs=li(h.hostAttrs,s=li(s,h.hostAttrs))}}(u)}function Om(t){return t===Vr?{}:t===qn?[]:t}function Xv(t,r){const s=t.viewQuery;t.viewQuery=s?(u,h)=>{r(u,h),s(u,h)}:r}function Qv(t,r){const s=t.contentQueries;t.contentQueries=s?(u,h,g)=>{r(u,h,g),s(u,h,g)}:r}function ov(t,r){const s=t.hostBindings;t.hostBindings=s?(u,h)=>{r(u,h),s(u,h)}:r}function Ql(t){return!!hy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function hy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function fa(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function mf(t,r,s,u){const h=Jt();return fa(h,sa(),r)&&(dn(),yu(Fi(),h,t,r,s,u)),mf}function Ep(t,r,s,u,h,g){const x=function gf(t,r,s,u){const h=fa(t,r,s);return fa(t,r+1,u)||h}(t,function ia(){return Rn.lFrame.bindingIndex}(),s,h);return _a(2),x?r+Ue(s)+u+Ue(h)+g:Hr}function pv(t,r,s,u,h,g,I,x){const N=Jt(),W=dn(),re=t+ur,me=W.firstCreatePass?function _f(t,r,s,u,h,g,I,x,N){const W=r.consts,re=ph(r,t,4,I||null,xn(W,x));bg(r,s,re,xn(W,N)),z(r,re);const me=re.tView=gh(2,re,u,h,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,W,null);return null!==r.queries&&(r.queries.template(r,re),me.queries=r.queries.embeddedTView(re)),re}(re,W,N,r,s,u,h,g,I):W.data[re];ci(me,!1);const ot=gv(W,N,me,t);O()&&vc(W,N,ot,me),Eo(ot,N),yh(N,N[re]=gp(ot,N,ot,me)),Us(me)&&lp(W,N,me),null!=I&&df(N,me,x)}let gv=function mv(t,r,s,u){return b(!0),r[jn].createComment("")};function wy(t){return function V(t,r){return t[r]}(function Kc(){return Rn.lFrame.contextLView}(),ur+t)}function by(t,r,s){const u=Jt();return fa(u,sa(),r)&&function La(t,r,s,u,h,g,I,x){const N=Yi(r,s);let re,W=r.inputs;!x&&null!=W&&(re=W[u])?(B(t,s,re,u,h),no(r)&&function Tm(t,r){const s=ne(r,t);16&s[Wn]||(s[Wn]|=64)}(s,r.index)):3&r.type&&(u=function Cm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),h=null!=I?I(h,r.value||"",u):h,g.setProperty(N,u,h))}(dn(),Fi(),u,t,r,u[jn],s,!1),by}function Dy(t,r,s,u,h){const I=h?"class":"style";B(t,s,r.inputs[I],I,u)}function $m(t,r,s,u){const h=Jt(),g=dn(),I=ur+t,x=h[jn],N=g.firstCreatePass?function vv(t,r,s,u,h,g){const I=r.consts,N=ph(r,t,2,u,xn(I,h));return bg(r,s,N,xn(I,g)),null!==N.attrs&&Mo(N,N.attrs,!1),null!==N.mergedAttrs&&Mo(N,N.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,N),N}(I,g,h,r,s,u):g.data[I],W=_v(g,h,N,x,r,t);h[I]=W;const re=Us(N);return ci(N,!0),Lf(x,W,N),32!=(32&N.flags)&&O()&&vc(g,h,W,N),0===function ls(){return Rn.lFrame.elementDepthCount}()&&Eo(W,h),function Ss(){Rn.lFrame.elementDepthCount++}(),re&&(lp(g,h,N),Bc(g,N,h)),null!==u&&df(h,N),$m}function Cd(){let t=mn();ja()?Fo():(t=t.parent,ci(t,!1));const r=t;(function Iu(t){return Rn.skipHydrationRootTNode===t})(r)&&function Ua(){Rn.skipHydrationRootTNode=null}(),function Ci(){Rn.lFrame.elementDepthCount--}();const s=dn();return s.firstCreatePass&&(z(s,t),Vs(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Fr(t){return 0!=(8&t.flags)}(r)&&Dy(s,r,Jt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Tl(t){return 0!=(16&t.flags)}(r)&&Dy(s,r,Jt(),r.stylesWithoutHost,!1),Cd}function Vg(t,r,s,u){return $m(t,r,s,u),Cd(),Vg}let _v=(t,r,s,u,h,g)=>(b(!0),dl(u,h,function Ga(){return Rn.lFrame.currentNamespace}()));function Cy(t,r,s){const u=Jt(),h=dn(),g=t+ur,I=h.firstCreatePass?function y_(t,r,s,u,h){const g=r.consts,I=xn(g,u),x=ph(r,t,8,"ng-container",I);return null!==I&&Mo(x,I,!0),bg(r,s,x,xn(g,h)),null!==r.queries&&r.queries.elementStart(r,x),x}(g,h,u,r,s):h.data[g];ci(I,!0);const x=v_(h,u,I,t);return u[g]=x,O()&&vc(h,u,x,I),Eo(x,u),Us(I)&&(lp(h,u,I),Bc(h,I,u)),null!=s&&df(u,I),Cy}function Ty(){let t=mn();const r=dn();return ja()?Fo():(t=t.parent,ci(t,!1)),r.firstCreatePass&&(z(r,t),Vs(t)&&r.queries.elementEnd(t)),Ty}function Sy(t,r,s){return Cy(t,r,s),Ty(),Sy}let v_=(t,r,s,u)=>(b(!0),Ud(r[jn],""));function Iv(){return Jt()}function Ay(t){return!!t&&"function"==typeof t.then}function Vm(t){return!!t&&"function"==typeof t.subscribe}function Um(t,r,s,u){const h=Jt(),g=dn(),I=mn();return function jm(t,r,s,u,h,g,I){const x=Us(u),W=t.firstCreatePass&&f(t),re=r[Xr],me=l(r);let ot=!0;if(3&u.type||I){const _n=Yi(u,r),Nn=I?I(_n):_n,Xn=me.length,an=I?ii=>I(Cr(ii[u.index])):u.index;let jr=null;if(!I&&x&&(jr=function Ug(t,r,s,u){const h=t.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const I=h[g];if(I===s&&h[g+1]===u){const x=r[fs],N=h[g+2];return x.length>N?x[N]:null}"string"==typeof I&&(g+=2)}return null}(t,r,h,u.index)),null!==jr)(jr.__ngLastListenerFn__||jr).__ngNextListenerFn__=g,jr.__ngLastListenerFn__=g,ot=!1;else{g=bv(u,r,re,g,!1);const ii=s.listen(Nn,h,g);me.push(g,ii),W&&W.push(h,an,Xn,Xn+1)}}else g=bv(u,r,re,g,!1);const vt=u.outputs;let qt;if(ot&&null!==vt&&(qt=vt[h])){const _n=qt.length;if(_n)for(let Nn=0;Nn<_n;Nn+=2){const ds=r[qt[Nn]][qt[Nn+1]].subscribe(g),Xu=me.length;me.push(g,ds),W&&W.push(h,u.index,Xu,-(Xu+1))}}}(g,h,h[jn],I,t,r,u),Um}function wv(t,r,s,u){try{return js(6,r,s),!1!==s(u)}catch(h){return A(t,h),!1}finally{js(7,r,s)}}function bv(t,r,s,u,h){return function g(I){if(I===Function)return u;_d(t.componentOffset>-1?ne(t.index,r):r);let N=wv(r,s,u,I),W=g.__ngNextListenerFn__;for(;W;)N=wv(r,s,W,I)&&N,W=W.__ngNextListenerFn__;return h&&!1===N&&I.preventDefault(),N}}function xy(t=1){return function Ju(t){return(Rn.lFrame.contextLView=function ec(t,r){for(;t>0;)r=r[Ys],t--;return r}(t,Rn.lFrame.contextLView))[Xr]}(t)}function Hm(t,r){let s=null;const u=function rs(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let h=0;h<r.length;h++){const g=r[h];if("*"!==g){if(null===u?Ji(t,g,!0):es(u,g))return h}else s=h}return s}function Dv(t){const r=Jt()[ri][bi];if(!r.projection){const u=r.projection=ic(t?t.length:1,null),h=u.slice();let g=r.child;for(;null!==g;){const I=t?Hm(g,t):0;null!==I&&(h[I]?h[I].projectionNext=g:u[I]=g,h[I]=g),g=g.next}}}function Ry(t,r=0,s){const u=Jt(),h=dn(),g=ph(h,ur+t,16,null,s||null);null===g.projection&&(g.projection=r),Fo(),(!u[Gi]||Es())&&32!=(32&g.flags)&&function Ff(t,r,s){Nh(r[jn],0,r,s,Rf(t,s,r),zg(s.parent||r[bi],s,r))}(h,u,g)}function Sp(t,r){return t<<17|r<<2}function eu(t){return t>>17&32767}function Sd(t){return 2|t}function If(t){return(131068&t)>>2}function Fy(t,r){return-131069&t|r<<2}function Wc(t){return 1|t}function Sv(t,r,s,u,h){const g=t[s+1],I=null===r;let x=u?eu(g):If(g),N=!1;for(;0!==x&&(!1===N||I);){const re=t[x+1];Ly(t[x],r)&&(N=!0,t[x+1]=u?Wc(re):Sd(re)),x=u?eu(re):If(re)}N&&(t[s+1]=u?Sd(g):Wc(g))}function Ly(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Vl(t,r)>=0}function i(t,r){return function m(t,r,s,u){const h=Jt(),g=dn(),I=_a(2);g.firstUpdatePass&&function Y(t,r,s,u){const h=t.data;if(null===h[s+1]){const g=h[yi()],I=function P(t,r){return r>=t.expandoStartIndex}(t,s);(function Ba(t,r){return 0!=(t.flags&(r?8:16))})(g,u)&&null===r&&!I&&(r=!1),r=function ee(t,r,s,u){const h=function _r(t){const r=Rn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let g=u?r.residualClasses:r.residualStyles;if(null===h)0===(u?r.classBindings:r.styleBindings)&&(s=un(s=en(null,t,r,s,u),r.attrs,u),g=null);else{const I=r.directiveStylingLast;if(-1===I||t[I]!==h)if(s=en(h,t,r,s,u),null===g){let N=function _e(t,r,s){const u=s?r.classBindings:r.styleBindings;if(0!==If(u))return t[eu(u)]}(t,r,u);void 0!==N&&Array.isArray(N)&&(N=en(null,t,r,N[1],u),N=un(N,r.attrs,u),function it(t,r,s,u){t[eu(s?r.classBindings:r.styleBindings)]=u}(t,r,u,N))}else g=function Rt(t,r,s){let u;const h=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<h;g++)u=un(u,t[g].hostAttrs,s);return un(u,r.attrs,s)}(t,r,u)}return void 0!==g&&(u?r.residualClasses=g:r.residualStyles=g),s}(h,g,r,u),function E_(t,r,s,u,h,g){let I=g?r.classBindings:r.styleBindings,x=eu(I),N=If(I);t[u]=s;let re,W=!1;if(Array.isArray(s)?(re=s[1],(null===re||Vl(s,re)>0)&&(W=!0)):re=s,h)if(0!==N){const ot=eu(t[x+1]);t[u+1]=Sp(ot,x),0!==ot&&(t[ot+1]=Fy(t[ot+1],u)),t[x+1]=function ky(t,r){return 131071&t|r<<17}(t[x+1],u)}else t[u+1]=Sp(x,0),0!==x&&(t[x+1]=Fy(t[x+1],u)),x=u;else t[u+1]=Sp(N,0),0===x?x=u:t[N+1]=Fy(t[N+1],u),N=u;W&&(t[u+1]=Sd(t[u+1])),Sv(t,re,u,!0),Sv(t,re,u,!1),function Tv(t,r,s,u,h){const g=h?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof r&&Vl(g,r)>=0&&(s[u+1]=Wc(s[u+1]))}(r,re,t,u,g),I=Sp(x,N),g?r.classBindings=I:r.styleBindings=I}(h,g,r,s,I,u)}}(g,t,I,u),r!==Hr&&fa(h,I,r)&&function bs(t,r,s,u,h,g,I,x){if(!(3&r.type))return;const N=t.data,W=N[x+1],re=function __(t){return 1==(1&t)}(W)?Uo(N,r,s,h,If(W),I):void 0;Rs(re)||(Rs(g)||function Ef(t){return 2==(2&t)}(W)&&(g=Uo(N,null,s,h,x,I)),function Ec(t,r,s,u,h){if(r)h?t.addClass(s,u):t.removeClass(s,u);else{let g=-1===u.indexOf("-")?void 0:Tr.DashCase;null==h?t.removeStyle(s,u,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Tr.Important),t.setStyle(s,u,h,g))}}(u,I,Il(yi(),s),h,g))}(g,g.data[yi()],h,h[jn],t,h[I+1]=function wo(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Pe(Na(t)))),t}(r,s),u,I)}(t,r,null,!0),i}function en(t,r,s,u,h){let g=null;const I=s.directiveEnd;let x=s.directiveStylingLast;for(-1===x?x=s.directiveStart:x++;x<I&&(g=r[x],u=un(u,g.hostAttrs,h),g!==t);)x++;return null!==t&&(s.directiveStylingLast=x),u}function un(t,r,s){const u=s?1:2;let h=-1;if(null!==r)for(let g=0;g<r.length;g++){const I=r[g];"number"==typeof I?h=I:h===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Lo(t,I,!!s||r[++g]))}return void 0===t?null:t}function Uo(t,r,s,u,h,g){const I=null===r;let x;for(;h>0;){const N=t[h],W=Array.isArray(N),re=W?N[1]:N,me=null===re;let ot=s[h+1];ot===Hr&&(ot=me?qn:void 0);let vt=me?Xc(ot,u):re===u?ot:void 0;if(W&&!Rs(vt)&&(vt=Xc(N,u)),Rs(vt)&&(x=vt,I))return x;const qt=t[h+1];h=I?eu(qt):If(qt)}if(null!==r){let N=g?r.residualClasses:r.residualStyles;null!=N&&(x=Xc(N,u))}return x}function Rs(t){return void 0!==t}function Mp(t,r=""){const s=Jt(),u=dn(),h=t+ur,g=u.firstCreatePass?ph(u,h,1,r,null):u.data[h],I=_0(u,s,g,r,t);s[h]=I,O()&&vc(u,s,I,g),ci(g,!1)}let _0=(t,r,s,u,h)=>(b(!0),function gc(t,r){return t.createText(r)}(r[jn],u));function D_(t){return C_("",t,""),D_}function C_(t,r,s){const u=Jt(),h=function Eh(t,r,s,u){return fa(t,sa(),s)?r+Ue(s)+u:Hr}(u,t,r,s);return h!==Hr&&J(u,yi(),h),C_}function T_(t,r,s,u,h){const g=Jt(),I=Ep(g,t,r,s,u,h);return I!==Hr&&J(g,yi(),I),T_}const jg=void 0;var yw=["en",[["a","p"],["AM","PM"],jg],[["AM","PM"],jg,jg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jg,"{1} 'at' {0}",jg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mw(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Gm={};function S_(t){const r=function vw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=$0(r);if(s)return s;const u=r.split("-")[0];if(s=$0(u),s)return s;if("en"===u)return yw;throw new Ce(701,!1)}function B0(t){return S_(t)[$r.PluralCase]}function $0(t){return t in Gm||(Gm[t]=Gn.ng&&Gn.ng.common&&Gn.ng.common.locales&&Gn.ng.common.locales[t]),Gm[t]}var $r=(()=>(($r=$r||{})[$r.LocaleId=0]="LocaleId",$r[$r.DayPeriodsFormat=1]="DayPeriodsFormat",$r[$r.DayPeriodsStandalone=2]="DayPeriodsStandalone",$r[$r.DaysFormat=3]="DaysFormat",$r[$r.DaysStandalone=4]="DaysStandalone",$r[$r.MonthsFormat=5]="MonthsFormat",$r[$r.MonthsStandalone=6]="MonthsStandalone",$r[$r.Eras=7]="Eras",$r[$r.FirstDayOfWeek=8]="FirstDayOfWeek",$r[$r.WeekendRange=9]="WeekendRange",$r[$r.DateFormat=10]="DateFormat",$r[$r.TimeFormat=11]="TimeFormat",$r[$r.DateTimeFormat=12]="DateTimeFormat",$r[$r.NumberSymbols=13]="NumberSymbols",$r[$r.NumberFormats=14]="NumberFormats",$r[$r.CurrencyCode=15]="CurrencyCode",$r[$r.CurrencySymbol=16]="CurrencySymbol",$r[$r.CurrencyName=17]="CurrencyName",$r[$r.Currencies=18]="Currencies",$r[$r.Directionality=19]="Directionality",$r[$r.PluralCase=20]="PluralCase",$r[$r.ExtraData=21]="ExtraData",$r))();const zm="en-US";let V0=zm;function x_(t,r,s,u,h){if(t=ke(t),Array.isArray(t))for(let g=0;g<t.length;g++)x_(t[g],r,s,u,h);else{const g=dn(),I=Jt();let x=bc(t)?t:ke(t.provide),N=rh(t);const W=mn(),re=1048575&W.providerIndexes,me=W.directiveStart,ot=W.providerIndexes>>20;if(bc(t)||!t.multi){const vt=new tr(N,h,hh),qt=O_(x,r,h?re:re+ot,me);-1===qt?(At(H(W,I),g,x),R_(g,t,r.length),r.push(x),W.directiveStart++,W.directiveEnd++,h&&(W.providerIndexes+=1048576),s.push(vt),I.push(vt)):(s[qt]=vt,I[qt]=vt)}else{const vt=O_(x,r,re+ot,me),qt=O_(x,r,re,re+ot),Nn=qt>=0&&s[qt];if(h&&!Nn||!h&&!(vt>=0&&s[vt])){At(H(W,I),g,x);const Xn=function gb(t,r,s,u,h){const g=new tr(t,s,hh);return g.multi=[],g.index=r,g.componentProviders=0,dE(g,h,u&&!s),g}(h?pb:fb,s.length,h,u,N);!h&&Nn&&(s[qt].providerFactory=Xn),R_(g,t,r.length,0),r.push(x),W.directiveStart++,W.directiveEnd++,h&&(W.providerIndexes+=1048576),s.push(Xn),I.push(Xn)}else R_(g,t,vt>-1?vt:qt,dE(s[h?qt:vt],N,!h&&u));!h&&u&&Nn&&s[qt].componentProviders++}}}function R_(t,r,s,u){const h=bc(r),g=function Jp(t){return!!t.useClass}(r);if(h||g){const N=(g?ke(r.useClass):r).prototype.ngOnDestroy;if(N){const W=t.destroyHooks||(t.destroyHooks=[]);if(!h&&r.multi){const re=W.indexOf(s);-1===re?W.push(s,[u,N]):W[re+1].push(u,N)}else W.push(s,N)}}}function dE(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function O_(t,r,s,u){for(let h=s;h<u;h++)if(r[h]===t)return h;return-1}function fb(t,r,s,u){return P_(this.multi,[])}function pb(t,r,s,u){const h=this.multi;let g;if(this.providerFactory){const I=this.providerFactory.componentProviders,x=Ms(s,s[vn],this.providerFactory.index,u);g=x.slice(0,I),P_(h,g);for(let N=I;N<x.length;N++)g.push(x[N])}else g=[],P_(h,g);return g}function P_(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function hE(t,r=[]){return s=>{s.providersResolver=(u,h)=>function hb(t,r,s){const u=dn();if(u.firstCreatePass){const h=mr(t);x_(s,u.data,u.blueprint,h,!0),x_(r,u.data,u.blueprint,h,!1)}}(u,h?h(t):t,r)}}class Wm{}class fE{}function mb(t,r){return new N_(t,null!=r?r:null,[])}class N_ extends Wm{constructor(r,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nv(this);const h=lt(r);this._bootstrapComponents=Xl(h.bootstrap),this._r3Injector=Eg(r,s,[{provide:Wm,useValue:this},{provide:yd,useValue:this.componentFactoryResolver},...u],Pe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class k_ extends fE{constructor(r){super(),this.moduleType=r}create(r){return new N_(this.moduleType,r,[])}}class pE extends Wm{constructor(r){super(),this.componentFactoryResolver=new nv(this),this.instance=null;const s=new Yh([...r.providers,{provide:Wm,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],r.parent||Gf(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function gE(t,r,s=null){return new pE({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let vb=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const u=im(0,s.type),h=u.length>0?gE([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,h)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Ut({token:t,providedIn:"environment",factory:()=>new t(ln(Dc))}),t})();function mE(t){t.getStandaloneInjector=r=>r.get(vb).getOrCreateStandaloneInjector(t)}function bE(t,r,s,u){return function DE(t,r,s,u,h,g){const I=r+s;return fa(t,I,h)?function Zu(t,r,s){return t[r]=s}(t,I+1,g?u.call(g,h):u(h)):function Yy(t,r){const s=t[r];return s===Hr?void 0:s}(t,I+1)}(Jt(),function so(){const t=Rn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}(),t,r,s,u)}function L_(t){return r=>{setTimeout(t,void 0,r)}}const Th=class Hb extends v.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,u){let h=r,g=s||(()=>null),I=u;if(r&&"object"==typeof r){var x,N,W;const me=r;h=null===(x=me.next)||void 0===x?void 0:x.bind(me),g=null===(N=me.error)||void 0===N?void 0:N.bind(me),I=null===(W=me.complete)||void 0===W?void 0:W.bind(me)}this.__isAsync&&(g=L_(g),h&&(h=L_(h)),I&&(I=L_(I)));const re=super.subscribe({next:h,error:g,complete:I});return r instanceof y.w0&&r.add(re),re}};function Gb(){return this._results[Symbol.iterator]()}class B_{get changes(){return this._changes||(this._changes=new Th)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=B_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Gb)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const u=this;u.dirty=!1;const h=function ao(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Df(t,r,s){if(t.length!==r.length)return!1;for(let u=0;u<t.length;u++){let h=t[u],g=r[u];if(s&&(h=s(h),g=s(g)),g!==h)return!1}return!0}(u._results,h,s))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zy=(()=>{class t{}return t.__NG_ELEMENT_ID__=Kb,t})();const zb=Zy,Wb=class extends zb{constructor(r,s,u){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=u}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s,null)}createEmbeddedViewImpl(r,s,u){const h=this._declarationTContainer.tView,g=fh(this._declarationLView,h,r,16,null,h.declTNode,null,null,null,s||null,u||null);g[fo]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[Mi];return null!==x&&(g[Mi]=x.createEmbeddedView(h)),pt(h,g,r),new yp(g)}};function Kb(){return Bv(mn(),Jt())}function Bv(t,r){return 4&t.type?new Wb(r,t,Nc(t,r)):null}let $v=(()=>{class t{}return t.__NG_ELEMENT_ID__=eD,t})();function eD(){return NE(mn(),Jt())}const tD=$v,OE=class extends tD{constructor(r,s,u){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=u}get element(){return Nc(this._hostTNode,this._hostLView)}get injector(){return new Wa(this._hostTNode,this._hostLView)}get parentInjector(){const r=ft(this._hostTNode,this._hostLView);if(Sl(r)){const s=_o(r,this._hostLView),u=Vi(r);return new Wa(s[vn].data[u+8],s)}return new Wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=PE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-$i}createEmbeddedView(r,s,u){let h,g;"number"==typeof u?h=u:null!=u&&(h=u.index,g=u.injector);const x=r.createEmbeddedViewImpl(s||{},g,null);return this.insertImpl(x,h,false),x}createComponent(r,s,u,h,g){var I,N;const W=r&&!function Su(t){return"function"==typeof t}(r);let re;if(W)re=s;else{const an=s||{};re=an.index,u=an.injector,h=an.projectableNodes,g=an.environmentInjector||an.ngModuleRef}const me=W?r:new vp(gn(r)),ot=u||this.parentInjector;if(!g&&null==me.ngModule){const jr=(W?ot:this.parentInjector).get(Dc,null);jr&&(g=jr)}const vt=gn(null!==(I=me.componentType)&&void 0!==I?I:{}),qt=(null==vt?void 0:vt.id,null),_n=null!==(N=null==qt?void 0:qt.firstChild)&&void 0!==N?N:null,Nn=me.create(ot,h,_n,g),Xn=!!qt&&!cc(this._hostTNode);return this.insertImpl(Nn.hostView,re,Xn),Nn}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,u){const h=r._lView,g=h[vn];if(function zt(t){return Sr(t[Rr])}(h)){const N=this.indexOf(r);if(-1!==N)this.detach(N);else{const W=h[Rr],re=new OE(W,W[bi],W[Rr]);re.detach(re.indexOf(r))}}const I=this._adjustIndex(s),x=this._lContainer;if(function jd(t,r,s,u){const h=$i+u,g=s.length;u>0&&(s[h-1][ni]=r),u<g-$i?(r[ni]=s[h],rc(s,$i+u,r)):(s.push(r),r[ni]=null),r[Rr]=s;const I=r[fo];null!==I&&s!==I&&function da(t,r){const s=t[ms];r[ri]!==r[Rr][Rr][ri]&&(t[Ro]=!0),null===s?t[ms]=[r]:s.push(r)}(I,r);const x=r[Mi];null!==x&&x.insertView(t),r[Wn]|=128}(g,h,x,I),!u){const N=kf(I,x),W=h[jn],re=Pf(W,x[pi]);null!==re&&function Mf(t,r,s,u,h,g){u[Zn]=h,u[bi]=r,uo(t,u,s,1,h,g)}(g,x[bi],W,h,re,N)}return r.attachToViewContainerRef(),rc(V_(x),I,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=PE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),u=Gd(this._lContainer,s);u&&(ll(V_(this._lContainer),s),hl(u[vn],u))}detach(r){const s=this._adjustIndex(r,-1),u=Gd(this._lContainer,s);return u&&null!=ll(V_(this._lContainer),s)?new yp(u):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function PE(t){return t[Ts]}function V_(t){return t[Ts]||(t[Ts]=[])}function NE(t,r){let s;const u=r[t.index];return Sr(u)?s=u:(s=gp(u,r,null,t),r[t.index]=s,yh(r,s)),kE(s,r,t,u),new OE(s,t,r)}let kE=function FE(t,r,s,u){if(t[pi])return;let h;h=8&s.type?Cr(u):function nD(t,r){const s=t[jn],u=s.createComment(""),h=Yi(r,t);return yc(s,Pf(s,h),u,function Zm(t,r){return t.nextSibling(r)}(s,h),!1),u}(r,s),t[pi]=h};class U_{constructor(r){this.queryList=r,this.matches=null}clone(){return new U_(this.queryList)}setDirty(){this.queryList.setDirty()}}class j_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const u=null!==r.contentQueries?r.contentQueries[0]:s.length,h=[];for(let g=0;g<u;g++){const I=s.getByIndex(g);h.push(this.queries[I.indexInDeclarationView].clone())}return new j_(h)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==zE(r,s).matches&&this.queries[s].setDirty()}}class LE{constructor(r,s,u=null){this.predicate=r,this.flags=s,this.read=u}}class H_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let u=0;u<this.length;u++){const h=null!==s?s.length:0,g=this.getByIndex(u).embeddedTView(r,h);g&&(g.indexInDeclarationView=u,null!==s?s.push(g):s=[g])}return null!==s?new H_(s):null}template(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class G_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new G_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(r,s,sD(s,g)),this.matchTNodeWithReadOption(r,s,qi(s,r,g,!1,!1))}else u===Zy?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,qi(s,r,u,!1,!1))}matchTNodeWithReadOption(r,s,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===uh||h===$v||h===Zy&&4&s.type)this.addMatch(s.index,-2);else{const g=qi(s,r,h,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,u)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function sD(t,r){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===r)return s[u+1];return null}function aD(t,r,s,u){return-1===s?function oD(t,r){return 11&t.type?Nc(t,r):4&t.type?Bv(t,r):null}(r,t):-2===s?function lD(t,r,s){return s===uh?Nc(r,t):s===Zy?Bv(r,t):s===$v?NE(r,t):void 0}(t,r,u):Ms(t,t[vn],s,r)}function BE(t,r,s,u){const h=r[Mi].queries[u];if(null===h.matches){const g=t.data,I=s.matches,x=[];for(let N=0;N<I.length;N+=2){const W=I[N];x.push(W<0?null:aD(r,g[W],I[N+1],s.metadata.read))}h.matches=x}return h.matches}function z_(t,r,s,u){const h=t.queries.getByIndex(s),g=h.matches;if(null!==g){const I=BE(t,r,h,s);for(let x=0;x<g.length;x+=2){const N=g[x];if(N>0)u.push(I[x/2]);else{const W=g[x+1],re=r[-N];for(let me=$i;me<re.length;me++){const ot=re[me];ot[fo]===ot[Rr]&&z_(ot[vn],ot,W,u)}if(null!==re[ms]){const me=re[ms];for(let ot=0;ot<me.length;ot++){const vt=me[ot];z_(vt[vn],vt,W,u)}}}}}return u}function $E(t){const r=Jt(),s=dn(),u=Ha();Ur(u+1);const h=zE(s,u);if(t.dirty&&function Re(t){return 4==(4&t[Wn])}(r)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const g=h.crossesNgTemplate?z_(s,r,u,[]):BE(s,r,h,u);t.reset(g,ry),t.notifyOnChanges()}return!0}return!1}function VE(t,r,s){const u=dn();u.firstCreatePass&&(GE(u,new LE(t,r,s),-1),2==(2&r)&&(u.staticViewQueries=!0)),HE(u,Jt(),r)}function UE(t,r,s,u){const h=dn();if(h.firstCreatePass){const g=mn();GE(h,new LE(r,s,u),g.index),function cD(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(h,t),2==(2&s)&&(h.staticContentQueries=!0)}HE(h,Jt(),s)}function jE(){return function uD(t,r){return t[Mi].queries[r].queryList}(Jt(),Ha())}function HE(t,r,s){const u=new B_(4==(4&s));(function Vc(t,r,s,u){const h=l(r);h.push(s),t.firstCreatePass&&f(t).push(u,h.length-1)})(t,r,u,u.destroy),null===r[Mi]&&(r[Mi]=new j_),r[Mi].queries.push(new U_(u))}function GE(t,r,s){null===t.queries&&(t.queries=new H_),t.queries.track(new G_(r,s))}function zE(t,r){return t.queries.getByIndex(r)}function W_(t){return!!lt(t)}const lI=new Xi("Application Initializer");let X_=(()=>{class t{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=null!==(s=Tn(lI,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const h of this.appInits){const g=h();if(Ay(g))s.push(g);else if(Vm(g)){const I=new Promise((x,N)=>{g.subscribe({complete:x,error:N})});s.push(I)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(h=>{this.reject(h)}),0===s.length&&u(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Uv=new Xi("LocaleId",{providedIn:"root",factory:()=>Tn(Uv,Vt.Optional|Vt.SkipSelf)||function OD(){return typeof $localize<"u"&&$localize.locale||zm}()}),PD=new Xi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let cI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new te.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class ND{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let kD=(()=>{class t{compileModuleSync(s){return new k_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),g=Xl(lt(s).declarations).reduce((I,x)=>{const N=gn(x);return N&&I.push(new vp(N)),I},[]);return new ND(u,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const BD=(()=>Promise.resolve(0))();function Q_(t){typeof Zone>"u"?BD.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function fI(...t){}class nu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Th(!1),this.onMicrotaskEmpty=new Th(!1),this.onStable=new Th(!1),this.onError=new Th(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&s,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function $D(){let t=Gn.requestAnimationFrame,r=Gn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function jD(t){const r=()=>{!function UD(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,e0(t),t.isCheckStableRunning=!0,J_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),e0(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,h,g,I,x)=>{try{return pI(t),s.invokeTask(h,g,I,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&r(),gI(t)}},onInvoke:(s,u,h,g,I,x,N)=>{try{return pI(t),s.invoke(h,g,I,x,N)}finally{t.shouldCoalesceRunChangeDetection&&r(),gI(t)}},onHasTask:(s,u,h,g)=>{s.hasTask(h,g),u===h&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,e0(t),J_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,u,h,g)=>(s.handleError(h,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nu.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(nu.isInAngularZone())throw new Ce(909,!1)}run(r,s,u){return this._inner.run(r,s,u)}runTask(r,s,u,h){const g=this._inner,I=g.scheduleEventTask("NgZoneEvent: "+h,r,VD,fI,fI);try{return g.runTask(I,s,u)}finally{g.cancelTask(I)}}runGuarded(r,s,u){return this._inner.runGuarded(r,s,u)}runOutsideAngular(r){return this._outer.run(r)}}const VD={};function J_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function e0(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function pI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gI(t){t._nesting--,J_(t)}class HD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Th,this.onMicrotaskEmpty=new Th,this.onStable=new Th,this.onError=new Th}run(r,s,u){return r.apply(s,u)}runGuarded(r,s,u){return r.apply(s,u)}runOutsideAngular(r){return r()}runTask(r,s,u,h){return r.apply(s,u)}}const mI=new Xi("",{providedIn:"root",factory:yI});function yI(){const t=Tn(nu);let r=!0;const s=new de.y(h=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{h.next(r),h.complete()})}),u=new de.y(h=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{nu.assertNotInAngularZone(),Q_(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,h.next(!0))})})});const I=t.onUnstable.subscribe(()=>{nu.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{h.next(!1)}))});return()=>{g.unsubscribe(),I.unsubscribe()}});return(0,Ie.T)(s,u.pipe((0,ge.B)()))}const vI=new Xi(""),_I=new Xi("");let t0,GD=(()=>{class t{constructor(s,u,h){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function zD(t){t0=t}(h),h.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nu.assertNotInAngularZone(),Q_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Q_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:h})}whenStable(s,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,h){return[]}}return t.\u0275fac=function(s){return new(s||t)(ln(nu),ln(EI),ln(_I))},t.\u0275prov=Ut({token:t,factory:t.\u0275fac}),t})(),EI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){var h,g;return null!==(h=null===(g=t0)||void 0===g?void 0:g.findTestabilityInTree(this,s,u))&&void 0!==h?h:null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),xp=null;const II=new Xi("AllowMultipleToken"),n0=new Xi("PlatformDestroyListeners"),r0=new Xi("appBootstrapListener");class YD{constructor(r,s){this.name=r,this.token=s}}function DI(t,r,s=[]){const u=`Platform: ${r}`,h=new Xi(u);return(g=[])=>{let I=s0();if(!I||I.injector.get(II,!1)){const x=[...s,...g,{provide:h,useValue:!0}];t?t(x):function qD(t){if(xp&&!xp.get(II,!1))throw new Ce(400,!1);(function wI(){!function Va(t){ga=t}(()=>{throw new Ce(600,!1)})})(),xp=t;const r=t.get(TI);(function bI(t){const r=t.get(Wf,null);null==r||r.forEach(s=>s())})(t)}(function CI(t=[],r){return gu.create({name:r,providers:[{provide:Kh,useValue:"platform"},{provide:n0,useValue:new Set([()=>xp=null])},...t]})}(x,u))}return function XD(t){const r=s0();if(!r)throw new Ce(401,!1);return r}()}}function s0(){var t,r;return null!==(t=null===(r=xp)||void 0===r?void 0:r.get(TI))&&void 0!==t?t:null}let TI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const h=function QD(t="zone.js",r){return"noop"===t?new HD:"zone.js"===t?new nu(r):t}(null==u?void 0:u.ngZone,function SI(t){var r,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(s=null==t?void 0:t.runCoalescing)&&void 0!==s&&s}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return h.run(()=>{const g=function yb(t,r,s){return new N_(t,r,s)}(s.moduleType,this.injector,function OI(t){return[{provide:nu,useFactory:t},{provide:th,multi:!0,useFactory:()=>{const r=Tn(eC,{optional:!0});return()=>r.initialize()}},{provide:RI,useFactory:JD},{provide:mI,useFactory:yI}]}(()=>h)),I=g.injector.get(kc,null);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:N=>{I.handleError(N)}});g.onDestroy(()=>{jv(this._modules,g),x.unsubscribe()})}),function AI(t,r,s){try{const u=s();return Ay(u)?u.catch(h=>{throw r.runOutsideAngular(()=>t.handleError(h)),h}):u}catch(u){throw r.runOutsideAngular(()=>t.handleError(u)),u}}(I,h,()=>{const x=g.injector.get(X_);return x.runInitializers(),x.donePromise.then(()=>(function U0(t){nn(t,"Expected localeId to be defined"),"string"==typeof t&&(V0=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Uv,zm)||zm),this._moduleDoBootstrap(g),g))})})}bootstrapModule(s,u=[]){const h=MI({},u);return function WD(t,r,s){const u=new k_(s);return Promise.resolve(u)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(s){const u=s.injector.get(qm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!s.instance.ngDoBootstrap)throw new Ce(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(n0,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(ln(gu))},t.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function MI(t,r){return Array.isArray(r)?r.reduce(MI,t):{...t,...r}}let qm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Tn(RI),this.zoneIsStable=Tn(mI),this.componentTypes=[],this.components=[],this.isStable=Tn(cI).hasPendingTasks.pipe((0,Oe.w)(s=>s?(0,ve.of)(!1):this.zoneIsStable),(0,$e.x)(),(0,ge.B)()),this._injector=Tn(Dc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const h=s instanceof Xf;if(!this._injector.get(X_).done)throw!h&&at(s),new Ce(405,!1);let I;I=h?s:this._injector.get(yd).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const x=function KD(t){return t.isBoundToModule}(I)?void 0:this._injector.get(Wm),W=I.create(gu.NULL,[],u||I.selector,x),re=W.location.nativeElement,me=W.injector.get(vI,null);return null==me||me.registerApplication(re),W.onDestroy(()=>{this.detachView(W.hostView),jv(this.components,W),null==me||me.unregisterApplication(re)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;jv(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(r0,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>jv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ce(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const RI=new Xi("",{providedIn:"root",factory:()=>Tn(kc).handleError.bind(void 0)});function JD(){const t=Tn(nu),r=Tn(kc);return s=>t.runOutsideAngular(()=>r.handleError(s))}let eC=(()=>{class t{constructor(){this.zone=Tn(nu),this.applicationRef=Tn(qm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nC(){return!1}function rC(){}let iC=(()=>{class t{}return t.__NG_ELEMENT_ID__=sC,t})();function sC(t){return function oC(t,r,s){if(no(t)&&!s){const u=ne(t.index,r);return new yp(u,u)}return 47&t.type?new yp(r[ri],r):null}(mn(),Jt(),16==(16&t))}class FI{constructor(){}supports(r){return Ql(r)}create(r){return new hC(r)}}const dC=(t,r)=>r;class hC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||dC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,u=this._removalsHead,h=0,g=null;for(;s||u;){const I=!u||s&&s.currentIndex<BI(u,h,g)?s:u,x=BI(I,h,g),N=I.currentIndex;if(I===u)h--,u=u._nextRemoved;else if(s=s._next,null==I.previousIndex)h++;else{g||(g=[]);const W=x-h,re=N-h;if(W!=re){for(let ot=0;ot<W;ot++){const vt=ot<g.length?g[ot]:g[ot]=0,qt=vt+ot;re<=qt&&qt<W&&(g[ot]=vt+1)}g[I.previousIndex]=re-W}}x!==N&&r(I,x,N)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Ql(r))throw new Ce(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let h,g,I,s=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)g=r[x],I=this._trackByFn(x,g),null!==s&&Object.is(s.trackById,I)?(u&&(s=this._verifyReinsertion(s,g,I,x)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,I,x),u=!0),s=s._next}else h=0,function Pm(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let u;for(;!(u=s.next()).done;)r(u.value)}}(r,x=>{I=this._trackByFn(h,x),null!==s&&Object.is(s.trackById,I)?(u&&(s=this._verifyReinsertion(s,x,I,h)),Object.is(s.item,x)||this._addIdentityChange(s,x)):(s=this._mismatch(s,x,I,h),u=!0),s=s._next,h++}),this.length=h;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,u,h){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,g,h)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,g,h)):r=this._addAfter(new fC(s,u),g,h),r}_verifyReinsertion(r,s,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?r=this._reinsertAfter(g,r._prev,h):r.currentIndex!=h&&(r.currentIndex=h,this._addToMoves(r,h)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const h=r._prevRemoved,g=r._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(r,s,u),this._addToMoves(r,u),r}_moveAfter(r,s,u){return this._unlink(r),this._insertAfter(r,s,u),this._addToMoves(r,u),r}_addAfter(r,s,u){return this._insertAfter(r,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,u){const h=null===s?this._itHead:s._next;return r._next=h,r._prev=s,null===h?this._itTail=r:h._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new LI),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,u=r._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LI),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class fC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const s=r._prevDup,u=r._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class LI{constructor(){this.map=new Map}put(r){const s=r.trackById;let u=this.map.get(s);u||(u=new pC,this.map.set(s,u)),u.add(r)}get(r,s){const h=this.map.get(r);return h?h.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BI(t,r,s){const u=t.previousIndex;if(null===u)return u;let h=0;return s&&u<s.length&&(h=s[u]),u+r+h}class $I{constructor(){}supports(r){return r instanceof Map||hy(r)}create(){return new gC}}class gC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||hy(r)))throw new Ce(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,h)=>{if(s&&s.key===h)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(h,u);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const u=r._prev;return s._next=r,s._prev=u,r._prev=s,u&&(u._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const h=this._records.get(r);this._maybeAddToChanges(h,s);const g=h._prev,I=h._next;return g&&(g._next=I),I&&(I._prev=g),h._next=null,h._prev=null,h}const u=new mC(r);return this._records.set(r,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(u=>s(r[u],u))}}class mC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VI(){return new c0([new FI])}let c0=(()=>{class t{constructor(s){this.factories=s}static create(s,u){if(null!=u){const h=u.factories.slice();s=s.concat(h)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||VI()),deps:[[t,new jl,new xu]]}}find(s){const u=this.factories.find(h=>h.supports(s));if(null!=u)return u;throw new Ce(901,!1)}}return t.\u0275prov=Ut({token:t,providedIn:"root",factory:VI}),t})();function UI(){return new d0([new $I])}let d0=(()=>{class t{constructor(s){this.factories=s}static create(s,u){if(u){const h=u.factories.slice();s=s.concat(h)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||UI()),deps:[[t,new jl,new xu]]}}find(s){const u=this.factories.find(h=>h.supports(s));if(u)return u;throw new Ce(901,!1)}}return t.\u0275prov=Ut({token:t,providedIn:"root",factory:UI}),t})();const _C=DI(null,"core",[]);let EC=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(ln(qm))},t.\u0275mod=Tt({type:t}),t.\u0275inj=Zt({}),t})();function MC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function RC(t,r){const s=gn(t),u=r.elementInjector||Gf();return new vp(s).create(u,r.projectableNodes,r.hostElement,r.environmentInjector)}function OC(t){const r=gn(t);if(!r)return null;const s=new vp(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone}}}},5030:(cn,ut,F)=>{"use strict";F.d(ut,{qu:()=>zi,NI:()=>We,u:()=>Mi,cw:()=>Un,sg:()=>jn,u5:()=>Qr,JU:()=>Ye,a5:()=>Qn,JJ:()=>Vt,JL:()=>$n,F:()=>Ze,On:()=>sn,UX:()=>Po,Q7:()=>Us,kI:()=>He,_Y:()=>In});var v=F(2223),y=F(4755),te=F(8996),de=F(9751),Ie=F(4742),ve=F(8421),ge=F(3269),Oe=F(5403),$e=F(3268),Se=F(1810),Ne=F(4004);let Pe=(()=>{class j{constructor(L,ie){this._renderer=L,this._elementRef=ie,this.onChange=bt=>{},this.onTouched=()=>{}}setProperty(L,ie){this._renderer.setProperty(this._elementRef.nativeElement,L,ie)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return j.\u0275fac=function(L){return new(L||j)(v.Y36(v.Qsj),v.Y36(v.SBq))},j.\u0275dir=v.lG2({type:j}),j})(),Be=(()=>{class j extends Pe{}return j.\u0275fac=function(){let U;return function(ie){return(U||(U=v.n5z(j)))(ie||j)}}(),j.\u0275dir=v.lG2({type:j,features:[v.qOj]}),j})();const Ye=new v.OlP("NgValueAccessor"),be={provide:Ye,useExisting:(0,v.Gpc)(()=>rt),multi:!0},Q=new v.OlP("CompositionEventMode");let rt=(()=>{class j extends Pe{constructor(L,ie,bt){super(L,ie),this._compositionMode=bt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const j=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return j.\u0275fac=function(L){return new(L||j)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Q,8))},j.\u0275dir=v.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,ie){1&L&&v.NdJ("input",function(wn){return ie._handleInput(wn.target.value)})("blur",function(){return ie.onTouched()})("compositionstart",function(){return ie._compositionStart()})("compositionend",function(wn){return ie._compositionEnd(wn.target.value)})},features:[v._Bn([be]),v.qOj]}),j})();function Ce(j){return null==j||("string"==typeof j||Array.isArray(j))&&0===j.length}function Ke(j){return null!=j&&"number"==typeof j.length}const Ue=new v.OlP("NgValidators"),Te=new v.OlP("NgAsyncValidators"),q=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class He{static min(U){return function we(j){return U=>{if(Ce(U.value)||Ce(j))return null;const L=parseFloat(U.value);return!isNaN(L)&&L<j?{min:{min:j,actual:U.value}}:null}}(U)}static max(U){return function yt(j){return U=>{if(Ce(U.value)||Ce(j))return null;const L=parseFloat(U.value);return!isNaN(L)&&L>j?{max:{max:j,actual:U.value}}:null}}(U)}static required(U){return ht(U)}static requiredTrue(U){return function Ge(j){return!0===j.value?null:{required:!0}}(U)}static email(U){return function Qt(j){return Ce(j.value)||q.test(j.value)?null:{email:!0}}(U)}static minLength(U){return function dt(j){return U=>Ce(U.value)||!Ke(U.value)?null:U.value.length<j?{minlength:{requiredLength:j,actualLength:U.value.length}}:null}(U)}static maxLength(U){return function tt(j){return U=>Ke(U.value)&&U.value.length>j?{maxlength:{requiredLength:j,actualLength:U.value.length}}:null}(U)}static pattern(U){return function Me(j){if(!j)return Ae;let U,L;return"string"==typeof j?(L="","^"!==j.charAt(0)&&(L+="^"),L+=j,"$"!==j.charAt(j.length-1)&&(L+="$"),U=new RegExp(L)):(L=j.toString(),U=j),ie=>{if(Ce(ie.value))return null;const bt=ie.value;return U.test(bt)?null:{pattern:{requiredPattern:L,actualValue:bt}}}}(U)}static nullValidator(U){return null}static compose(U){return nn(U)}static composeAsync(U){return Pt(U)}}function ht(j){return Ce(j.value)?{required:!0}:null}function Ae(j){return null}function Le(j){return null!=j}function qe(j){return(0,v.QGY)(j)?(0,te.D)(j):j}function Et(j){let U={};return j.forEach(L=>{U=null!=L?{...U,...L}:U}),0===Object.keys(U).length?null:U}function Bt(j,U){return U.map(L=>L(j))}function rn(j){return j.map(U=>function on(j){return!j.validate}(U)?U:L=>U.validate(L))}function nn(j){if(!j)return null;const U=j.filter(Le);return 0==U.length?null:function(L){return Et(Bt(L,U))}}function Mt(j){return null!=j?nn(rn(j)):null}function Pt(j){if(!j)return null;const U=j.filter(Le);return 0==U.length?null:function(L){return function ue(...j){const U=(0,ge.jO)(j),{args:L,keys:ie}=(0,Ie.D)(j),bt=new de.y(wn=>{const{length:ti}=L;if(!ti)return void wn.complete();const as=new Array(ti);let ea=ti,Co=ti;for(let Wi=0;Wi<ti;Wi++){let qs=!1;(0,ve.Xf)(L[Wi]).subscribe((0,Oe.x)(wn,ki=>{qs||(qs=!0,Co--),as[Wi]=ki},()=>ea--,void 0,()=>{(!ea||!qs)&&(Co||wn.next(ie?(0,Se.n)(ie,as):as),wn.complete())}))}});return U?bt.pipe((0,$e.Z)(U)):bt}(Bt(L,U).map(qe)).pipe((0,Ne.U)(Et))}}function St(j){return null!=j?Pt(rn(j)):null}function It(j,U){return null===j?[U]:Array.isArray(j)?[...j,U]:[j,U]}function Ut(j){return j._rawValidators}function kt(j){return j._rawAsyncValidators}function Zt(j){return j?Array.isArray(j)?j:[j]:[]}function Mn(j,U){return Array.isArray(j)?j.includes(U):j===U}function Ct(j,U){const L=Zt(U);return Zt(j).forEach(bt=>{Mn(L,bt)||L.push(bt)}),L}function nr(j,U){return Zt(U).filter(L=>!Mn(j,L))}class Fn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(U){this._rawValidators=U||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(U){this._rawAsyncValidators=U||[],this._composedAsyncValidatorFn=St(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(U){this._onDestroyCallbacks.push(U)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(U=>U()),this._onDestroyCallbacks=[]}reset(U=void 0){this.control&&this.control.reset(U)}hasError(U,L){return!!this.control&&this.control.hasError(U,L)}getError(U,L){return this.control?this.control.getError(U,L):null}}class On extends Fn{get formDirective(){return null}get path(){return null}}class Qn extends Fn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gr{constructor(U){this._cd=U}get isTouched(){var U,L;return!(null===(U=this._cd)||void 0===U||null===(L=U.control)||void 0===L||!L.touched)}get isUntouched(){var U,L;return!(null===(U=this._cd)||void 0===U||null===(L=U.control)||void 0===L||!L.untouched)}get isPristine(){var U,L;return!(null===(U=this._cd)||void 0===U||null===(L=U.control)||void 0===L||!L.pristine)}get isDirty(){var U,L;return!(null===(U=this._cd)||void 0===U||null===(L=U.control)||void 0===L||!L.dirty)}get isValid(){var U,L;return!(null===(U=this._cd)||void 0===U||null===(L=U.control)||void 0===L||!L.valid)}get isInvalid(){var U,L;return!(null===(U=this._cd)||void 0===U||null===(L=U.control)||void 0===L||!L.invalid)}get isPending(){var U,L;return!(null===(U=this._cd)||void 0===U||null===(L=U.control)||void 0===L||!L.pending)}get isSubmitted(){var U;return!(null===(U=this._cd)||void 0===U||!U.submitted)}}let Vt=(()=>{class j extends Gr{constructor(L){super(L)}}return j.\u0275fac=function(L){return new(L||j)(v.Y36(Qn,2))},j.\u0275dir=v.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,ie){2&L&&v.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)},features:[v.qOj]}),j})(),$n=(()=>{class j extends Gr{constructor(L){super(L)}}return j.\u0275fac=function(L){return new(L||j)(v.Y36(On,10))},j.\u0275dir=v.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,ie){2&L&&v.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)("ng-submitted",ie.isSubmitted)},features:[v.qOj]}),j})();const $t="VALID",hn="INVALID",ln="PENDING",er="DISABLED";function Tn(j){return(gt(j)?j.validators:j)||null}function Ve(j,U){return(gt(U)?U.asyncValidators:j)||null}function gt(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}function Nt(j,U,L){const ie=j.controls;if(!(U?Object.keys(ie):ie).length)throw new v.vHH(1e3,"");if(!ie[L])throw new v.vHH(1001,"")}function fn(j,U,L){j._forEachChild((ie,bt)=>{if(void 0===L[bt])throw new v.vHH(1002,"")})}class An{constructor(U,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(U),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(U){this._rawValidators=this._composedValidatorFn=U}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(U){this._rawAsyncValidators=this._composedAsyncValidatorFn=U}get parent(){return this._parent}get valid(){return this.status===$t}get invalid(){return this.status===hn}get pending(){return this.status==ln}get disabled(){return this.status===er}get enabled(){return this.status!==er}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(U){this._assignValidators(U)}setAsyncValidators(U){this._assignAsyncValidators(U)}addValidators(U){this.setValidators(Ct(U,this._rawValidators))}addAsyncValidators(U){this.setAsyncValidators(Ct(U,this._rawAsyncValidators))}removeValidators(U){this.setValidators(nr(U,this._rawValidators))}removeAsyncValidators(U){this.setAsyncValidators(nr(U,this._rawAsyncValidators))}hasValidator(U){return Mn(this._rawValidators,U)}hasAsyncValidator(U){return Mn(this._rawAsyncValidators,U)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(U={}){this.touched=!0,this._parent&&!U.onlySelf&&this._parent.markAsTouched(U)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(U=>U.markAllAsTouched())}markAsUntouched(U={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}markAsDirty(U={}){this.pristine=!1,this._parent&&!U.onlySelf&&this._parent.markAsDirty(U)}markAsPristine(U={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}markAsPending(U={}){this.status=ln,!1!==U.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!U.onlySelf&&this._parent.markAsPending(U)}disable(U={}){const L=this._parentMarkedDirty(U.onlySelf);this.status=er,this.errors=null,this._forEachChild(ie=>{ie.disable({...U,onlySelf:!0})}),this._updateValue(),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...U,skipPristineCheck:L}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(U={}){const L=this._parentMarkedDirty(U.onlySelf);this.status=$t,this._forEachChild(ie=>{ie.enable({...U,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent}),this._updateAncestors({...U,skipPristineCheck:L}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(U){this._parent&&!U.onlySelf&&(this._parent.updateValueAndValidity(U),U.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(U){this._parent=U}getRawValue(){return this.value}updateValueAndValidity(U={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$t||this.status===ln)&&this._runAsyncValidator(U.emitEvent)),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!U.onlySelf&&this._parent.updateValueAndValidity(U)}_updateTreeValidity(U={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(U)),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?er:$t}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(U){if(this.asyncValidator){this.status=ln,this._hasOwnPendingAsyncValidator=!0;const L=qe(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:U})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(U,L={}){this.errors=U,this._updateControlsErrors(!1!==L.emitEvent)}get(U){let L=U;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ie,bt)=>ie&&ie._find(bt),this)}getError(U,L){const ie=L?this.get(L):this;return ie&&ie.errors?ie.errors[U]:null}hasError(U,L){return!!this.getError(U,L)}get root(){let U=this;for(;U._parent;)U=U._parent;return U}_updateControlsErrors(U){this.status=this._calculateStatus(),U&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(U)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?er:this.errors?hn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ln)?ln:this._anyControlsHaveStatus(hn)?hn:$t}_anyControlsHaveStatus(U){return this._anyControls(L=>L.status===U)}_anyControlsDirty(){return this._anyControls(U=>U.dirty)}_anyControlsTouched(){return this._anyControls(U=>U.touched)}_updatePristine(U={}){this.pristine=!this._anyControlsDirty(),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}_updateTouched(U={}){this.touched=this._anyControlsTouched(),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}_registerOnCollectionChange(U){this._onCollectionChange=U}_setUpdateStrategy(U){gt(U)&&null!=U.updateOn&&(this._updateOn=U.updateOn)}_parentMarkedDirty(U){return!U&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(U){return null}_assignValidators(U){this._rawValidators=Array.isArray(U)?U.slice():U,this._composedValidatorFn=function _t(j){return Array.isArray(j)?Mt(j):j||null}(this._rawValidators)}_assignAsyncValidators(U){this._rawAsyncValidators=Array.isArray(U)?U.slice():U,this._composedAsyncValidatorFn=function xe(j){return Array.isArray(j)?St(j):j||null}(this._rawAsyncValidators)}}class Un extends An{constructor(U,L,ie){super(Tn(L),Ve(ie,L)),this.controls=U,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(U,L){return this.controls[U]?this.controls[U]:(this.controls[U]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(U,L,ie={}){this.registerControl(U,L),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(U,L={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(U,L,ie={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],L&&this.registerControl(U,L),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(U){return this.controls.hasOwnProperty(U)&&this.controls[U].enabled}setValue(U,L={}){fn(this,0,U),Object.keys(U).forEach(ie=>{Nt(this,!0,ie),this.controls[ie].setValue(U[ie],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(U,L={}){null!=U&&(Object.keys(U).forEach(ie=>{const bt=this.controls[ie];bt&&bt.patchValue(U[ie],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(U={},L={}){this._forEachChild((ie,bt)=>{ie.reset(U[bt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(U,L,ie)=>(U[ie]=L.getRawValue(),U))}_syncPendingControls(){let U=this._reduceChildren(!1,(L,ie)=>!!ie._syncPendingControls()||L);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){Object.keys(this.controls).forEach(L=>{const ie=this.controls[L];ie&&U(ie,L)})}_setUpControls(){this._forEachChild(U=>{U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(U){for(const[L,ie]of Object.entries(this.controls))if(this.contains(L)&&U(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ie,bt)=>((ie.enabled||this.disabled)&&(L[bt]=ie.value),L))}_reduceChildren(U,L){let ie=U;return this._forEachChild((bt,wn)=>{ie=L(ie,bt,wn)}),ie}_allControlsDisabled(){for(const U of Object.keys(this.controls))if(this.controls[U].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(U){return this.controls.hasOwnProperty(U)?this.controls[U]:null}}class qn extends Un{}const hi=new v.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ns}),ns="always";function fi(j,U){return[...U.path,j]}function Ei(j,U,L=ns){var ie,bt;Pr(j,U),U.valueAccessor.writeValue(j.value),(j.disabled||"always"===L)&&(null===(ie=(bt=U.valueAccessor).setDisabledState)||void 0===ie||ie.call(bt,j.disabled)),function Ai(j,U){U.valueAccessor.registerOnChange(L=>{j._pendingValue=L,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&Ii(j,U)})}(j,U),function Nr(j,U){const L=(ie,bt)=>{U.valueAccessor.writeValue(ie),bt&&U.viewToModelUpdate(ie)};j.registerOnChange(L),U._registerOnDestroy(()=>{j._unregisterOnChange(L)})}(j,U),function li(j,U){U.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&Ii(j,U),"submit"!==j.updateOn&&j.markAsTouched()})}(j,U),function Ir(j,U){if(U.valueAccessor.setDisabledState){const L=ie=>{U.valueAccessor.setDisabledState(ie)};j.registerOnDisabledChange(L),U._registerOnDestroy(()=>{j._unregisterOnDisabledChange(L)})}}(j,U)}function si(j,U,L=!0){const ie=()=>{};U.valueAccessor&&(U.valueAccessor.registerOnChange(ie),U.valueAccessor.registerOnTouched(ie)),Pi(j,U),j&&(U._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function gr(j,U){j.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(U)})}function Pr(j,U){const L=Ut(j);null!==U.validator?j.setValidators(It(L,U.validator)):"function"==typeof L&&j.setValidators([L]);const ie=kt(j);null!==U.asyncValidator?j.setAsyncValidators(It(ie,U.asyncValidator)):"function"==typeof ie&&j.setAsyncValidators([ie]);const bt=()=>j.updateValueAndValidity();gr(U._rawValidators,bt),gr(U._rawAsyncValidators,bt)}function Pi(j,U){let L=!1;if(null!==j){if(null!==U.validator){const bt=Ut(j);if(Array.isArray(bt)&&bt.length>0){const wn=bt.filter(ti=>ti!==U.validator);wn.length!==bt.length&&(L=!0,j.setValidators(wn))}}if(null!==U.asyncValidator){const bt=kt(j);if(Array.isArray(bt)&&bt.length>0){const wn=bt.filter(ti=>ti!==U.asyncValidator);wn.length!==bt.length&&(L=!0,j.setAsyncValidators(wn))}}}const ie=()=>{};return gr(U._rawValidators,ie),gr(U._rawAsyncValidators,ie),L}function Ii(j,U){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),U.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function xr(j,U){Pr(j,U)}function rs(j,U){if(!j.hasOwnProperty("model"))return!1;const L=j.model;return!!L.isFirstChange()||!Object.is(U,L.currentValue)}function hs(j,U){j._syncPendingControls(),U.forEach(L=>{const ie=L.control;"submit"===ie.updateOn&&ie._pendingChange&&(L.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}function es(j,U){if(!U)return null;let L,ie,bt;return Array.isArray(U),U.forEach(wn=>{wn.constructor===rt?L=wn:function ji(j){return Object.getPrototypeOf(j.constructor)===Be}(wn)?ie=wn:bt=wn}),bt||ie||L||null}const se={provide:On,useExisting:(0,v.Gpc)(()=>Ze)},Ee=(()=>Promise.resolve())();let Ze=(()=>{class j extends On{constructor(L,ie,bt){super(),this.callSetDisabledState=bt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new v.vpe,this.form=new Un({},Mt(L),St(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){Ee.then(()=>{const ie=this._findContainer(L.path);L.control=ie.registerControl(L.name,L.control),Ei(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){Ee.then(()=>{const ie=this._findContainer(L.path);ie&&ie.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){Ee.then(()=>{const ie=this._findContainer(L.path),bt=new Un({});xr(bt,L),ie.registerControl(L.name,bt),bt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){Ee.then(()=>{const ie=this._findContainer(L.path);ie&&ie.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,ie){Ee.then(()=>{this.form.get(L.path).setValue(ie)})}setValue(L){this.control.setValue(L)}onSubmit(L){var ie;return this.submitted=!0,hs(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===(null==L||null===(ie=L.target)||void 0===ie?void 0:ie.method)}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return j.\u0275fac=function(L){return new(L||j)(v.Y36(Ue,10),v.Y36(Te,10),v.Y36(hi,8))},j.\u0275dir=v.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,ie){1&L&&v.NdJ("submit",function(wn){return ie.onSubmit(wn)})("reset",function(){return ie.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([se]),v.qOj]}),j})();function pe(j,U){const L=j.indexOf(U);L>-1&&j.splice(L,1)}function nt(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}const We=class extends An{constructor(U=null,L,ie){super(Tn(L),Ve(ie,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(U),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gt(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=nt(U)?U.value:U)}setValue(U,L={}){this.value=this._pendingValue=U,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(U,L={}){this.setValue(U,L)}reset(U=this.defaultValue,L={}){this._applyFormState(U),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(U){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(U){this._onChange.push(U)}_unregisterOnChange(U){pe(this._onChange,U)}registerOnDisabledChange(U){this._onDisabledChange.push(U)}_unregisterOnDisabledChange(U){pe(this._onDisabledChange,U)}_forEachChild(U){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(U){nt(U)?(this.value=this._pendingValue=U.value,U.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=U}},lt={provide:Qn,useExisting:(0,v.Gpc)(()=>sn)},Ht=(()=>Promise.resolve())();let sn=(()=>{class j extends Qn{constructor(L,ie,bt,wn,ti,as){super(),this._changeDetectorRef=ti,this.callSetDisabledState=as,this.control=new We,this._registered=!1,this.name="",this.update=new v.vpe,this._parent=L,this._setValidators(ie),this._setAsyncValidators(bt),this.valueAccessor=es(0,wn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ie=L.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),rs(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ei(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){Ht.then(()=>{var ie;this.control.setValue(L,{emitViewToModelChange:!1}),null===(ie=this._changeDetectorRef)||void 0===ie||ie.markForCheck()})}_updateDisabled(L){const ie=L.isDisabled.currentValue,bt=0!==ie&&(0,v.D6c)(ie);Ht.then(()=>{var wn;bt&&!this.control.disabled?this.control.disable():!bt&&this.control.disabled&&this.control.enable(),null===(wn=this._changeDetectorRef)||void 0===wn||wn.markForCheck()})}_getPath(L){return this._parent?fi(L,this._parent):[L]}}return j.\u0275fac=function(L){return new(L||j)(v.Y36(On,9),v.Y36(Ue,10),v.Y36(Te,10),v.Y36(Ye,10),v.Y36(v.sBO,8),v.Y36(hi,8))},j.\u0275dir=v.lG2({type:j,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[v._Bn([lt]),v.qOj,v.TTD]}),j})(),In=(()=>{class j{}return j.\u0275fac=function(L){return new(L||j)},j.\u0275dir=v.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),j})(),Wn=(()=>{class j{}return j.\u0275fac=function(L){return new(L||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({}),j})();const fs=new v.OlP("NgModelWithFormControlWarning"),ss={provide:On,useExisting:(0,v.Gpc)(()=>jn)};let jn=(()=>{class j extends On{constructor(L,ie,bt){super(),this.callSetDisabledState=bt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(L),this._setAsyncValidators(ie)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ie=this.form.get(L.path);return Ei(ie,L,this.callSetDisabledState),ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ie}getControl(L){return this.form.get(L.path)}removeControl(L){si(L.control||null,L,!1),function Os(j,U){const L=j.indexOf(U);L>-1&&j.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ie){this.form.get(L.path).setValue(ie)}onSubmit(L){var ie;return this.submitted=!0,hs(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===(null==L||null===(ie=L.target)||void 0===ie?void 0:ie.method)}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ie=L.control,bt=this.form.get(L.path);ie!==bt&&(si(ie||null,L),(j=>j instanceof We)(bt)&&(Ei(bt,L,this.callSetDisabledState),L.control=bt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ie=this.form.get(L.path);xr(ie,L),ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ie=this.form.get(L.path);ie&&function Bi(j,U){return Pi(j,U)}(ie,L)&&ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pr(this.form,this),this._oldForm&&Pi(this._oldForm,this)}_checkFormPresent(){}}return j.\u0275fac=function(L){return new(L||j)(v.Y36(Ue,10),v.Y36(Te,10),v.Y36(hi,8))},j.\u0275dir=v.lG2({type:j,selectors:[["","formGroup",""]],hostBindings:function(L,ie){1&L&&v.NdJ("submit",function(wn){return ie.onSubmit(wn)})("reset",function(){return ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([ss]),v.qOj,v.TTD]}),j})();const ps={provide:Qn,useExisting:(0,v.Gpc)(()=>Mi)};let Mi=(()=>{class j extends Qn{set isDisabled(L){}constructor(L,ie,bt,wn,ti){super(),this._ngModelWarningConfig=ti,this._added=!1,this.name=null,this.update=new v.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ie),this._setAsyncValidators(bt),this.valueAccessor=es(0,wn)}ngOnChanges(L){this._added||this._setUpControl(),rs(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return fi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return j._ngModelWarningSentOnce=!1,j.\u0275fac=function(L){return new(L||j)(v.Y36(On,13),v.Y36(Ue,10),v.Y36(Te,10),v.Y36(Ye,10),v.Y36(fs,8))},j.\u0275dir=v.lG2({type:j,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[v._Bn([ps]),v.qOj,v.TTD]}),j})(),ys=(()=>{class j{constructor(){this._validator=Ae}ngOnChanges(L){if(this.inputName in L){const ie=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Ae,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return j.\u0275fac=function(L){return new(L||j)},j.\u0275dir=v.lG2({type:j,features:[v.TTD]}),j})();const Vs={provide:Ue,useExisting:(0,v.Gpc)(()=>Us),multi:!0};let Us=(()=>{class j extends ys{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=v.D6c,this.createValidator=L=>ht}enabled(L){return L}}return j.\u0275fac=function(){let U;return function(ie){return(U||(U=v.n5z(j)))(ie||j)}}(),j.\u0275dir=v.lG2({type:j,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,ie){2&L&&v.uIk("required",ie._enabled?"":null)},inputs:{required:"required"},features:[v._Bn([Vs]),v.qOj]}),j})(),Gt=(()=>{class j{}return j.\u0275fac=function(L){return new(L||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({imports:[Wn]}),j})();class kn extends An{constructor(U,L,ie){super(Tn(L),Ve(ie,L)),this.controls=U,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(U){return this.controls[this._adjustIndex(U)]}push(U,L={}){this.controls.push(U),this._registerControl(U),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(U,L,ie={}){this.controls.splice(U,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ie.emitEvent})}removeAt(U,L={}){let ie=this._adjustIndex(U);ie<0&&(ie=0),this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),this.controls.splice(ie,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(U,L,ie={}){let bt=this._adjustIndex(U);bt<0&&(bt=0),this.controls[bt]&&this.controls[bt]._registerOnCollectionChange(()=>{}),this.controls.splice(bt,1),L&&(this.controls.splice(bt,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(U,L={}){fn(this,0,U),U.forEach((ie,bt)=>{Nt(this,!1,bt),this.at(bt).setValue(ie,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(U,L={}){null!=U&&(U.forEach((ie,bt)=>{this.at(bt)&&this.at(bt).patchValue(ie,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(U=[],L={}){this._forEachChild((ie,bt)=>{ie.reset(U[bt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(U=>U.getRawValue())}clear(U={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:U.emitEvent}))}_adjustIndex(U){return U<0?U+this.length:U}_syncPendingControls(){let U=this.controls.reduce((L,ie)=>!!ie._syncPendingControls()||L,!1);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){this.controls.forEach((L,ie)=>{U(L,ie)})}_updateValue(){this.value=this.controls.filter(U=>U.enabled||this.disabled).map(U=>U.value)}_anyControls(U){return this.controls.some(L=>L.enabled&&U(L))}_setUpControls(){this._forEachChild(U=>this._registerControl(U))}_allControlsDisabled(){for(const U of this.controls)if(U.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(U){U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)}_find(U){var L;return null!==(L=this.at(U))&&void 0!==L?L:null}}function Lr(j){return!!j&&(void 0!==j.asyncValidators||void 0!==j.validators||void 0!==j.updateOn)}let zi=(()=>{class j{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new j;return L.useNonNullable=!0,L}group(L,ie=null){const bt=this._reduceControls(L);let wn={};return Lr(ie)?wn=ie:null!==ie&&(wn.validators=ie.validator,wn.asyncValidators=ie.asyncValidator),new Un(bt,wn)}record(L,ie=null){const bt=this._reduceControls(L);return new qn(bt,ie)}control(L,ie,bt){let wn={};return this.useNonNullable?(Lr(ie)?wn=ie:(wn.validators=ie,wn.asyncValidators=bt),new We(L,{...wn,nonNullable:!0})):new We(L,ie,bt)}array(L,ie,bt){const wn=L.map(ti=>this._createControl(ti));return new kn(wn,ie,bt)}_reduceControls(L){const ie={};return Object.keys(L).forEach(bt=>{ie[bt]=this._createControl(L[bt])}),ie}_createControl(L){return L instanceof We||L instanceof An?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return j.\u0275fac=function(L){return new(L||j)},j.\u0275prov=v.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})(),Qr=(()=>{class j{static withConfig(L){var ie;return{ngModule:j,providers:[{provide:hi,useValue:null!==(ie=L.callSetDisabledState)&&void 0!==ie?ie:ns}]}}}return j.\u0275fac=function(L){return new(L||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({imports:[Gt]}),j})(),Po=(()=>{class j{static withConfig(L){var ie,bt;return{ngModule:j,providers:[{provide:fs,useValue:null!==(ie=L.warnOnNgModelWithFormControl)&&void 0!==ie?ie:"always"},{provide:hi,useValue:null!==(bt=L.callSetDisabledState)&&void 0!==bt?bt:ns}]}}}return j.\u0275fac=function(L){return new(L||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({imports:[Gt]}),j})()},6550:(cn,ut,F)=>{"use strict";F.d(ut,{Dx:()=>Qn,b2:()=>Mn,q6:()=>It});var v=F(2223),y=F(4755);class te extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends te{static makeCurrent(){(0,y.HT)(new de)}onAndCancel(Ve,xe,gt){return Ve.addEventListener(xe,gt),()=>{Ve.removeEventListener(xe,gt)}}dispatchEvent(Ve,xe){Ve.dispatchEvent(xe)}remove(Ve){Ve.parentNode&&Ve.parentNode.removeChild(Ve)}createElement(Ve,xe){return(xe=xe||this.getDefaultDocument()).createElement(Ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ve){return Ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ve){return Ve instanceof DocumentFragment}getGlobalEventTarget(Ve,xe){return"window"===xe?window:"document"===xe?Ve:"body"===xe?Ve.body:null}getBaseHref(Ve){const xe=function ve(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==xe?null:function Oe(_t){ge=ge||document.createElement("a"),ge.setAttribute("href",_t);const Ve=ge.pathname;return"/"===Ve.charAt(0)?Ve:`/${Ve}`}(xe)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ve){return(0,y.Mx)(document.cookie,Ve)}}let ge,Ie=null,Se=(()=>{class _t{build(){return new XMLHttpRequest}}return _t.\u0275fac=function(xe){return new(xe||_t)},_t.\u0275prov=v.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const ue=new v.OlP("EventManagerPlugins");let Ne=(()=>{class _t{constructor(xe,gt){this._zone=gt,this._eventNameToPlugin=new Map,xe.forEach(Nt=>{Nt.manager=this}),this._plugins=xe.slice().reverse()}addEventListener(xe,gt,Nt){return this._findPluginFor(gt).addEventListener(xe,gt,Nt)}getZone(){return this._zone}_findPluginFor(xe){let gt=this._eventNameToPlugin.get(xe);if(gt)return gt;if(gt=this._plugins.find(fn=>fn.supports(xe)),!gt)throw new v.vHH(5101,!1);return this._eventNameToPlugin.set(xe,gt),gt}}return _t.\u0275fac=function(xe){return new(xe||_t)(v.LFG(ue),v.LFG(v.R0b))},_t.\u0275prov=v.Yz7({token:_t,factory:_t.\u0275fac}),_t})();class Pe{constructor(Ve){this._doc=Ve}}const Be="ng-app-id";let Ye=(()=>{class _t{constructor(xe,gt,Nt,fn={}){this.doc=xe,this.appId=gt,this.nonce=Nt,this.platformId=fn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,y.PM)(fn),this.resetHostNodes()}addStyles(xe){for(const gt of xe)1===this.changeUsageCount(gt,1)&&this.onStyleAdded(gt)}removeStyles(xe){for(const gt of xe)this.changeUsageCount(gt,-1)<=0&&this.onStyleRemoved(gt)}ngOnDestroy(){const xe=this.styleNodesInDOM;xe&&(xe.forEach(gt=>gt.remove()),xe.clear());for(const gt of this.getAllStyles())this.onStyleRemoved(gt);this.resetHostNodes()}addHost(xe){this.hostNodes.add(xe);for(const gt of this.getAllStyles())this.addStyleToHost(xe,gt)}removeHost(xe){this.hostNodes.delete(xe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(xe){for(const gt of this.hostNodes)this.addStyleToHost(gt,xe)}onStyleRemoved(xe){var gt,Nt;const fn=this.styleRef;null===(gt=fn.get(xe))||void 0===gt||null===(Nt=gt.elements)||void 0===Nt||Nt.forEach(An=>An.remove()),fn.delete(xe)}collectServerRenderedStyles(){var xe;const gt=null===(xe=this.doc.head)||void 0===xe?void 0:xe.querySelectorAll(`style[${Be}="${this.appId}"]`);if(null!=gt&&gt.length){const Nt=new Map;return gt.forEach(fn=>{null!=fn.textContent&&Nt.set(fn.textContent,fn)}),Nt}return null}changeUsageCount(xe,gt){const Nt=this.styleRef;if(Nt.has(xe)){const fn=Nt.get(xe);return fn.usage+=gt,fn.usage}return Nt.set(xe,{usage:gt,elements:[]}),gt}getStyleElement(xe,gt){const Nt=this.styleNodesInDOM,fn=null==Nt?void 0:Nt.get(gt);if((null==fn?void 0:fn.parentNode)===xe)return Nt.delete(gt),fn.removeAttribute(Be),fn;{const An=this.doc.createElement("style");return this.nonce&&An.setAttribute("nonce",this.nonce),An.textContent=gt,this.platformIsServer&&An.setAttribute(Be,this.appId),An}}addStyleToHost(xe,gt){var Nt;const fn=this.getStyleElement(xe,gt);xe.appendChild(fn);const An=this.styleRef,Un=null===(Nt=An.get(gt))||void 0===Nt?void 0:Nt.elements;Un?Un.push(fn):An.set(gt,{elements:[fn],usage:1})}resetHostNodes(){const xe=this.hostNodes;xe.clear(),xe.add(this.doc.head)}}return _t.\u0275fac=function(xe){return new(xe||_t)(v.LFG(y.K0),v.LFG(v.AFp),v.LFG(v.Ojb,8),v.LFG(v.Lbi))},_t.\u0275prov=v.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ke=/%COMP%/g,Ce=new v.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Te(_t,Ve){return Ve.map(xe=>xe.replace(ke,_t))}let q=(()=>{class _t{constructor(xe,gt,Nt,fn,An,Un,pr,Vr=null){this.eventManager=xe,this.sharedStylesHost=gt,this.appId=Nt,this.removeStylesOnCompDestory=fn,this.doc=An,this.platformId=Un,this.ngZone=pr,this.nonce=Vr,this.rendererByCompId=new Map,this.platformIsServer=(0,y.PM)(Un),this.defaultRenderer=new He(xe,An,pr,this.platformIsServer)}createRenderer(xe,gt){if(!xe||!gt)return this.defaultRenderer;this.platformIsServer&&gt.encapsulation===v.ifc.ShadowDom&&(gt={...gt,encapsulation:v.ifc.Emulated});const Nt=this.getOrCreateRenderer(xe,gt);return Nt instanceof dt?Nt.applyToHost(xe):Nt instanceof Qt&&Nt.applyStyles(),Nt}getOrCreateRenderer(xe,gt){const Nt=this.rendererByCompId;let fn=Nt.get(gt.id);if(!fn){const An=this.doc,Un=this.ngZone,pr=this.eventManager,Vr=this.sharedStylesHost,qn=this.removeStylesOnCompDestory,Ui=this.platformIsServer;switch(gt.encapsulation){case v.ifc.Emulated:fn=new dt(pr,Vr,gt,this.appId,qn,An,Un,Ui);break;case v.ifc.ShadowDom:return new Ge(pr,Vr,xe,gt,An,Un,this.nonce,Ui);default:fn=new Qt(pr,Vr,gt,qn,An,Un,Ui)}fn.onDestroy=()=>Nt.delete(gt.id),Nt.set(gt.id,fn)}return fn}ngOnDestroy(){this.rendererByCompId.clear()}}return _t.\u0275fac=function(xe){return new(xe||_t)(v.LFG(Ne),v.LFG(Ye),v.LFG(v.AFp),v.LFG(Ce),v.LFG(y.K0),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(v.Ojb))},_t.\u0275prov=v.Yz7({token:_t,factory:_t.\u0275fac}),_t})();class He{constructor(Ve,xe,gt,Nt){this.eventManager=Ve,this.doc=xe,this.ngZone=gt,this.platformIsServer=Nt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ve,xe){return xe?this.doc.createElementNS(mt[xe]||xe,Ve):this.doc.createElement(Ve)}createComment(Ve){return this.doc.createComment(Ve)}createText(Ve){return this.doc.createTextNode(Ve)}appendChild(Ve,xe){(ht(Ve)?Ve.content:Ve).appendChild(xe)}insertBefore(Ve,xe,gt){Ve&&(ht(Ve)?Ve.content:Ve).insertBefore(xe,gt)}removeChild(Ve,xe){Ve&&Ve.removeChild(xe)}selectRootElement(Ve,xe){let gt="string"==typeof Ve?this.doc.querySelector(Ve):Ve;if(!gt)throw new v.vHH(5104,!1);return xe||(gt.textContent=""),gt}parentNode(Ve){return Ve.parentNode}nextSibling(Ve){return Ve.nextSibling}setAttribute(Ve,xe,gt,Nt){if(Nt){xe=Nt+":"+xe;const fn=mt[Nt];fn?Ve.setAttributeNS(fn,xe,gt):Ve.setAttribute(xe,gt)}else Ve.setAttribute(xe,gt)}removeAttribute(Ve,xe,gt){if(gt){const Nt=mt[gt];Nt?Ve.removeAttributeNS(Nt,xe):Ve.removeAttribute(`${gt}:${xe}`)}else Ve.removeAttribute(xe)}addClass(Ve,xe){Ve.classList.add(xe)}removeClass(Ve,xe){Ve.classList.remove(xe)}setStyle(Ve,xe,gt,Nt){Nt&(v.JOm.DashCase|v.JOm.Important)?Ve.style.setProperty(xe,gt,Nt&v.JOm.Important?"important":""):Ve.style[xe]=gt}removeStyle(Ve,xe,gt){gt&v.JOm.DashCase?Ve.style.removeProperty(xe):Ve.style[xe]=""}setProperty(Ve,xe,gt){Ve[xe]=gt}setValue(Ve,xe){Ve.nodeValue=xe}listen(Ve,xe,gt){if("string"==typeof Ve&&!(Ve=(0,y.q)().getGlobalEventTarget(this.doc,Ve)))throw new Error(`Unsupported event target ${Ve} for event ${xe}`);return this.eventManager.addEventListener(Ve,xe,this.decoratePreventDefault(gt))}decoratePreventDefault(Ve){return xe=>{if("__ngUnwrap__"===xe)return Ve;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ve(xe)):Ve(xe))&&xe.preventDefault()}}}function ht(_t){return"TEMPLATE"===_t.tagName&&void 0!==_t.content}class Ge extends He{constructor(Ve,xe,gt,Nt,fn,An,Un,pr){super(Ve,fn,An,pr),this.sharedStylesHost=xe,this.hostEl=gt,this.shadowRoot=gt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Vr=Te(Nt.id,Nt.styles);for(const qn of Vr){const Ui=document.createElement("style");Un&&Ui.setAttribute("nonce",Un),Ui.textContent=qn,this.shadowRoot.appendChild(Ui)}}nodeOrShadowRoot(Ve){return Ve===this.hostEl?this.shadowRoot:Ve}appendChild(Ve,xe){return super.appendChild(this.nodeOrShadowRoot(Ve),xe)}insertBefore(Ve,xe,gt){return super.insertBefore(this.nodeOrShadowRoot(Ve),xe,gt)}removeChild(Ve,xe){return super.removeChild(this.nodeOrShadowRoot(Ve),xe)}parentNode(Ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qt extends He{constructor(Ve,xe,gt,Nt,fn,An,Un,pr){super(Ve,fn,An,Un),this.sharedStylesHost=xe,this.removeStylesOnCompDestory=Nt,this.rendererUsageCount=0,this.styles=pr?Te(pr,gt.styles):gt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var Ve;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(Ve=this.onDestroy)||void 0===Ve||Ve.call(this))}}class dt extends Qt{constructor(Ve,xe,gt,Nt,fn,An,Un,pr){const Vr=Nt+"-"+gt.id;super(Ve,xe,gt,fn,An,Un,pr,Vr),this.contentAttr=function Ke(_t){return"_ngcontent-%COMP%".replace(ke,_t)}(Vr),this.hostAttr=function Ue(_t){return"_nghost-%COMP%".replace(ke,_t)}(Vr)}applyToHost(Ve){this.applyStyles(),this.setAttribute(Ve,this.hostAttr,"")}createElement(Ve,xe){const gt=super.createElement(Ve,xe);return super.setAttribute(gt,this.contentAttr,""),gt}}let tt=(()=>{class _t extends Pe{constructor(xe){super(xe)}supports(xe){return!0}addEventListener(xe,gt,Nt){return xe.addEventListener(gt,Nt,!1),()=>this.removeEventListener(xe,gt,Nt)}removeEventListener(xe,gt,Nt){return xe.removeEventListener(gt,Nt)}}return _t.\u0275fac=function(xe){return new(xe||_t)(v.LFG(y.K0))},_t.\u0275prov=v.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const Me=["alt","control","meta","shift"],Ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Le={alt:_t=>_t.altKey,control:_t=>_t.ctrlKey,meta:_t=>_t.metaKey,shift:_t=>_t.shiftKey};let qe=(()=>{class _t extends Pe{constructor(xe){super(xe)}supports(xe){return null!=_t.parseEventName(xe)}addEventListener(xe,gt,Nt){const fn=_t.parseEventName(gt),An=_t.eventCallback(fn.fullKey,Nt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(xe,fn.domEventName,An))}static parseEventName(xe){const gt=xe.toLowerCase().split("."),Nt=gt.shift();if(0===gt.length||"keydown"!==Nt&&"keyup"!==Nt)return null;const fn=_t._normalizeKey(gt.pop());let An="",Un=gt.indexOf("code");if(Un>-1&&(gt.splice(Un,1),An="code."),Me.forEach(Vr=>{const qn=gt.indexOf(Vr);qn>-1&&(gt.splice(qn,1),An+=Vr+".")}),An+=fn,0!=gt.length||0===fn.length)return null;const pr={};return pr.domEventName=Nt,pr.fullKey=An,pr}static matchEventFullKeyCode(xe,gt){let Nt=Ae[xe.key]||xe.key,fn="";return gt.indexOf("code.")>-1&&(Nt=xe.code,fn="code."),!(null==Nt||!Nt)&&(Nt=Nt.toLowerCase()," "===Nt?Nt="space":"."===Nt&&(Nt="dot"),Me.forEach(An=>{An!==Nt&&(0,Le[An])(xe)&&(fn+=An+".")}),fn+=Nt,fn===gt)}static eventCallback(xe,gt,Nt){return fn=>{_t.matchEventFullKeyCode(fn,xe)&&Nt.runGuarded(()=>gt(fn))}}static _normalizeKey(xe){return"esc"===xe?"escape":xe}}return _t.\u0275fac=function(xe){return new(xe||_t)(v.LFG(y.K0))},_t.\u0275prov=v.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const It=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:y.bD},{provide:v.g9A,useValue:function nn(){de.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function Pt(){return(0,v.RDi)(document),document},deps:[]}]),Ut=new v.OlP(""),kt=[{provide:v.rWj,useClass:class $e{addToWindow(Ve){v.dqk.getAngularTestability=(gt,Nt=!0)=>{const fn=Ve.findTestabilityInTree(gt,Nt);if(null==fn)throw new v.vHH(5103,!1);return fn},v.dqk.getAllAngularTestabilities=()=>Ve.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>Ve.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(gt=>{const Nt=v.dqk.getAllAngularTestabilities();let fn=Nt.length,An=!1;const Un=function(pr){An=An||pr,fn--,0==fn&&gt(An)};Nt.forEach(function(pr){pr.whenStable(Un)})})}findTestabilityInTree(Ve,xe,gt){if(null==xe)return null;const Nt=Ve.getTestability(xe);return null!=Nt?Nt:gt?(0,y.q)().isShadowRoot(xe)?this.findTestabilityInTree(Ve,xe.host,!0):this.findTestabilityInTree(Ve,xe.parentElement,!0):null}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],Zt=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function Mt(){return new v.qLn},deps:[]},{provide:ue,useClass:tt,multi:!0,deps:[y.K0,v.R0b,v.Lbi]},{provide:ue,useClass:qe,multi:!0,deps:[y.K0]},q,Ye,Ne,{provide:v.FYo,useExisting:q},{provide:y.JF,useClass:Se,deps:[]},[]];let Mn=(()=>{class _t{constructor(xe){}static withServerTransition(xe){return{ngModule:_t,providers:[{provide:v.AFp,useValue:xe.appId}]}}}return _t.\u0275fac=function(xe){return new(xe||_t)(v.LFG(Ut,12))},_t.\u0275mod=v.oAB({type:_t}),_t.\u0275inj=v.cJS({providers:[...Zt,...kt],imports:[y.ez,v.hGG]}),_t})(),Qn=(()=>{class _t{constructor(xe){this._doc=xe}getTitle(){return this._doc.title}setTitle(xe){this._doc.title=xe||""}}return _t.\u0275fac=function(xe){return new(xe||_t)(v.LFG(y.K0))},_t.\u0275prov=v.Yz7({token:_t,factory:function(xe){let gt=null;return gt=xe?new xe:function On(){return new Qn((0,v.LFG)(y.K0))}(),gt},providedIn:"root"}),_t})();typeof window<"u"&&window},7957:(cn,ut,F)=>{"use strict";F.d(ut,{gz:()=>Xr,y6:()=>ei,OD:()=>Ee,eC:()=>kt,wm:()=>hr,wN:()=>rr,F0:()=>Zs,rH:()=>gi,Bz:()=>wu,Hx:()=>st});var v=F(2223),y=F(9751),te=F(576),Ie=F(8996),ve=F(9646),ge=F(1135),Oe=F(4742),$e=F(4671),Se=F(3268),ue=F(3269),Ne=F(1810),Pe=F(5403),Be=F(9672);function Ye(...S){const O=(0,ue.yG)(S),b=(0,ue.jO)(S),{args:R,keys:z}=(0,Oe.D)(S);if(0===R.length)return(0,Ie.D)([],O);const oe=new y.y(function mt(S,O,b=$e.y){return R=>{ke(O,()=>{const{length:z}=S,oe=new Array(z);let ce=z,Je=z;for(let Kt=0;Kt<z;Kt++)ke(O,()=>{const Dn=(0,Ie.D)(S[Kt],O);let Ln=!1;Dn.subscribe((0,Pe.x)(R,Vn=>{oe[Kt]=Vn,Ln||(Ln=!0,Je--),Je||R.next(b(oe.slice()))},()=>{--ce||R.complete()}))},R)},R)}}(R,O,z?ce=>(0,Ne.n)(z,ce):$e.y));return b?oe.pipe((0,Se.Z)(b)):oe}function ke(S,O,b){S?(0,Be.f)(b,S,O):O()}var be=F(6805),ye=F(7272),Q=F(9770),rt=F(9635),Ce=F(2843),Ke=F(515),Ue=F(4033),Te=F(7579),q=F(4755),He=F(4004),we=F(3900),yt=F(5698),ht=F(8675),Ge=F(9300),Qt=F(5577),dt=F(590);function tt(S,O){return(0,te.m)(O)?(0,Qt.z)(S,O,1):(0,Qt.z)(S,1)}var Me=F(8505),Ae=F(8421),Le=F(4482);function qe(S){return(0,Le.e)((O,b)=>{let oe,R=null,z=!1;R=O.subscribe((0,Pe.x)(b,void 0,void 0,ce=>{oe=(0,Ae.Xf)(S(ce,qe(S)(O))),R?(R.unsubscribe(),R=null,oe.subscribe(b)):z=!0})),z&&(R.unsubscribe(),R=null,oe.subscribe(b))})}var Et=F(5026),Bt=F(6590);function on(S){return S<=0?()=>Ke.E:(0,Le.e)((O,b)=>{let R=[];O.subscribe((0,Pe.x)(b,z=>{R.push(z),S<R.length&&R.shift()},()=>{for(const z of R)b.next(z);b.complete()},void 0,()=>{R=null}))})}var rn=F(8068),Mt=F(9718);function Pt(S){return(0,Le.e)((O,b)=>{try{O.subscribe(b)}finally{b.add(S)}})}var St=F(8343),It=F(8189),Ut=F(6550);const kt="primary",Zt=Symbol("RouteTitle");class Mn{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const b=this.params[O];return Array.isArray(b)?b[0]:b}return null}getAll(O){if(this.has(O)){const b=this.params[O];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Ct(S){return new Mn(S)}function nr(S,O,b){const R=b.path.split("/");if(R.length>S.length||"full"===b.pathMatch&&(O.hasChildren()||R.length<S.length))return null;const z={};for(let oe=0;oe<R.length;oe++){const ce=R[oe],Je=S[oe];if(ce.startsWith(":"))z[ce.substring(1)]=Je;else if(ce!==Je.path)return null}return{consumed:S.slice(0,R.length),posParams:z}}function On(S,O){const b=S?Object.keys(S):void 0,R=O?Object.keys(O):void 0;if(!b||!R||b.length!=R.length)return!1;let z;for(let oe=0;oe<b.length;oe++)if(z=b[oe],!Qn(S[z],O[z]))return!1;return!0}function Qn(S,O){if(Array.isArray(S)&&Array.isArray(O)){if(S.length!==O.length)return!1;const b=[...S].sort(),R=[...O].sort();return b.every((z,oe)=>R[oe]===z)}return S===O}function Gr(S){return S.length>0?S[S.length-1]:null}function Yn(S){return function de(S){return!!S&&(S instanceof y.y||(0,te.m)(S.lift)&&(0,te.m)(S.subscribe))}(S)?S:(0,v.QGY)(S)?(0,Ie.D)(Promise.resolve(S)):(0,ve.of)(S)}const fr={exact:function Mr(S,O,b){if(!Er(S.segments,O.segments)||!Zr(S.segments,O.segments,b)||S.numberOfChildren!==O.numberOfChildren)return!1;for(const R in O.children)if(!S.children[R]||!Mr(S.children[R],O.children[R],b))return!1;return!0},subset:Jr},Vt={exact:function zr(S,O){return On(S,O)},subset:function Yr(S,O){return Object.keys(O).length<=Object.keys(S).length&&Object.keys(O).every(b=>Qn(S[b],O[b]))},ignored:()=>!0};function $n(S,O,b){return fr[b.paths](S.root,O.root,b.matrixParams)&&Vt[b.queryParams](S.queryParams,O.queryParams)&&!("exact"===b.fragment&&S.fragment!==O.fragment)}function Jr(S,O,b){return Gn(S,O,O.segments,b)}function Gn(S,O,b,R){if(S.segments.length>b.length){const z=S.segments.slice(0,b.length);return!(!Er(z,b)||O.hasChildren()||!Zr(z,b,R))}if(S.segments.length===b.length){if(!Er(S.segments,b)||!Zr(S.segments,b,R))return!1;for(const z in O.children)if(!S.children[z]||!Jr(S.children[z],O.children[z],R))return!1;return!0}{const z=b.slice(0,S.segments.length),oe=b.slice(S.segments.length);return!!(Er(S.segments,z)&&Zr(S.segments,z,R)&&S.children[kt])&&Gn(S.children[kt],O,oe,R)}}function Zr(S,O,b){return O.every((R,z)=>Vt[b](S[z].parameters,R.parameters))}class yr{constructor(O=new vr([],{}),b={},R=null){this.root=O,this.queryParams=b,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return je.serialize(this)}}class vr{constructor(O,b){this.segments=O,this.children=b,this.parent=null,Object.values(b).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qe(this)}}class sr{constructor(O,b){this.path=O,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=Ct(this.parameters)),this._parameterMap}toString(){return Ve(this)}}function Er(S,O){return S.length===O.length&&S.every((b,R)=>b.path===O[R].path)}let st=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:function(){return new et},providedIn:"root"}),S})();class et{parse(O){const b=new hi(O);return new yr(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(O){const b=`/${ze(O.root,!0)}`,R=function gt(S){const O=Object.keys(S).map(b=>{const R=S[b];return Array.isArray(R)?R.map(z=>`${hn(b)}=${hn(z)}`).join("&"):`${hn(b)}=${hn(R)}`}).filter(b=>!!b);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${b}${R}${"string"==typeof O.fragment?`#${function ln(S){return encodeURI(S)}(O.fragment)}`:""}`}}const je=new et;function Qe(S){return S.segments.map(O=>Ve(O)).join("/")}function ze(S,O){if(!S.hasChildren())return Qe(S);if(O){const b=S.children[kt]?ze(S.children[kt],!1):"",R=[];return Object.entries(S.children).forEach(([z,oe])=>{z!==kt&&R.push(`${z}:${ze(oe,!1)}`)}),R.length>0?`${b}(${R.join("//")})`:b}{const b=function Qi(S,O){let b=[];return Object.entries(S.children).forEach(([R,z])=>{R===kt&&(b=b.concat(O(z,R)))}),Object.entries(S.children).forEach(([R,z])=>{R!==kt&&(b=b.concat(O(z,R)))}),b}(S,(R,z)=>z===kt?[ze(S.children[kt],!1)]:[`${z}:${ze(R,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[kt]?`${Qe(S)}/${b[0]}`:`${Qe(S)}/(${b.join("//")})`}}function $t(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hn(S){return $t(S).replace(/%3B/gi,";")}function er(S){return $t(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tn(S){return decodeURIComponent(S)}function _t(S){return Tn(S.replace(/\+/g,"%20"))}function Ve(S){return`${er(S.path)}${function xe(S){return Object.keys(S).map(O=>`;${er(O)}=${er(S[O])}`).join("")}(S.parameters)}`}const Nt=/^[^\/()?;#]+/;function fn(S){const O=S.match(Nt);return O?O[0]:""}const An=/^[^\/()?;=#]+/,pr=/^[^=?&#]+/,qn=/^[^&#]+/;class hi{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vr([],{}):new vr([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(O.length>0||Object.keys(b).length>0)&&(R[kt]=new vr(O,b)),R}parseSegment(){const O=fn(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new v.vHH(4009,!1);return this.capture(O),new sr(Tn(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const b=function Un(S){const O=S.match(An);return O?O[0]:""}(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const z=fn(this.remaining);z&&(R=z,this.capture(R))}O[Tn(b)]=Tn(R)}parseQueryParam(O){const b=function Vr(S){const O=S.match(pr);return O?O[0]:""}(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const ce=function Ui(S){const O=S.match(qn);return O?O[0]:""}(this.remaining);ce&&(R=ce,this.capture(R))}const z=_t(b),oe=_t(R);if(O.hasOwnProperty(z)){let ce=O[z];Array.isArray(ce)||(ce=[ce],O[z]=ce),ce.push(oe)}else O[z]=oe}parseParens(O){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=fn(this.remaining),z=this.remaining[R.length];if("/"!==z&&")"!==z&&";"!==z)throw new v.vHH(4010,!1);let oe;R.indexOf(":")>-1?(oe=R.slice(0,R.indexOf(":")),this.capture(oe),this.capture(":")):O&&(oe=kt);const ce=this.parseChildren();b[oe]=1===Object.keys(ce).length?ce[kt]:new vr([],ce),this.consumeOptional("//")}return b}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new v.vHH(4011,!1)}}function ns(S){return S.segments.length>0?new vr([],{[kt]:S}):S}function fi(S){const O={};for(const R of Object.keys(S.children)){const oe=fi(S.children[R]);if(R===kt&&0===oe.segments.length&&oe.hasChildren())for(const[ce,Je]of Object.entries(oe.children))O[ce]=Je;else(oe.segments.length>0||oe.hasChildren())&&(O[R]=oe)}return function Ei(S){if(1===S.numberOfChildren&&S.children[kt]){const O=S.children[kt];return new vr(S.segments.concat(O.segments),O.children)}return S}(new vr(S.segments,O))}function si(S){return S instanceof yr}function Ir(S){var O;let b;const oe=ns(function R(ce){const Je={};for(const Dn of ce.children){const Ln=R(Dn);Je[Dn.outlet]=Ln}const Kt=new vr(ce.url,Je);return ce===S&&(b=Kt),Kt}(S.root));return null!==(O=b)&&void 0!==O?O:oe}function Pr(S,O,b,R){let z=S;for(;z.parent;)z=z.parent;if(0===O.length)return li(z,z,z,b,R);const oe=function xr(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Nr(!0,0,S);let O=0,b=!1;const R=S.reduce((z,oe,ce)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const Je={};return Object.entries(oe.outlets).forEach(([Kt,Dn])=>{Je[Kt]="string"==typeof Dn?Dn.split("/"):Dn}),[...z,{outlets:Je}]}if(oe.segmentPath)return[...z,oe.segmentPath]}return"string"!=typeof oe?[...z,oe]:0===ce?(oe.split("/").forEach((Je,Kt)=>{0==Kt&&"."===Je||(0==Kt&&""===Je?b=!0:".."===Je?O++:""!=Je&&z.push(Je))}),z):[...z,oe]},[]);return new Nr(b,O,R)}(O);if(oe.toRoot())return li(z,z,new vr([],{}),b,R);const ce=function wi(S,O,b){if(S.isAbsolute)return new Bi(O,!0,0);if(!b)return new Bi(O,!1,NaN);if(null===b.parent)return new Bi(b,!0,0);const R=Pi(S.commands[0])?0:1;return function Ds(S,O,b){let R=S,z=O,oe=b;for(;oe>z;){if(oe-=z,R=R.parent,!R)throw new v.vHH(4005,!1);z=R.segments.length}return new Bi(R,!1,z-oe)}(b,b.segments.length-1+R,S.numberOfDoubleDots)}(oe,z,S),Je=ce.processChildren?Ji(ce.segmentGroup,ce.index,oe.commands):Cs(ce.segmentGroup,ce.index,oe.commands);return li(z,ce.segmentGroup,Je,b,R)}function Pi(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Ai(S){return"object"==typeof S&&null!=S&&S.outlets}function li(S,O,b,R,z){let ce,oe={};R&&Object.entries(R).forEach(([Kt,Dn])=>{oe[Kt]=Array.isArray(Dn)?Dn.map(Ln=>`${Ln}`):`${Dn}`}),ce=S===O?b:Ii(S,O,b);const Je=ns(fi(ce));return new yr(Je,oe,z)}function Ii(S,O,b){const R={};return Object.entries(S.children).forEach(([z,oe])=>{R[z]=oe===O?b:Ii(oe,O,b)}),new vr(S.segments,R)}class Nr{constructor(O,b,R){if(this.isAbsolute=O,this.numberOfDoubleDots=b,this.commands=R,O&&R.length>0&&Pi(R[0]))throw new v.vHH(4003,!1);const z=R.find(Ai);if(z&&z!==Gr(R))throw new v.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bi{constructor(O,b,R){this.segmentGroup=O,this.processChildren=b,this.index=R}}function Cs(S,O,b){if(S||(S=new vr([],{})),0===S.segments.length&&S.hasChildren())return Ji(S,O,b);const R=function rs(S,O,b){let R=0,z=O;const oe={match:!1,pathIndex:0,commandIndex:0};for(;z<S.segments.length;){if(R>=b.length)return oe;const ce=S.segments[z],Je=b[R];if(Ai(Je))break;const Kt=`${Je}`,Dn=R<b.length-1?b[R+1]:null;if(z>0&&void 0===Kt)break;if(Kt&&Dn&&"object"==typeof Dn&&void 0===Dn.outlets){if(!Os(Kt,Dn,ce))return oe;R+=2}else{if(!Os(Kt,{},ce))return oe;R++}z++}return{match:!0,pathIndex:z,commandIndex:R}}(S,O,b),z=b.slice(R.commandIndex);if(R.match&&R.pathIndex<S.segments.length){const oe=new vr(S.segments.slice(0,R.pathIndex),{});return oe.children[kt]=new vr(S.segments.slice(R.pathIndex),S.children),Ji(oe,0,z)}return R.match&&0===z.length?new vr(S.segments,{}):R.match&&!S.hasChildren()?ji(S,O,b):R.match?Ji(S,0,z):ji(S,O,b)}function Ji(S,O,b){if(0===b.length)return new vr(S.segments,{});{const R=function Ni(S){return Ai(S[0])?S[0].outlets:{[kt]:S}}(b),z={};if(!R[kt]&&S.children[kt]&&1===S.numberOfChildren&&0===S.children[kt].segments.length){const oe=Ji(S.children[kt],O,b);return new vr(S.segments,oe.children)}return Object.entries(R).forEach(([oe,ce])=>{"string"==typeof ce&&(ce=[ce]),null!==ce&&(z[oe]=Cs(S.children[oe],O,ce))}),Object.entries(S.children).forEach(([oe,ce])=>{void 0===R[oe]&&(z[oe]=ce)}),new vr(S.segments,z)}}function ji(S,O,b){const R=S.segments.slice(0,O);let z=0;for(;z<b.length;){const oe=b[z];if(Ai(oe)){const Kt=hs(oe.outlets);return new vr(R,Kt)}if(0===z&&Pi(b[0])){R.push(new sr(S.segments[O].path,es(b[0]))),z++;continue}const ce=Ai(oe)?oe.outlets[kt]:`${oe}`,Je=z<b.length-1?b[z+1]:null;ce&&Je&&Pi(Je)?(R.push(new sr(ce,es(Je))),z+=2):(R.push(new sr(ce,{})),z++)}return new vr(R,{})}function hs(S){const O={};return Object.entries(S).forEach(([b,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(O[b]=ji(new vr([],{}),0,R))}),O}function es(S){const O={};return Object.entries(S).forEach(([b,R])=>O[b]=`${R}`),O}function Os(S,O,b){return S==b.path&&On(O,b.parameters)}const Hi="imperative";class se{constructor(O,b){this.id=O,this.url=b}}class Ee extends se{constructor(O,b,R="imperative",z=null){super(O,b),this.type=0,this.navigationTrigger=R,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ze extends se{constructor(O,b,R){super(O,b),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends se{constructor(O,b,R,z){super(O,b),this.reason=R,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nt extends se{constructor(O,b,R,z){super(O,b),this.reason=R,this.code=z,this.type=16}}class We extends se{constructor(O,b,R,z){super(O,b),this.error=R,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tt extends se{constructor(O,b,R,z){super(O,b),this.urlAfterRedirects=R,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wt extends se{constructor(O,b,R,z){super(O,b),this.urlAfterRedirects=R,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jt extends se{constructor(O,b,R,z,oe){super(O,b),this.urlAfterRedirects=R,this.state=z,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ft extends se{constructor(O,b,R,z){super(O,b),this.urlAfterRedirects=R,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class En extends se{constructor(O,b,R,z){super(O,b),this.urlAfterRedirects=R,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gn{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pn{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xe{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class at{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ht{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sn{constructor(O,b,R){this.routerEvent=O,this.position=b,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ei,this.attachRef=null}}let ei=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(b,R){const z=this.getOrCreateContext(b);z.outlet=R,this.contexts.set(b,z)}onChildOutletDestroyed(b){const R=this.getContext(b);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let R=this.getContext(b);return R||(R=new lr,this.contexts.set(b,R)),R}getContext(b){return this.contexts.get(b)||null}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();class Zn{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const b=this.pathFromRoot(O);return b.length>1?b[b.length-2]:null}children(O){const b=vn(O,this._root);return b?b.children.map(R=>R.value):[]}firstChild(O){const b=vn(O,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(O){const b=Wn(O,this._root);return b.length<2?[]:b[b.length-2].children.map(z=>z.value).filter(z=>z!==O)}pathFromRoot(O){return Wn(O,this._root).map(b=>b.value)}}function vn(S,O){if(S===O.value)return O;for(const b of O.children){const R=vn(S,b);if(R)return R}return null}function Wn(S,O){if(S===O.value)return[O];for(const b of O.children){const R=Wn(S,b);if(R.length)return R.unshift(O),R}return[]}class Rr{constructor(O,b){this.value=O,this.children=b}toString(){return`TreeNode(${this.value})`}}function ni(S){const O={};return S&&S.children.forEach(b=>O[b.value.outlet]=b),O}class is extends Zn{constructor(O,b){super(O),this.snapshot=b,Ls(this,O)}toString(){return this.snapshot.toString()}}function bi(S,O){const b=function fs(S,O){const ce=new jn([],{},{},"",{},kt,O,null,{});return new Is("",new Rr(ce,[]))}(0,O),R=new ge.X([new sr("",{})]),z=new ge.X({}),oe=new ge.X({}),ce=new ge.X({}),Je=new ge.X(""),Kt=new Xr(R,z,ce,Je,oe,kt,O,b.root);return Kt.snapshot=b.root,new is(new Rr(Kt,[]),b)}class Xr{constructor(O,b,R,z,oe,ce,Je,Kt){var Dn,Ln;this.urlSubject=O,this.paramsSubject=b,this.queryParamsSubject=R,this.fragmentSubject=z,this.dataSubject=oe,this.outlet=ce,this.component=Je,this._futureSnapshot=Kt,this.title=null!==(Dn=null===(Ln=this.dataSubject)||void 0===Ln?void 0:Ln.pipe((0,He.U)(Vn=>Vn[Zt])))&&void 0!==Dn?Dn:(0,ve.of)(void 0),this.url=O,this.params=b,this.queryParams=R,this.fragment=z,this.data=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(O=>Ct(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(O=>Ct(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fs(S,O="emptyOnly"){const b=S.pathFromRoot;let R=0;if("always"!==O)for(R=b.length-1;R>=1;){const z=b[R],oe=b[R-1];if(z.routeConfig&&""===z.routeConfig.path)R--;else{if(oe.component)break;R--}}return function ss(S){return S.reduce((O,b)=>{var R;return{params:{...O.params,...b.params},data:{...O.data,...b.data},resolve:{...b.data,...O.resolve,...null===(R=b.routeConfig)||void 0===R?void 0:R.data,...b._resolvedData}}},{params:{},data:{},resolve:{}})}(b.slice(R))}class jn{get title(){var O;return null===(O=this.data)||void 0===O?void 0:O[Zt]}constructor(O,b,R,z,oe,ce,Je,Kt,Dn){this.url=O,this.params=b,this.queryParams=R,this.fragment=z,this.data=oe,this.outlet=ce,this.component=Je,this.routeConfig=Kt,this._resolve=Dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Is extends Zn{constructor(O,b){super(b),this.url=O,Ls(this,b)}toString(){return Ys(this._root)}}function Ls(S,O){O.value._routerState=S,O.children.forEach(b=>Ls(S,b))}function Ys(S){const O=S.children.length>0?` { ${S.children.map(Ys).join(", ")} } `:"";return`${S.value}${O}`}function ri(S){if(S.snapshot){const O=S.snapshot,b=S._futureSnapshot;S.snapshot=b,On(O.queryParams,b.queryParams)||S.queryParamsSubject.next(b.queryParams),O.fragment!==b.fragment&&S.fragmentSubject.next(b.fragment),On(O.params,b.params)||S.paramsSubject.next(b.params),function Fn(S,O){if(S.length!==O.length)return!1;for(let b=0;b<S.length;++b)if(!On(S[b],O[b]))return!1;return!0}(O.url,b.url)||S.urlSubject.next(b.url),On(O.data,b.data)||S.dataSubject.next(b.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function fo(S,O){const b=On(S.params,O.params)&&function Si(S,O){return Er(S,O)&&S.every((b,R)=>On(b.parameters,O[R].parameters))}(S.url,O.url);return b&&!(!S.parent!=!O.parent)&&(!S.parent||fo(S.parent,O.parent))}let ps=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.parentContexts=(0,v.f3M)(ei),this.location=(0,v.f3M)(v.s_b),this.changeDetector=(0,v.f3M)(v.sBO),this.environmentInjector=(0,v.f3M)(v.lqb),this.inputBinder=(0,v.f3M)(xi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:R,previousValue:z}=b.name;if(R)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){var b;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(b=this.inputBinder)||void 0===b||b.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){var R;return(null===(R=this.parentContexts.getContext(b))||void 0===R?void 0:R.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);null!=b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,R){var z;this.activated=b,this._activatedRoute=R,this.location.insert(b.hostView),null===(z=this.inputBinder)||void 0===z||z.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,R){var z;if(this.isActivated)throw new v.vHH(4013,!1);this._activatedRoute=b;const oe=this.location,Je=b.snapshot.component,Kt=this.parentContexts.getOrCreateContext(this.name).children,Dn=new Mi(b,Kt,oe.injector);this.activated=oe.createComponent(Je,{index:oe.length,injector:Dn,environmentInjector:null!=R?R:this.environmentInjector}),this.changeDetector.markForCheck(),null===(z=this.inputBinder)||void 0===z||z.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275dir=v.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[v.TTD]}),S})();class Mi{constructor(O,b,R){this.route=O,this.childContexts=b,this.parent=R}get(O,b){return O===Xr?this.route:O===ei?this.childContexts:this.parent.get(O,b)}}const xi=new v.OlP("");let Bs=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){var R;null===(R=this.outletDataSubscriptions.get(b))||void 0===R||R.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:R}=b,z=Ye([R.queryParams,R.params,R.data]).pipe((0,we.w)(([oe,ce,Je],Kt)=>(Je={...oe,...ce,...Je},0===Kt?(0,ve.of)(Je):Promise.resolve(Je)))).subscribe(oe=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(b);const ce=(0,v.qFp)(R.component);if(ce)for(const{templateName:Je}of ce.inputs)b.activatedComponentRef.setInput(Je,oe[Je]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,z)}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac}),S})();function Gi(S,O,b){if(b&&S.shouldReuseRoute(O.value,b.value.snapshot)){const R=b.value;R._futureSnapshot=O.value;const z=function os(S,O,b){return O.children.map(R=>{for(const z of b.children)if(S.shouldReuseRoute(R.value,z.value.snapshot))return Gi(S,R,z);return Gi(S,R)})}(S,O,b);return new Rr(R,z)}{if(S.shouldAttach(O.value)){const oe=S.retrieve(O.value);if(null!==oe){const ce=oe.route;return ce.value._futureSnapshot=O.value,ce.children=O.children.map(Je=>Gi(S,Je)),ce}}const R=function jo(S){return new Xr(new ge.X(S.url),new ge.X(S.params),new ge.X(S.queryParams),new ge.X(S.fragment),new ge.X(S.data),S.outlet,S.component,S)}(O.value),z=O.children.map(oe=>Gi(S,oe));return new Rr(R,z)}}const ur="ngNavigationCancelingError";function pa(S,O){const{redirectTo:b,navigationBehaviorOptions:R}=si(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,z=$s(!1,0,O);return z.url=b,z.navigationBehaviorOptions=R,z}function $s(S,O,b){const R=new Error("NavigationCancelingError: "+(S||""));return R[ur]=!0,R.cancellationCode=O,b&&(R.url=b),R}function Ro(S){return pi(S)&&si(S.url)}function pi(S){return S&&S[ur]}let Ts=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275cmp=v.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(b,R){1&b&&v._UZ(0,"router-outlet")},dependencies:[ps],encapsulation:2}),S})();function mr(S){const O=S.children&&S.children.map(mr),b=O?{...S,children:O}:{...S};return!b.component&&!b.loadComponent&&(O||b.loadChildren)&&b.outlet&&b.outlet!==kt&&(b.component=Ts),b}function Ri(S){return S.outlet||kt}function Oo(S){var O;if(!S)return null;if(null!==(O=S.routeConfig)&&void 0!==O&&O._injector)return S.routeConfig._injector;for(let b=S.parent;b;b=b.parent){const R=b.routeConfig;if(null!=R&&R._loadedInjector)return R._loadedInjector;if(null!=R&&R._injector)return R._injector}return null}class Da{constructor(O,b,R,z,oe){this.routeReuseStrategy=O,this.futureState=b,this.currState=R,this.forwardEvent=z,this.inputBindingEnabled=oe}activate(O){const b=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,R,O),ri(this.futureState.root),this.activateChildRoutes(b,R,O)}deactivateChildRoutes(O,b,R){const z=ni(b);O.children.forEach(oe=>{const ce=oe.value.outlet;this.deactivateRoutes(oe,z[ce],R),delete z[ce]}),Object.values(z).forEach(oe=>{this.deactivateRouteAndItsChildren(oe,R)})}deactivateRoutes(O,b,R){const z=O.value,oe=b?b.value:null;if(z===oe)if(z.component){const ce=R.getContext(z.outlet);ce&&this.deactivateChildRoutes(O,b,ce.children)}else this.deactivateChildRoutes(O,b,R);else oe&&this.deactivateRouteAndItsChildren(b,R)}deactivateRouteAndItsChildren(O,b){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,b):this.deactivateRouteAndOutlet(O,b)}detachAndStoreRouteSubtree(O,b){const R=b.getContext(O.value.outlet),z=R&&O.value.component?R.children:b,oe=ni(O);for(const ce of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[ce],z);if(R&&R.outlet){const ce=R.outlet.detach(),Je=R.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:ce,route:O,contexts:Je})}}deactivateRouteAndOutlet(O,b){const R=b.getContext(O.value.outlet),z=R&&O.value.component?R.children:b,oe=ni(O);for(const ce of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[ce],z);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(O,b,R){const z=ni(b);O.children.forEach(oe=>{this.activateRoutes(oe,z[oe.value.outlet],R),this.forwardEvent(new Ht(oe.value.snapshot))}),O.children.length&&this.forwardEvent(new at(O.value.snapshot))}activateRoutes(O,b,R){const z=O.value,oe=b?b.value:null;if(ri(z),z===oe)if(z.component){const ce=R.getOrCreateContext(z.outlet);this.activateChildRoutes(O,b,ce.children)}else this.activateChildRoutes(O,b,R);else if(z.component){const ce=R.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Je=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),ce.children.onOutletReAttached(Je.contexts),ce.attachRef=Je.componentRef,ce.route=Je.route.value,ce.outlet&&ce.outlet.attach(Je.componentRef,Je.route.value),ri(Je.route.value),this.activateChildRoutes(O,null,ce.children)}else{const Je=Oo(z.snapshot);ce.attachRef=null,ce.route=z,ce.injector=Je,ce.outlet&&ce.outlet.activateWith(z,ce.injector),this.activateChildRoutes(O,null,ce.children)}}else this.activateChildRoutes(O,null,R)}}class C{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class K{constructor(O,b){this.component=O,this.route=b}}function T(S,O,b){const R=S._root;return Gt(R,O?O._root:null,b,[R.value])}function fe(S,O){const b=Symbol(),R=O.get(S,b);return R===b?"function"!=typeof S||(0,v.Z0I)(S)?O.get(S):S:R}function Gt(S,O,b,R,z={canDeactivateChecks:[],canActivateChecks:[]}){const oe=ni(O);return S.children.forEach(ce=>{(function kn(S,O,b,R,z={canDeactivateChecks:[],canActivateChecks:[]}){const oe=S.value,ce=O?O.value:null,Je=b?b.getContext(S.value.outlet):null;if(ce&&oe.routeConfig===ce.routeConfig){const Kt=function Jn(S,O,b){if("function"==typeof b)return b(S,O);switch(b){case"pathParamsChange":return!Er(S.url,O.url);case"pathParamsOrQueryParamsChange":return!Er(S.url,O.url)||!On(S.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fo(S,O)||!On(S.queryParams,O.queryParams);default:return!fo(S,O)}}(ce,oe,oe.routeConfig.runGuardsAndResolvers);Kt?z.canActivateChecks.push(new C(R)):(oe.data=ce.data,oe._resolvedData=ce._resolvedData),Gt(S,O,oe.component?Je?Je.children:null:b,R,z),Kt&&Je&&Je.outlet&&Je.outlet.isActivated&&z.canDeactivateChecks.push(new K(Je.outlet.component,ce))}else ce&&Dr(O,Je,z),z.canActivateChecks.push(new C(R)),Gt(S,null,oe.component?Je?Je.children:null:b,R,z)})(ce,oe[ce.value.outlet],b,R.concat([ce.value]),z),delete oe[ce.value.outlet]}),Object.entries(oe).forEach(([ce,Je])=>Dr(Je,b.getContext(ce),z)),z}function Dr(S,O,b){const R=ni(S),z=S.value;Object.entries(R).forEach(([oe,ce])=>{Dr(ce,z.component?O?O.children.getContext(oe):null:O,b)}),b.canDeactivateChecks.push(new K(z.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,z))}function Lr(S){return"function"==typeof S}function L(S){return S instanceof be.K||"EmptyError"===(null==S?void 0:S.name)}const ie=Symbol("INITIAL_VALUE");function bt(){return(0,we.w)(S=>Ye(S.map(O=>O.pipe((0,yt.q)(1),(0,ht.O)(ie)))).pipe((0,He.U)(O=>{for(const b of O)if(!0!==b){if(b===ie)return ie;if(!1===b||b instanceof yr)return b}return!0}),(0,Ge.h)(O=>O!==ie),(0,yt.q)(1)))}function El(S){return(0,rt.z)((0,Me.b)(O=>{if(si(O))throw pa(0,O)}),(0,He.U)(O=>!0===O))}class ta{constructor(O){this.segmentGroup=O||null}}class na{constructor(O){this.urlTree=O}}function po(S){return(0,Ce._)(new ta(S))}function tl(S){return(0,Ce._)(new na(S))}class Va{constructor(O,b){this.urlSerializer=O,this.urlTree=b}noMatchError(O){return new v.vHH(4002,!1)}lineralizeSegments(O,b){let R=[],z=b.root;for(;;){if(R=R.concat(z.segments),0===z.numberOfChildren)return(0,ve.of)(R);if(z.numberOfChildren>1||!z.children[kt])return(0,Ce._)(new v.vHH(4e3,!1));z=z.children[kt]}}applyRedirectCommands(O,b,R){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),O,R)}applyRedirectCreateUrlTree(O,b,R,z){const oe=this.createSegmentGroup(O,b.root,R,z);return new yr(oe,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(O,b){const R={};return Object.entries(O).forEach(([z,oe])=>{if("string"==typeof oe&&oe.startsWith(":")){const Je=oe.substring(1);R[z]=b[Je]}else R[z]=oe}),R}createSegmentGroup(O,b,R,z){const oe=this.createSegments(O,b.segments,R,z);let ce={};return Object.entries(b.children).forEach(([Je,Kt])=>{ce[Je]=this.createSegmentGroup(O,Kt,R,z)}),new vr(oe,ce)}createSegments(O,b,R,z){return b.map(oe=>oe.path.startsWith(":")?this.findPosParam(O,oe,z):this.findOrReturn(oe,R))}findPosParam(O,b,R){const z=R[b.path.substring(1)];if(!z)throw new v.vHH(4001,!1);return z}findOrReturn(O,b){let R=0;for(const z of b){if(z.path===O.path)return b.splice(R),z;R++}return O}}const go={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function io(S,O,b,R,z){const oe=ya(S,O,b);return oe.matched?(R=function ms(S,O){var b;return S.providers&&!S._injector&&(S._injector=(0,v.MMx)(S.providers,O,`Route: ${S.path}`)),null!==(b=S._injector)&&void 0!==b?b:O}(O,R),function el(S,O,b,R){const z=O.canMatch;if(!z||0===z.length)return(0,ve.of)(!0);const oe=z.map(ce=>{const Je=fe(ce,S);return Yn(function Po(S){return S&&Lr(S.canMatch)}(Je)?Je.canMatch(O,b):S.runInContext(()=>Je(O,b)))});return(0,ve.of)(oe).pipe(bt(),El())}(R,O,b).pipe((0,He.U)(ce=>!0===ce?oe:{...go}))):(0,ve.of)(oe)}function ya(S,O,b){var R,z;if(""===O.path)return"full"===O.pathMatch&&(S.hasChildren()||b.length>0)?{...go}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const ce=(O.matcher||nr)(b,S,O);if(!ce)return{...go};const Je={};Object.entries(null!==(R=ce.posParams)&&void 0!==R?R:{}).forEach(([Dn,Ln])=>{Je[Dn]=Ln.path});const Kt=ce.consumed.length>0?{...Je,...ce.consumed[ce.consumed.length-1].parameters}:Je;return{matched:!0,consumedSegments:ce.consumed,remainingSegments:b.slice(ce.consumed.length),parameters:Kt,positionalParamSegments:null!==(z=ce.posParams)&&void 0!==z?z:{}}}function ru(S,O,b,R){return b.length>0&&function kl(S,O,b){return b.some(R=>Ki(S,O,R)&&Ri(R)!==kt)}(S,b,R)?{segmentGroup:new vr(O,No(R,new vr(b,S.children))),slicedSegments:[]}:0===b.length&&function mo(S,O,b){return b.some(R=>Ki(S,O,R))}(S,b,R)?{segmentGroup:new vr(S.segments,_s(S,0,b,R,S.children)),slicedSegments:b}:{segmentGroup:new vr(S.segments,S.children),slicedSegments:b}}function _s(S,O,b,R,z){const oe={};for(const ce of R)if(Ki(S,b,ce)&&!z[Ri(ce)]){const Je=new vr([],{});oe[Ri(ce)]=Je}return{...z,...oe}}function No(S,O){const b={};b[kt]=O;for(const R of S)if(""===R.path&&Ri(R)!==kt){const z=new vr([],{});b[Ri(R)]=z}return b}function Ki(S,O,b){return(!(S.hasChildren()||O.length>0)||"full"!==b.pathMatch)&&""===b.path}class va{constructor(O,b,R,z,oe,ce,Je){this.injector=O,this.configLoader=b,this.rootComponentType=R,this.config=z,this.urlTree=oe,this.paramsInheritanceStrategy=ce,this.urlSerializer=Je,this.allowRedirects=!0,this.applyRedirects=new Va(this.urlSerializer,this.urlTree)}noMatchError(O){return new v.vHH(4002,!1)}recognize(){const O=ru(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,kt).pipe(qe(b=>{if(b instanceof na)return this.allowRedirects=!1,this.urlTree=b.urlTree,this.match(b.urlTree);throw b instanceof ta?this.noMatchError(b):b}),(0,He.U)(b=>{const R=new jn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,{}),z=new Rr(R,b),oe=new Is("",z),ce=function gr(S,O,b=null,R=null){return Pr(Ir(S),O,b,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return ce.queryParams=this.urlTree.queryParams,oe.url=this.urlSerializer.serialize(ce),this.inheritParamsAndData(oe._root),{state:oe,tree:ce}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,kt).pipe(qe(R=>{throw R instanceof ta?this.noMatchError(R):R}))}inheritParamsAndData(O){const b=O.value,R=Fs(b,this.paramsInheritanceStrategy);b.params=Object.freeze(R.params),b.data=Object.freeze(R.data),O.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(O,b,R,z){return 0===R.segments.length&&R.hasChildren()?this.processChildren(O,b,R):this.processSegment(O,b,R,R.segments,z,!0)}processChildren(O,b,R){const z=[];for(const oe of Object.keys(R.children))"primary"===oe?z.unshift(oe):z.push(oe);return(0,Ie.D)(z).pipe(tt(oe=>{const ce=R.children[oe],Je=function Ho(S,O){const b=S.filter(R=>Ri(R)===O);return b.push(...S.filter(R=>Ri(R)!==O)),b}(b,oe);return this.processSegmentGroup(O,Je,ce,oe)}),(0,Et.R)((oe,ce)=>(oe.push(...ce),oe)),(0,Bt.d)(null),function nn(S,O){const b=arguments.length>=2;return R=>R.pipe(S?(0,Ge.h)((z,oe)=>S(z,oe,R)):$e.y,on(1),b?(0,Bt.d)(O):(0,rn.T)(()=>new be.K))}(),(0,Qt.z)(oe=>{if(null===oe)return po(R);const ce=Ll(oe);return function ra(S){S.sort((O,b)=>O.value.outlet===kt?-1:b.value.outlet===kt?1:O.value.outlet.localeCompare(b.value.outlet))}(ce),(0,ve.of)(ce)}))}processSegment(O,b,R,z,oe,ce){return(0,Ie.D)(b).pipe(tt(Je=>{var Kt;return this.processSegmentAgainstRoute(null!==(Kt=Je._injector)&&void 0!==Kt?Kt:O,b,Je,R,z,oe,ce).pipe(qe(Dn=>{if(Dn instanceof ta)return(0,ve.of)(null);throw Dn}))}),(0,dt.P)(Je=>!!Je),qe(Je=>{if(L(Je))return function Fl(S,O,b){return 0===O.length&&!S.children[b]}(R,z,oe)?(0,ve.of)([]):po(R);throw Je}))}processSegmentAgainstRoute(O,b,R,z,oe,ce,Je){return function Eu(S,O,b,R){return!!(Ri(S)===R||R!==kt&&Ki(O,b,S))&&("**"===S.path||ya(O,S,b).matched)}(R,z,oe,ce)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(O,z,R,oe,ce,Je):Je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,z,b,R,oe,ce):po(z):po(z)}expandSegmentAgainstRouteUsingRedirect(O,b,R,z,oe,ce){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,R,z,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(O,b,R,z,oe,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,b,R,z){const oe=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?tl(oe):this.applyRedirects.lineralizeSegments(R,oe).pipe((0,Qt.z)(ce=>{const Je=new vr(ce,{});return this.processSegment(O,b,Je,ce,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,b,R,z,oe,ce){const{matched:Je,consumedSegments:Kt,remainingSegments:Dn,positionalParamSegments:Ln}=ya(b,z,oe);if(!Je)return po(b);const Vn=this.applyRedirects.applyRedirectCommands(Kt,z.redirectTo,Ln);return z.redirectTo.startsWith("/")?tl(Vn):this.applyRedirects.lineralizeSegments(z,Vn).pipe((0,Qt.z)(tr=>this.processSegment(O,R,b,tr.concat(Dn),ce,!1)))}matchSegmentAgainstRoute(O,b,R,z,oe,ce){let Je;if("**"===R.path){var Kt,Dn;const Ln=z.length>0?Gr(z).parameters:{},Vn=new jn(z,Ln,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,js(R),Ri(R),null!==(Kt=null!==(Dn=R.component)&&void 0!==Dn?Dn:R._loadedComponent)&&void 0!==Kt?Kt:null,R,ko(R));Je=(0,ve.of)({snapshot:Vn,consumedSegments:[],remainingSegments:[]}),b.children={}}else Je=io(b,R,z,O).pipe((0,He.U)(({matched:Ln,consumedSegments:Vn,remainingSegments:tr,parameters:ir})=>{var kr,vo;return Ln?{snapshot:new jn(Vn,ir,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,js(R),Ri(R),null!==(kr=null!==(vo=R.component)&&void 0!==vo?vo:R._loadedComponent)&&void 0!==kr?kr:null,R,ko(R)),consumedSegments:Vn,remainingSegments:tr}:null}));return Je.pipe((0,we.w)(Ln=>{var Vn;return null===Ln?po(b):(O=null!==(Vn=R._injector)&&void 0!==Vn?Vn:O,this.getChildConfig(O,R,z).pipe((0,we.w)(({routes:tr})=>{var ir;const kr=null!==(ir=R._loadedInjector)&&void 0!==ir?ir:O,{snapshot:vo,consumedSegments:As,remainingSegments:Fr}=Ln,{segmentGroup:Tl,slicedSegments:Wo}=ru(b,As,Fr,tr);if(0===Wo.length&&Tl.hasChildren())return this.processChildren(kr,tr,Tl).pipe((0,He.U)(Sl=>null===Sl?null:[new Rr(vo,Sl)]));if(0===tr.length&&0===Wo.length)return(0,ve.of)([new Rr(vo,[])]);const Xs=Ri(R)===oe;return this.processSegment(kr,tr,Tl,Wo,Xs?kt:oe,!0).pipe((0,He.U)(Sl=>[new Rr(vo,Sl)]))})))}))}getChildConfig(O,b,R){return b.children?(0,ve.of)({routes:b.children,injector:O}):b.loadChildren?void 0!==b._loadedRoutes?(0,ve.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function ui(S,O,b,R){const z=O.canLoad;if(void 0===z||0===z.length)return(0,ve.of)(!0);const oe=z.map(ce=>{const Je=fe(ce,S);return Yn(function Do(S){return S&&Lr(S.canLoad)}(Je)?Je.canLoad(O,b):S.runInContext(()=>Je(O,b)))});return(0,ve.of)(oe).pipe(bt(),El())}(O,b,R).pipe((0,Qt.z)(z=>z?this.configLoader.loadChildren(O,b).pipe((0,Me.b)(oe=>{b._loadedRoutes=oe.routes,b._loadedInjector=oe.injector})):function ma(S){return(0,Ce._)($s(!1,3))}())):(0,ve.of)({routes:[],injector:O})}}function To(S){const O=S.value.routeConfig;return O&&""===O.path}function Ll(S){const O=[],b=new Set;for(const R of S){if(!To(R)){O.push(R);continue}const z=O.find(oe=>R.value.routeConfig===oe.value.routeConfig);void 0!==z?(z.children.push(...R.children),b.add(z)):O.push(R)}for(const R of b){const z=Ll(R.children);O.push(new Rr(R.value,z))}return O.filter(R=>!b.has(R))}function js(S){return S.data||{}}function ko(S){return S.resolve||{}}function Z(S){return"string"==typeof S.title||null===S.title}function V(S){return(0,we.w)(O=>{const b=S(O);return b?(0,Ie.D)(b).pipe((0,He.U)(()=>O)):(0,ve.of)(O)})}const ne=new v.OlP("ROUTES");let Re=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,v.f3M)(v.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,ve.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const R=Yn(b.loadComponent()).pipe((0,He.U)(zt),(0,Me.b)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=oe}),Pt(()=>{this.componentLoaders.delete(b)})),z=new Ue.c(R,()=>new Te.x).pipe((0,St.x)());return this.componentLoaders.set(b,z),z}loadChildren(b,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,ve.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const oe=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,He.U)(Je=>{this.onLoadEndListener&&this.onLoadEndListener(R);let Kt,Dn;return Array.isArray(Je)?Dn=Je:(Kt=Je.create(b).injector,Dn=Kt.get(ne,[],v.XFs.Self|v.XFs.Optional).flat()),{routes:Dn.map(mr),injector:Kt}}),Pt(()=>{this.childrenLoaders.delete(R)})),ce=new Ue.c(oe,()=>new Te.x).pipe((0,St.x)());return this.childrenLoaders.set(R,ce),ce}loadModuleFactoryOrRoutes(b){return Yn(b()).pipe((0,He.U)(zt),(0,Qt.z)(R=>R instanceof v.YKP||Array.isArray(R)?(0,ve.of)(R):(0,Ie.D)(this.compiler.compileModuleAsync(R))))}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function zt(S){return function wt(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let xn=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Te.x,this.configLoader=(0,v.f3M)(Re),this.environmentInjector=(0,v.f3M)(v.lqb),this.urlSerializer=(0,v.f3M)(st),this.rootContexts=(0,v.f3M)(ei),this.inputBindingEnabled=null!==(0,v.f3M)(xi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ve.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new Pn(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new gn(z))}complete(){var b;null===(b=this.transitions)||void 0===b||b.complete()}handleNavigationRequest(b){var R;const z=++this.navigationId;null===(R=this.transitions)||void 0===R||R.next({...this.transitions.value,...b,id:z})}setupNavigations(b){return this.transitions=new ge.X({id:0,currentUrlTree:b.currentUrlTree,currentRawUrl:b.currentUrlTree,extractedUrl:b.urlHandlingStrategy.extract(b.currentUrlTree),urlAfterRedirects:b.urlHandlingStrategy.extract(b.currentUrlTree),rawUrl:b.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hi,restoredState:null,currentSnapshot:b.routerState.snapshot,targetSnapshot:null,currentRouterState:b.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ge.h)(R=>0!==R.id),(0,He.U)(R=>({...R,extractedUrl:b.urlHandlingStrategy.extract(R.rawUrl)})),(0,we.w)(R=>{let z=!1,oe=!1;return(0,ve.of)(R).pipe((0,Me.b)(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.rawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,we.w)(ce=>{var Je;const Kt=b.browserUrlTree.toString(),Dn=!b.navigated||ce.extractedUrl.toString()!==Kt||Kt!==b.currentUrlTree.toString(),Ln=null!==(Je=ce.extras.onSameUrlNavigation)&&void 0!==Je?Je:b.onSameUrlNavigation;if(!Dn&&"reload"!==Ln){const Vn="";return this.events.next(new nt(ce.id,b.serializeUrl(R.rawUrl),Vn,0)),b.rawUrlTree=ce.rawUrl,ce.resolve(null),Ke.E}if(b.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return cr(ce.source)&&(b.browserUrlTree=ce.extractedUrl),(0,ve.of)(ce).pipe((0,we.w)(Vn=>{var tr,ir;const kr=null===(tr=this.transitions)||void 0===tr?void 0:tr.getValue();return this.events.next(new Ee(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),Vn.source,Vn.restoredState)),kr!==(null===(ir=this.transitions)||void 0===ir?void 0:ir.getValue())?Ke.E:Promise.resolve(Vn)}),function ts(S,O,b,R,z,oe){return(0,Qt.z)(ce=>function nl(S,O,b,R,z,oe,ce="emptyOnly"){return new va(S,O,b,R,z,ce,oe).recognize()}(S,O,b,R,ce.extractedUrl,z,oe).pipe((0,He.U)(({state:Je,tree:Kt})=>({...ce,targetSnapshot:Je,urlAfterRedirects:Kt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,Me.b)(Vn=>{if(R.targetSnapshot=Vn.targetSnapshot,R.urlAfterRedirects=Vn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Vn.urlAfterRedirects},"eager"===b.urlUpdateStrategy){if(!Vn.extras.skipLocationChange){const ir=b.urlHandlingStrategy.merge(Vn.urlAfterRedirects,Vn.rawUrl);b.setBrowserUrl(ir,Vn)}b.browserUrlTree=Vn.urlAfterRedirects}const tr=new Tt(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects),Vn.targetSnapshot);this.events.next(tr)}));if(Dn&&b.urlHandlingStrategy.shouldProcessUrl(b.rawUrlTree)){const{id:Vn,extractedUrl:tr,source:ir,restoredState:kr,extras:vo}=ce,As=new Ee(Vn,this.urlSerializer.serialize(tr),ir,kr);this.events.next(As);const Fr=bi(0,this.rootComponentType).snapshot;return R={...ce,targetSnapshot:Fr,urlAfterRedirects:tr,extras:{...vo,skipLocationChange:!1,replaceUrl:!1}},(0,ve.of)(R)}{const Vn="";return this.events.next(new nt(ce.id,b.serializeUrl(R.extractedUrl),Vn,1)),b.rawUrlTree=ce.rawUrl,ce.resolve(null),Ke.E}}),(0,Me.b)(ce=>{const Je=new Wt(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Je)}),(0,He.U)(ce=>R={...ce,guards:T(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)}),function wn(S,O){return(0,Qt.z)(b=>{const{targetSnapshot:R,currentSnapshot:z,guards:{canActivateChecks:oe,canDeactivateChecks:ce}}=b;return 0===ce.length&&0===oe.length?(0,ve.of)({...b,guardsResult:!0}):function ti(S,O,b,R){return(0,Ie.D)(S).pipe((0,Qt.z)(z=>function ki(S,O,b,R,z){const oe=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,ve.of)(!0);const ce=oe.map(Je=>{var Kt;const Dn=null!==(Kt=Oo(O))&&void 0!==Kt?Kt:z,Ln=fe(Je,Dn);return Yn(function Qr(S){return S&&Lr(S.canDeactivate)}(Ln)?Ln.canDeactivate(S,O,b,R):Dn.runInContext(()=>Ln(S,O,b,R))).pipe((0,dt.P)())});return(0,ve.of)(ce).pipe(bt())}(z.component,z.route,b,O,R)),(0,dt.P)(z=>!0!==z,!0))}(ce,R,z,S).pipe((0,Qt.z)(Je=>Je&&function zi(S){return"boolean"==typeof S}(Je)?function as(S,O,b,R){return(0,Ie.D)(O).pipe(tt(z=>(0,ye.z)(function Co(S,O){return null!==S&&O&&O(new Xe(S)),(0,ve.of)(!0)}(z.route.parent,R),function ea(S,O){return null!==S&&O&&O(new lt(S)),(0,ve.of)(!0)}(z.route,R),function qs(S,O,b){const R=O[O.length-1],oe=O.slice(0,O.length-1).reverse().map(ce=>function G(S){const O=S.routeConfig?S.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:S,guards:O}:null}(ce)).filter(ce=>null!==ce).map(ce=>(0,Q.P)(()=>{const Je=ce.guards.map(Kt=>{var Dn;const Ln=null!==(Dn=Oo(ce.node))&&void 0!==Dn?Dn:b,Vn=fe(Kt,Ln);return Yn(function ro(S){return S&&Lr(S.canActivateChild)}(Vn)?Vn.canActivateChild(R,S):Ln.runInContext(()=>Vn(R,S))).pipe((0,dt.P)())});return(0,ve.of)(Je).pipe(bt())}));return(0,ve.of)(oe).pipe(bt())}(S,z.path,b),function Wi(S,O,b){const R=O.routeConfig?O.routeConfig.canActivate:null;if(!R||0===R.length)return(0,ve.of)(!0);const z=R.map(oe=>(0,Q.P)(()=>{var ce;const Je=null!==(ce=Oo(O))&&void 0!==ce?ce:b,Kt=fe(oe,Je);return Yn(function Ps(S){return S&&Lr(S.canActivate)}(Kt)?Kt.canActivate(O,S):Je.runInContext(()=>Kt(O,S))).pipe((0,dt.P)())}));return(0,ve.of)(z).pipe(bt())}(S,z.route,b))),(0,dt.P)(z=>!0!==z,!0))}(R,oe,S,O):(0,ve.of)(Je)),(0,He.U)(Je=>({...b,guardsResult:Je})))})}(this.environmentInjector,ce=>this.events.next(ce)),(0,Me.b)(ce=>{if(R.guardsResult=ce.guardsResult,si(ce.guardsResult))throw pa(0,ce.guardsResult);const Je=new jt(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.events.next(Je)}),(0,Ge.h)(ce=>!!ce.guardsResult||(b.restoreHistory(ce),this.cancelNavigationTransition(ce,"",3),!1)),V(ce=>{if(ce.guards.canActivateChecks.length)return(0,ve.of)(ce).pipe((0,Me.b)(Je=>{const Kt=new Ft(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects),Je.targetSnapshot);this.events.next(Kt)}),(0,we.w)(Je=>{let Kt=!1;return(0,ve.of)(Je).pipe(function Cr(S,O){return(0,Qt.z)(b=>{const{targetSnapshot:R,guards:{canActivateChecks:z}}=b;if(!z.length)return(0,ve.of)(b);let oe=0;return(0,Ie.D)(z).pipe(tt(ce=>function iu(S,O,b,R){const z=S.routeConfig,oe=S._resolve;return void 0!==(null==z?void 0:z.title)&&!Z(z)&&(oe[Zt]=z.title),function Il(S,O,b,R){const z=function Yi(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===z.length)return(0,ve.of)({});const oe={};return(0,Ie.D)(z).pipe((0,Qt.z)(ce=>function k(S,O,b,R){var z;const oe=null!==(z=Oo(O))&&void 0!==z?z:R,ce=fe(S,oe);return Yn(ce.resolve?ce.resolve(O,b):oe.runInContext(()=>ce(O,b)))}(S[ce],O,b,R).pipe((0,dt.P)(),(0,Me.b)(Je=>{oe[ce]=Je}))),on(1),(0,Mt.h)(oe),qe(ce=>L(ce)?Ke.E:(0,Ce._)(ce)))}(oe,S,O,R).pipe((0,He.U)(ce=>(S._resolvedData=ce,S.data=Fs(S,b).resolve,z&&Z(z)&&(S.data[Zt]=z.title),null)))}(ce.route,R,S,O)),(0,Me.b)(()=>oe++),on(1),(0,Qt.z)(ce=>oe===z.length?(0,ve.of)(b):Ke.E))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,Me.b)({next:()=>Kt=!0,complete:()=>{Kt||(b.restoreHistory(Je),this.cancelNavigationTransition(Je,"",2))}}))}),(0,Me.b)(Je=>{const Kt=new En(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects),Je.targetSnapshot);this.events.next(Kt)}))}),V(ce=>{const Je=Kt=>{var Dn;const Ln=[];null!==(Dn=Kt.routeConfig)&&void 0!==Dn&&Dn.loadComponent&&!Kt.routeConfig._loadedComponent&&Ln.push(this.configLoader.loadComponent(Kt.routeConfig).pipe((0,Me.b)(Vn=>{Kt.component=Vn}),(0,He.U)(()=>{})));for(const Vn of Kt.children)Ln.push(...Je(Vn));return Ln};return Ye(Je(ce.targetSnapshot.root)).pipe((0,Bt.d)(),(0,yt.q)(1))}),V(()=>this.afterPreactivation()),(0,He.U)(ce=>{const Je=function gs(S,O,b){const R=Gi(S,O._root,b?b._root:void 0);return new is(R,O)}(b.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return R={...ce,targetRouterState:Je}}),(0,Me.b)(ce=>{b.currentUrlTree=ce.urlAfterRedirects,b.rawUrlTree=b.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),b.routerState=ce.targetRouterState,"deferred"===b.urlUpdateStrategy&&(ce.extras.skipLocationChange||b.setBrowserUrl(b.rawUrlTree,ce),b.browserUrlTree=ce.urlAfterRedirects)}),((S,O,b,R)=>(0,He.U)(z=>(new Da(O,z.targetRouterState,z.currentRouterState,b,R).activate(S),z)))(this.rootContexts,b.routeReuseStrategy,ce=>this.events.next(ce),this.inputBindingEnabled),(0,yt.q)(1),(0,Me.b)({next:ce=>{var Je;z=!0,this.lastSuccessfulNavigation=this.currentNavigation,b.navigated=!0,this.events.next(new Ze(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(b.currentUrlTree))),null===(Je=b.titleStrategy)||void 0===Je||Je.updateTitle(ce.targetRouterState.snapshot),ce.resolve(!0)},complete:()=>{z=!0}}),Pt(()=>{var ce;z||oe||this.cancelNavigationTransition(R,"",1),(null===(ce=this.currentNavigation)||void 0===ce?void 0:ce.id)===R.id&&(this.currentNavigation=null)}),qe(ce=>{if(oe=!0,pi(ce)){Ro(ce)||(b.navigated=!0,b.restoreHistory(R,!0));const Kt=new pe(R.id,this.urlSerializer.serialize(R.extractedUrl),ce.message,ce.cancellationCode);if(this.events.next(Kt),Ro(ce)){const Dn=b.urlHandlingStrategy.merge(ce.url,b.rawUrlTree),Ln={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===b.urlUpdateStrategy||cr(R.source)};b.scheduleNavigation(Dn,Hi,null,Ln,{resolve:R.resolve,reject:R.reject,promise:R.promise})}else R.resolve(!1)}else{var Je;b.restoreHistory(R,!0);const Kt=new We(R.id,this.urlSerializer.serialize(R.extractedUrl),ce,null!==(Je=R.targetSnapshot)&&void 0!==Je?Je:void 0);this.events.next(Kt);try{R.resolve(b.errorHandler(ce))}catch(Dn){R.reject(Dn)}}return Ke.E}))}))}cancelNavigationTransition(b,R,z){const oe=new pe(b.id,this.urlSerializer.serialize(b.extractedUrl),R,z);this.events.next(oe),b.resolve(!1)}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function cr(S){return S!==Hi}let Br=(()=>{class S{buildTitle(b){let R,z=b.root;for(;void 0!==z;){var oe;R=null!==(oe=this.getResolvedTitleForRoute(z))&&void 0!==oe?oe:R,z=z.children.find(ce=>ce.outlet===kt)}return R}getResolvedTitleForRoute(b){return b.data[Zt]}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:function(){return(0,v.f3M)(Wr)},providedIn:"root"}),S})(),Wr=(()=>{class S extends Br{constructor(b){super(),this.title=b}updateTitle(b){const R=this.buildTitle(b);void 0!==R&&this.title.setTitle(R)}}return S.\u0275fac=function(b){return new(b||S)(v.LFG(Ut.Dx))},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),rr=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:function(){return(0,v.f3M)(Di)},providedIn:"root"}),S})();class Oi{shouldDetach(O){return!1}store(O,b){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,b){return O.routeConfig===b.routeConfig}}let Di=(()=>{class S extends Oi{}return S.\u0275fac=function(){let O;return function(R){return(O||(O=v.n5z(S)))(R||S)}}(),S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Rn=new v.OlP("",{providedIn:"root",factory:()=>({})});let So=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:function(){return(0,v.f3M)(ai)},providedIn:"root"}),S})(),ai=(()=>{class S{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,R){return b}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();var ls=(()=>((ls=ls||{})[ls.COMPLETE=0]="COMPLETE",ls[ls.FAILED=1]="FAILED",ls[ls.REDIRECTING=2]="REDIRECTING",ls))();function Ss(S,O){S.events.pipe((0,Ge.h)(b=>b instanceof Ze||b instanceof pe||b instanceof We||b instanceof nt),(0,He.U)(b=>b instanceof Ze||b instanceof nt?ls.COMPLETE:b instanceof pe&&(0===b.code||1===b.code)?ls.REDIRECTING:ls.FAILED),(0,Ge.h)(b=>b!==ls.REDIRECTING),(0,yt.q)(1)).subscribe(()=>{O()})}function Ci(S){throw S}function Hs(S,O,b){return O.parse("/")}const Es={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zs=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var b;if("computed"===this.canceledNavigationResolution)return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var b,R;this.disposed=!1,this.currentPageId=0,this.console=(0,v.f3M)(v.c2e),this.isNgZoneEnabled=!1,this.options=(0,v.f3M)(Rn,{optional:!0})||{},this.pendingTasks=(0,v.f3M)(v.HDt),this.errorHandler=this.options.errorHandler||Ci,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Hs,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,v.f3M)(So),this.routeReuseStrategy=(0,v.f3M)(rr),this.titleStrategy=(0,v.f3M)(Br),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(b=null===(R=(0,v.f3M)(ne,{optional:!0}))||void 0===R?void 0:R.flat())&&void 0!==b?b:[],this.navigationTransitions=(0,v.f3M)(xn),this.urlSerializer=(0,v.f3M)(st),this.location=(0,v.f3M)(q.Ye),this.componentInputBindingEnabled=!!(0,v.f3M)(xi,{optional:!0}),this.isNgZoneEnabled=(0,v.f3M)(v.R0b)instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(z=>{var oe;this.lastSuccessfulId=z.id,this.currentPageId=null!==(oe=this.browserPageId)&&void 0!==oe?oe:0},z=>{this.console.warn(`Unhandled Navigation Error: ${z}`)})}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hi,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const R="popstate"===b.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,R,b.state)},0)}))}navigateToSyncWithBrowser(b,R,z){const oe={replaceUrl:!0},ce=null!=z&&z.navigationId?z:null;if(z){const Kt={...z};delete Kt.navigationId,delete Kt.\u0275routerPageId,0!==Object.keys(Kt).length&&(oe.state=Kt)}const Je=this.parseUrl(b);this.scheduleNavigation(Je,R,ce,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(mr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,R={}){const{relativeTo:z,queryParams:oe,fragment:ce,queryParamsHandling:Je,preserveFragment:Kt}=R,Dn=Kt?this.currentUrlTree.fragment:ce;let Vn,Ln=null;switch(Je){case"merge":Ln={...this.currentUrlTree.queryParams,...oe};break;case"preserve":Ln=this.currentUrlTree.queryParams;break;default:Ln=oe||null}null!==Ln&&(Ln=this.removeEmptyProps(Ln));try{Vn=Ir(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),Vn=this.currentUrlTree.root}return Pr(Vn,b,Ln,null!=Dn?Dn:null)}navigateByUrl(b,R={skipLocationChange:!1}){const z=si(b)?b:this.parseUrl(b),oe=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(oe,Hi,null,R)}navigate(b,R={skipLocationChange:!1}){return function pn(S){for(let O=0;O<S.length;O++)if(null==S[O])throw new v.vHH(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,R),R)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let R;try{R=this.urlSerializer.parse(b)}catch(z){R=this.malformedUriErrorHandler(z,this.urlSerializer,b)}return R}isActive(b,R){let z;if(z=!0===R?{...Es}:!1===R?{...Iu}:R,si(b))return $n(this.currentUrlTree,b,z);const oe=this.parseUrl(b);return $n(this.currentUrlTree,oe,z)}removeEmptyProps(b){return Object.keys(b).reduce((R,z)=>{const oe=b[z];return null!=oe&&(R[z]=oe),R},{})}scheduleNavigation(b,R,z,oe,ce){if(this.disposed)return Promise.resolve(!1);let Je,Kt,Dn;ce?(Je=ce.resolve,Kt=ce.reject,Dn=ce.promise):Dn=new Promise((Vn,tr)=>{Je=Vn,Kt=tr});const Ln=this.pendingTasks.add();return Ss(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Ln))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:oe,resolve:Je,reject:Kt,promise:Dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dn.catch(Vn=>Promise.reject(Vn))}setBrowserUrl(b,R){const z=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(z)||R.extras.replaceUrl){const Je={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(z,"",Je)}else{var oe;const ce={...R.extras.state,...this.generateNgRouterState(R.id,(null!==(oe=this.browserPageId)&&void 0!==oe?oe:0)+1)};this.location.go(z,"",ce)}}restoreHistory(b,R=!1){if("computed"===this.canceledNavigationResolution){var z,oe;const ce=null!==(z=this.browserPageId)&&void 0!==z?z:this.currentPageId,Je=this.currentPageId-ce;0!==Je?this.location.historyGo(Je):this.currentUrlTree===(null===(oe=this.getCurrentNavigation())||void 0===oe?void 0:oe.finalUrl)&&0===Je&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,R){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:R}:{navigationId:b}}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),gi=(()=>{class S{constructor(b,R,z,oe,ce,Je){var Kt;this.router=b,this.route=R,this.tabIndexAttribute=z,this.renderer=oe,this.el=ce,this.locationStrategy=Je,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Te.x;const Dn=null===(Kt=ce.nativeElement.tagName)||void 0===Kt?void 0:Kt.toLowerCase();this.isAnchorElement="a"===Dn||"area"===Dn,this.isAnchorElement?this.subscription=b.events.subscribe(Ln=>{Ln instanceof Ze&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(b){this._preserveFragment=(0,v.D6c)(b)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(b){this._skipLocationChange=(0,v.D6c)(b)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(b){this._replaceUrl=(0,v.D6c)(b)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,R,z,oe,ce){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||R||z||oe||ce||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var b;null===(b=this.subscription)||void 0===b||b.unsubscribe()}updateHref(){var b;this.href=null!==this.urlTree&&this.locationStrategy?null===(b=this.locationStrategy)||void 0===b?void 0:b.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const R=null===this.href?null:(0,v.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",R)}applyAttributeValue(b,R){const z=this.renderer,oe=this.el.nativeElement;null!==R?z.setAttribute(oe,b,R):z.removeAttribute(oe,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(b){return new(b||S)(v.Y36(Zs),v.Y36(Xr),v.$8M("tabindex"),v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(q.S$))},S.\u0275dir=v.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,R){1&b&&v.NdJ("click",function(oe){return R.onClick(oe.button,oe.ctrlKey,oe.shiftKey,oe.altKey,oe.metaKey)}),2&b&&v.uIk("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[v.TTD]}),S})();class dn{}let hr=(()=>{class S{preload(b,R){return R().pipe(qe(()=>(0,ve.of)(null)))}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),mn=(()=>{class S{constructor(b,R,z,oe,ce){this.router=b,this.injector=z,this.preloadingStrategy=oe,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ge.h)(b=>b instanceof Ze),tt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,R){const z=[];for(const Kt of R){var oe,ce;Kt.providers&&!Kt._injector&&(Kt._injector=(0,v.MMx)(Kt.providers,b,`Route: ${Kt.path}`));const Dn=null!==(oe=Kt._injector)&&void 0!==oe?oe:b,Ln=null!==(ce=Kt._loadedInjector)&&void 0!==ce?ce:Dn;var Je;(Kt.loadChildren&&!Kt._loadedRoutes&&void 0===Kt.canLoad||Kt.loadComponent&&!Kt._loadedComponent)&&z.push(this.preloadConfig(Dn,Kt)),(Kt.children||Kt._loadedRoutes)&&z.push(this.processRoutes(Ln,null!==(Je=Kt.children)&&void 0!==Je?Je:Kt._loadedRoutes))}return(0,Ie.D)(z).pipe((0,It.J)())}preloadConfig(b,R){return this.preloadingStrategy.preload(R,()=>{let z;z=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(b,R):(0,ve.of)(null);const oe=z.pipe((0,Qt.z)(ce=>{var Je;return null===ce?(0,ve.of)(void 0):(R._loadedRoutes=ce.routes,R._loadedInjector=ce.injector,this.processRoutes(null!==(Je=ce.injector)&&void 0!==Je?Je:b,ce.routes))}));if(R.loadComponent&&!R._loadedComponent){const ce=this.loader.loadComponent(R);return(0,Ie.D)([oe,ce]).pipe((0,It.J)())}return oe})}}return S.\u0275fac=function(b){return new(b||S)(v.LFG(Zs),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(dn),v.LFG(Re))},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Ot=new v.OlP("");let tn=(()=>{class S{constructor(b,R,z,oe,ce={}){this.urlSerializer=b,this.transitions=R,this.viewportScroller=z,this.zone=oe,this.options=ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ce.scrollPositionRestoration=ce.scrollPositionRestoration||"disabled",ce.anchorScrolling=ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Ee?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Ze?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof nt&&0===b.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof sn&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sn(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){var b,R;null===(b=this.routerEventsSubscription)||void 0===b||b.unsubscribe(),null===(R=this.scrollEventsSubscription)||void 0===R||R.unsubscribe()}}return S.\u0275fac=function(b){v.$Z()},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac}),S})();function Fo(S,O){return{\u0275kind:S,\u0275providers:O}}function ia(){const S=(0,v.f3M)(v.zs3);return O=>{var b,R;const z=S.get(v.z2F);if(O!==z.components[0])return;const oe=S.get(Zs),ce=S.get(Go);1===S.get(sa)&&oe.initialNavigation(),null===(b=S.get(yo,null,v.XFs.Optional))||void 0===b||b.setUpPreloading(),null===(R=S.get(Ot,null,v.XFs.Optional))||void 0===R||R.init(),oe.resetRootComponentType(z.componentTypes[0]),ce.closed||(ce.next(),ce.complete(),ce.unsubscribe())}}const Go=new v.OlP("",{factory:()=>new Te.x}),sa=new v.OlP("",{providedIn:"root",factory:()=>1}),yo=new v.OlP("");function zo(S){return Fo(0,[{provide:yo,useExisting:mn},{provide:dn,useExisting:S}])}const us=new v.OlP("ROUTER_FORROOT_GUARD"),bn=[q.Ye,{provide:st,useClass:et},Zs,ei,{provide:Xr,useFactory:function ja(S){return S.routerState.root},deps:[Zs]},Re,[]];function rl(){return new v.PXZ("Router",Zs)}let wu=(()=>{class S{constructor(b){}static forRoot(b,R){return{ngModule:S,providers:[bn,[],{provide:ne,multi:!0,useValue:b},{provide:us,useFactory:Ju,deps:[[Zs,new v.FiY,new v.tp0]]},{provide:Rn,useValue:R||{}},null!=R&&R.useHash?{provide:q.S$,useClass:q.Do}:{provide:q.S$,useClass:q.b0},{provide:Ot,useFactory:()=>{const S=(0,v.f3M)(q.EM),O=(0,v.f3M)(v.R0b),b=(0,v.f3M)(Rn),R=(0,v.f3M)(xn),z=(0,v.f3M)(st);return b.scrollOffset&&S.setOffset(b.scrollOffset),new tn(z,R,S,O,b)}},null!=R&&R.preloadingStrategy?zo(R.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:rl},null!=R&&R.initialNavigation?ec(R):[],null!=R&&R.bindToComponentInputs?Fo(8,[Bs,{provide:xi,useExisting:Bs}]).\u0275providers:[],[{provide:yi,useFactory:ia},{provide:v.tb,multi:!0,useExisting:yi}]]}}static forChild(b){return{ngModule:S,providers:[{provide:ne,multi:!0,useValue:b}]}}}return S.\u0275fac=function(b){return new(b||S)(v.LFG(us,8))},S.\u0275mod=v.oAB({type:S}),S.\u0275inj=v.cJS({}),S})();function Ju(S){return"guarded"}function ec(S){return["disabled"===S.initialNavigation?Fo(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const O=(0,v.f3M)(Zs);return()=>{O.setUpLocationChangeListener()}}},{provide:sa,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Fo(2,[{provide:sa,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:O=>{const b=O.get(q.V_,Promise.resolve());return()=>b.then(()=>new Promise(R=>{const z=O.get(Zs),oe=O.get(Go);Ss(z,()=>{R(!0)}),O.get(xn).afterPreactivation=()=>(R(!0),oe.closed?(0,ve.of)(void 0):oe),z.initialNavigation()}))}}]).\u0275providers:[]]}const yi=new v.OlP("")},3942:(cn,ut,F)=>{"use strict";F.d(ut,{Z:()=>Ye});var v=F(2090),y=F(4859),te=F(9681),de=F(1877);class Ie{constructor(ke,be){this._delegate=ke,this.firebase=be,(0,te._addComponent)(ke,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this._delegate.automaticDataCollectionEnabled=ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ke=>{this._delegate.checkDestroyed(),ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(ke,be=te._DEFAULT_ENTRY_NAME){var ye;this._delegate.checkDestroyed();const Q=this._delegate.container.getProvider(ke);return!Q.isInitialized()&&"EXPLICIT"===(null===(ye=Q.getComponent())||void 0===ye?void 0:ye.instantiationMode)&&Q.initialize(),Q.getImmediate({identifier:be})}_removeServiceInstance(ke,be=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ke).clearInstance(be)}_addComponent(ke){(0,te._addComponent)(this._delegate,ke)}_addOrOverwriteComponent(ke){(0,te._addOrOverwriteComponent)(this._delegate,ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Se=function $e(){const mt=function Oe(mt){const ke={},be={__esModule:!0,initializeApp:function rt(Te,q={}){const He=te.initializeApp(Te,q);if((0,v.r3)(ke,He.name))return ke[He.name];const we=new mt(He,be);return ke[He.name]=we,we},app:Q,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function Ke(Te){const q=Te.name,He=q.replace("-compat","");if(te._registerComponent(Te)&&"PUBLIC"===Te.type){const we=(yt=Q())=>{if("function"!=typeof yt[He])throw ge.create("invalid-app-argument",{appName:q});return yt[He]()};void 0!==Te.serviceProps&&(0,v.ZB)(we,Te.serviceProps),be[He]=we,mt.prototype[He]=function(...yt){return this._getService.bind(this,q).apply(this,Te.multipleInstances?yt:[])}}return"PUBLIC"===Te.type?be[He]:null},removeApp:function ye(Te){delete ke[Te]},useAsService:function Ue(Te,q){return"serverAuth"===q?null:q},modularAPIs:te}};function Q(Te){if(!(0,v.r3)(ke,Te=Te||te._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Te});return ke[Te]}return be.default=be,Object.defineProperty(be,"apps",{get:function Ce(){return Object.keys(ke).map(Te=>ke[Te])}}),Q.App=mt,be}(Ie);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function ke(be){(0,v.ZB)(mt,be)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),mt}(),ue=new de.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=Se;!function Be(mt){(0,te.registerVersion)("@firebase/app-compat","0.1.30",mt)}()},9681:(cn,ut,F)=>{"use strict";F.r(ut),F.d(ut,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>kt,_DEFAULT_ENTRY_NAME:()=>Ae,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>on,_apps:()=>qe,_clearComponents:()=>Pt,_components:()=>Et,_getProvider:()=>nn,_registerComponent:()=>rn,_removeServiceInstance:()=>Mt,deleteApp:()=>nr,getApp:()=>Mn,getApps:()=>Ct,initializeApp:()=>Zt,onLog:()=>Qn,registerVersion:()=>On,setLogLevel:()=>Gr});var v=F(5861),y=F(4859),te=F(1877),de=F(2090),Ie=F(8766);class ve{constructor(Qe){this.container=Qe}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function ge(je){const Qe=je.getComponent();return"VERSION"===(null==Qe?void 0:Qe.type)}(ze)){const $t=ze.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(ze=>ze).join(" ")}}const Oe="@firebase/app",Se=new te.Yd("@firebase/app"),Ae="[DEFAULT]",Le={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qe=new Map,Et=new Map;function Bt(je,Qe){try{je.container.addComponent(Qe)}catch(ze){Se.debug(`Component ${Qe.name} failed to register with FirebaseApp ${je.name}`,ze)}}function on(je,Qe){je.container.addOrOverwriteComponent(Qe)}function rn(je){const Qe=je.name;if(Et.has(Qe))return Se.debug(`There were multiple attempts to register component ${Qe}.`),!1;Et.set(Qe,je);for(const ze of qe.values())Bt(ze,je);return!0}function nn(je,Qe){const ze=je.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),je.container.getProvider(Qe)}function Mt(je,Qe,ze=Ae){nn(je,Qe).clearInstance(ze)}function Pt(){Et.clear()}const It=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ut{constructor(Qe,ze,$t){this._isDeleted=!1,this._options=Object.assign({},Qe),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Qe){this._isDeleted=Qe}checkDestroyed(){if(this.isDeleted)throw It.create("app-deleted",{appName:this._name})}}const kt="9.9.1";function Zt(je,Qe={}){"object"!=typeof Qe&&(Qe={name:Qe});const ze=Object.assign({name:Ae,automaticDataCollectionEnabled:!1},Qe),$t=ze.name;if("string"!=typeof $t||!$t)throw It.create("bad-app-name",{appName:String($t)});const hn=qe.get($t);if(hn){if((0,de.vZ)(je,hn.options)&&(0,de.vZ)(ze,hn.config))return hn;throw It.create("duplicate-app",{appName:$t})}const ln=new y.H0($t);for(const Tn of Et.values())ln.addComponent(Tn);const er=new Ut(je,ze,ln);return qe.set($t,er),er}function Mn(je=Ae){const Qe=qe.get(je);if(!Qe)throw It.create("no-app",{appName:je});return Qe}function Ct(){return Array.from(qe.values())}function nr(je){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,v.Z)(function*(je){const Qe=je.name;qe.has(Qe)&&(qe.delete(Qe),yield Promise.all(je.container.getProviders().map(ze=>ze.delete())),je.isDeleted=!0)})).apply(this,arguments)}function On(je,Qe,ze){var $t;let hn=null!==($t=Le[je])&&void 0!==$t?$t:je;ze&&(hn+=`-${ze}`);const ln=hn.match(/\s|\//),er=Qe.match(/\s|\//);if(ln||er){const Tn=[`Unable to register library "${hn}" with version "${Qe}":`];return ln&&Tn.push(`library name "${hn}" contains illegal characters (whitespace or "/")`),ln&&er&&Tn.push("and"),er&&Tn.push(`version name "${Qe}" contains illegal characters (whitespace or "/")`),void Se.warn(Tn.join(" "))}rn(new y.wA(`${hn}-version`,()=>({library:hn,version:Qe}),"VERSION"))}function Qn(je,Qe){if(null!==je&&"function"!=typeof je)throw It.create("invalid-log-argument");(0,te.Am)(je,Qe)}function Gr(je){(0,te.Ub)(je)}const Yn="firebase-heartbeat-database",fr=1,Vt="firebase-heartbeat-store";let $n=null;function zr(){return $n||($n=(0,Ie.X3)(Yn,fr,{upgrade:(je,Qe)=>{0===Qe&&je.createObjectStore(Vt)}}).catch(je=>{throw It.create("storage-open",{originalErrorMessage:je.message})})),$n}function Yr(){return(Yr=(0,v.Z)(function*(je){var Qe;try{return(yield zr()).transaction(Vt).objectStore(Vt).get(Zr(je))}catch(ze){throw It.create("storage-get",{originalErrorMessage:null===(Qe=ze)||void 0===Qe?void 0:Qe.message})}})).apply(this,arguments)}function Jr(je,Qe){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,v.Z)(function*(je,Qe){var ze;try{const hn=(yield zr()).transaction(Vt,"readwrite");return yield hn.objectStore(Vt).put(Qe,Zr(je)),hn.done}catch($t){throw It.create("storage-set",{originalErrorMessage:null===(ze=$t)||void 0===ze?void 0:ze.message})}})).apply(this,arguments)}function Zr(je){return`${je.name}!${je.options.appId}`}class sr{constructor(Qe){this.container=Qe,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new Qi(ze),this._heartbeatsCachePromise=this._storage.read().then($t=>(this._heartbeatsCache=$t,$t))}triggerHeartbeat(){var Qe=this;return(0,v.Z)(function*(){const $t=Qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hn=Si();if(null===Qe._heartbeatsCache&&(Qe._heartbeatsCache=yield Qe._heartbeatsCachePromise),Qe._heartbeatsCache.lastSentHeartbeatDate!==hn&&!Qe._heartbeatsCache.heartbeats.some(ln=>ln.date===hn))return Qe._heartbeatsCache.heartbeats.push({date:hn,agent:$t}),Qe._heartbeatsCache.heartbeats=Qe._heartbeatsCache.heartbeats.filter(ln=>{const er=new Date(ln.date).valueOf();return Date.now()-er<=2592e6}),Qe._storage.overwrite(Qe._heartbeatsCache)})()}getHeartbeatsHeader(){var Qe=this;return(0,v.Z)(function*(){if(null===Qe._heartbeatsCache&&(yield Qe._heartbeatsCachePromise),null===Qe._heartbeatsCache||0===Qe._heartbeatsCache.heartbeats.length)return"";const ze=Si(),{heartbeatsToSend:$t,unsentEntries:hn}=function Er(je,Qe=1024){const ze=[];let $t=je.slice();for(const hn of je){const ln=ze.find(er=>er.agent===hn.agent);if(ln){if(ln.dates.push(hn.date),st(ze)>Qe){ln.dates.pop();break}}else if(ze.push({agent:hn.agent,dates:[hn.date]}),st(ze)>Qe){ze.pop();break}$t=$t.slice(1)}return{heartbeatsToSend:ze,unsentEntries:$t}}(Qe._heartbeatsCache.heartbeats),ln=(0,de.L)(JSON.stringify({version:2,heartbeats:$t}));return Qe._heartbeatsCache.lastSentHeartbeatDate=ze,hn.length>0?(Qe._heartbeatsCache.heartbeats=hn,yield Qe._storage.overwrite(Qe._heartbeatsCache)):(Qe._heartbeatsCache.heartbeats=[],Qe._storage.overwrite(Qe._heartbeatsCache)),ln})()}}function Si(){return(new Date).toISOString().substring(0,10)}class Qi{constructor(Qe){this.app=Qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Qe=this;return(0,v.Z)(function*(){return(yield Qe._canUseIndexedDBPromise)&&(yield function Mr(je){return Yr.apply(this,arguments)}(Qe.app))||{heartbeats:[]}})()}overwrite(Qe){var ze=this;return(0,v.Z)(function*(){var $t;if(yield ze._canUseIndexedDBPromise){const ln=yield ze.read();return Jr(ze.app,{lastSentHeartbeatDate:null!==($t=Qe.lastSentHeartbeatDate)&&void 0!==$t?$t:ln.lastSentHeartbeatDate,heartbeats:Qe.heartbeats})}})()}add(Qe){var ze=this;return(0,v.Z)(function*(){var $t;if(yield ze._canUseIndexedDBPromise){const ln=yield ze.read();return Jr(ze.app,{lastSentHeartbeatDate:null!==($t=Qe.lastSentHeartbeatDate)&&void 0!==$t?$t:ln.lastSentHeartbeatDate,heartbeats:[...ln.heartbeats,...Qe.heartbeats]})}})()}}function st(je){return(0,de.L)(JSON.stringify({version:2,heartbeats:je})).length}!function et(je){rn(new y.wA("platform-logger",Qe=>new ve(Qe),"PRIVATE")),rn(new y.wA("heartbeat",Qe=>new sr(Qe),"PRIVATE")),On(Oe,"0.7.29",je),On(Oe,"0.7.29","esm2017"),On("fire-js","")}("")},4859:(cn,ut,F)=>{"use strict";F.d(ut,{H0:()=>Oe,wA:()=>te,zt:()=>Ie});var v=F(5861),y=F(2090);class te{constructor(Se,ue,Ne){this.name=Se,this.instanceFactory=ue,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Se){return this.instantiationMode=Se,this}setMultipleInstances(Se){return this.multipleInstances=Se,this}setServiceProps(Se){return this.serviceProps=Se,this}setInstanceCreatedCallback(Se){return this.onInstanceCreated=Se,this}}const de="[DEFAULT]";class Ie{constructor(Se,ue){this.name=Se,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Se){const ue=this.normalizeInstanceIdentifier(Se);if(!this.instancesDeferred.has(ue)){const Ne=new y.BH;if(this.instancesDeferred.set(ue,Ne),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:ue});Pe&&Ne.resolve(Pe)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(Se){var ue;const Ne=this.normalizeInstanceIdentifier(null==Se?void 0:Se.identifier),Pe=null!==(ue=null==Se?void 0:Se.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(Be){if(Pe)return null;throw Be}}getComponent(){return this.component}setComponent(Se){if(Se.name!==this.name)throw Error(`Mismatching Component ${Se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Se,this.shouldAutoInitialize()){if(function ge($e){return"EAGER"===$e.instantiationMode}(Se))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[ue,Ne]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(ue);try{const Be=this.getOrInitializeService({instanceIdentifier:Pe});Ne.resolve(Be)}catch{}}}}clearInstance(Se=de){this.instancesDeferred.delete(Se),this.instancesOptions.delete(Se),this.instances.delete(Se)}delete(){var Se=this;return(0,v.Z)(function*(){const ue=Array.from(Se.instances.values());yield Promise.all([...ue.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...ue.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Se=de){return this.instances.has(Se)}getOptions(Se=de){return this.instancesOptions.get(Se)||{}}initialize(Se={}){const{options:ue={}}=Se,Ne=this.normalizeInstanceIdentifier(Se.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:Ne,options:ue});for(const[Be,Ye]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(Be)&&Ye.resolve(Pe);return Pe}onInit(Se,ue){var Ne;const Pe=this.normalizeInstanceIdentifier(ue),Be=null!==(Ne=this.onInitCallbacks.get(Pe))&&void 0!==Ne?Ne:new Set;Be.add(Se),this.onInitCallbacks.set(Pe,Be);const Ye=this.instances.get(Pe);return Ye&&Se(Ye,Pe),()=>{Be.delete(Se)}}invokeOnInitCallbacks(Se,ue){const Ne=this.onInitCallbacks.get(ue);if(Ne)for(const Pe of Ne)try{Pe(Se,ue)}catch{}}getOrInitializeService({instanceIdentifier:Se,options:ue={}}){let Ne=this.instances.get(Se);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:($e=Se,$e===de?void 0:$e),options:ue}),this.instances.set(Se,Ne),this.instancesOptions.set(Se,ue),this.invokeOnInitCallbacks(Ne,Se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Se,Ne)}catch{}var $e;return Ne||null}normalizeInstanceIdentifier(Se=de){return this.component?this.component.multipleInstances?Se:de:Se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(Se){this.name=Se,this.providers=new Map}addComponent(Se){const ue=this.getProvider(Se.name);if(ue.isComponentSet())throw new Error(`Component ${Se.name} has already been registered with ${this.name}`);ue.setComponent(Se)}addOrOverwriteComponent(Se){this.getProvider(Se.name).isComponentSet()&&this.providers.delete(Se.name),this.addComponent(Se)}getProvider(Se){if(this.providers.has(Se))return this.providers.get(Se);const ue=new Ie(Se,this);return this.providers.set(Se,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(cn,ut,F)=>{"use strict";F.d(ut,{Am:()=>$e,Ub:()=>Oe,Yd:()=>ge,in:()=>y});const v=[];var y=(()=>((y=y||{})[y.DEBUG=0]="DEBUG",y[y.VERBOSE=1]="VERBOSE",y[y.INFO=2]="INFO",y[y.WARN=3]="WARN",y[y.ERROR=4]="ERROR",y[y.SILENT=5]="SILENT",y))();const te={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},de=y.INFO,Ie={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},ve=(Se,ue,...Ne)=>{if(ue<Se.logLevel)return;const Pe=(new Date).toISOString(),Be=Ie[ue];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Be](`[${Pe}]  ${Se.name}:`,...Ne)};class ge{constructor(ue){this.name=ue,this._logLevel=de,this._logHandler=ve,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in y))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?te[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...ue),this._logHandler(this,y.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...ue),this._logHandler(this,y.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,y.INFO,...ue),this._logHandler(this,y.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,y.WARN,...ue),this._logHandler(this,y.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...ue),this._logHandler(this,y.ERROR,...ue)}}function Oe(Se){v.forEach(ue=>{ue.setLogLevel(Se)})}function $e(Se,ue){for(const Ne of v){let Pe=null;ue&&ue.level&&(Pe=te[ue.level]),Ne.userLogHandler=null===Se?null:(Be,Ye,...mt)=>{const ke=mt.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Ye>=(null!=Pe?Pe:Be.logLevel)&&Se({level:y[Ye].toLowerCase(),message:ke,args:mt,type:Be.name})}}}},942:(cn,ut,F)=>{"use strict";F.d(ut,{BX:()=>Ts,w:()=>nn,dr:()=>Gr,oU:()=>fr,cs:()=>os,YG:()=>Yr,Sm:()=>Jr,PM:()=>Gn,FN:()=>Zr,Zi:()=>yr,Dq:()=>sr,nz:()=>Si,wI:()=>Qi,W2:()=>st,jY:()=>ln,Gu:()=>er,gu:()=>Tn,pK:()=>gt,Ie:()=>Nt,Q$:()=>qn,q_:()=>Ui,Nh:()=>wi,oz:()=>Ds,jP:()=>Bs,Nd:()=>Cs,VI:()=>Ji,wd:()=>Tt,sr:()=>Ft,Pc:()=>Da,r4:()=>Ho,HT:()=>ys,as:()=>Mt,YI:()=>ur,j9:()=>It,yF:()=>Vs});var v=F(5861),y=F(2223),te=F(5030),de=F(7582),Ie=F(4968),ve=F(7579),ge=F(1135),Oe=F(7957),Pe=(F(8127),F(9858),F(2923),F(1898),F(953)),Be=F(6655),Ye=F(3982),mt=F(7774),be=(F(1840),F(349)),rt=(F(4110),F(4349),F(661)),Ke=F(9300),Ue=F(3900),Te=F(1884),q=F(4755);const we=Pe.i,Ge=["*"],Le=C=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(C):"function"==typeof requestAnimationFrame?requestAnimationFrame(C):setTimeout(C);let qe=(()=>{class C{constructor(T,G){this.injector=T,this.el=G,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(T){this.el.nativeElement.value=this.lastValue=T,Et(this.el)}handleValueChange(T,G){T===this.el.nativeElement&&(G!==this.lastValue&&(this.lastValue=G,this.onChange(G)),Et(this.el))}_handleBlurEvent(T){T===this.el.nativeElement&&(this.onTouched(),Et(this.el))}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.el.nativeElement.disabled=T}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let T;try{T=this.injector.get(te.a5)}catch{}if(!T)return;T.statusChanges&&(this.statusChanges=T.statusChanges.subscribe(()=>Et(this.el)));const G=T.control;G&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Gt=>{if(typeof G[Gt]<"u"){const kn=G[Gt].bind(G);G[Gt]=(...Jn)=>{kn(...Jn),Et(this.el)}}})}}return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.zs3),y.Y36(y.SBq))},C.\u0275dir=y.lG2({type:C,hostBindings:function(T,G){1&T&&y.NdJ("ionBlur",function(Gt){return G._handleBlurEvent(Gt.target)})}}),C})();const Et=C=>{Le(()=>{const K=C.nativeElement,T=null!=K.value&&K.value.toString().length>0,G=Bt(K);on(K,G);const fe=K.closest("ion-item");fe&&on(fe,T?[...G,"item-has-value"]:G)})},Bt=C=>{const K=C.classList,T=[];for(let G=0;G<K.length;G++){const fe=K.item(G);null!==fe&&rn(fe,"ng-")&&T.push(`ion-${fe.substring(3)}`)}return T},on=(C,K)=>{const T=C.classList;T.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),T.add(...K)},rn=(C,K)=>C.substring(0,K.length)===K;let nn=(()=>{class C extends qe{constructor(T,G){super(T,G)}writeValue(T){this.el.nativeElement.checked=this.lastValue=T,Et(this.el)}_handleIonChange(T){this.handleValueChange(T,T.checked)}}return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.zs3),y.Y36(y.SBq))},C.\u0275dir=y.lG2({type:C,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(T,G){1&T&&y.NdJ("ionChange",function(Gt){return G._handleIonChange(Gt.target)})},features:[y._Bn([{provide:te.JU,useExisting:C,multi:!0}]),y.qOj]}),C})(),Mt=(()=>{class C extends qe{constructor(T,G){super(T,G)}handleInputEvent(T){this.handleValueChange(T,T.value)}registerOnChange(T){super.registerOnChange(G=>{T(""===G?null:parseFloat(G))})}}return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.zs3),y.Y36(y.SBq))},C.\u0275dir=y.lG2({type:C,selectors:[["ion-input","type","number"]],hostBindings:function(T,G){1&T&&y.NdJ("ionInput",function(Gt){return G.handleInputEvent(Gt.target)})},features:[y._Bn([{provide:te.JU,useExisting:C,multi:!0}]),y.qOj]}),C})(),It=(()=>{class C extends qe{constructor(T,G){super(T,G)}_handleInputEvent(T){this.handleValueChange(T,T.value)}}return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.zs3),y.Y36(y.SBq))},C.\u0275dir=y.lG2({type:C,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(T,G){1&T&&y.NdJ("ionInput",function(Gt){return G._handleInputEvent(Gt.target)})},features:[y._Bn([{provide:te.JU,useExisting:C,multi:!0}]),y.qOj]}),C})();const Ut=(C,K)=>{const T=C.prototype;K.forEach(G=>{Object.defineProperty(T,G,{get(){return this.el[G]},set(fe){this.z.runOutsideAngular(()=>this.el[G]=fe)}})})},kt=(C,K)=>{const T=C.prototype;K.forEach(G=>{T[G]=function(){const fe=arguments;return this.z.runOutsideAngular(()=>this.el[G].apply(this.el,fe))}})},Zt=(C,K,T)=>{T.forEach(G=>C[G]=(0,Ie.R)(K,G))};function Ct(C){return function(T){const{defineCustomElementFn:G,inputs:fe,methods:Gt}=C;return void 0!==G&&G(),fe&&Ut(T,fe),Gt&&kt(T,Gt),T}}let Gr=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-app"]],ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({})],C),C})(),fr=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],C),C})(),Yr=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement,Zt(this,this.el,["ionFocus","ionBlur"])}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],C),C})(),Jr=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["collapse"]})],C),C})(),Gn=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],C),C})(),Zr=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["mode"]})],C),C})(),yr=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["color","mode","translucent"]})],C),C})(),sr=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["color","mode"]})],C),C})(),Si=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement,Zt(this,this.el,["ionChange","ionFocus","ionBlur"])}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],C),C})(),Qi=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],C),C})(),st=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement,Zt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],C),C})(),ln=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["fixed"]})],C),C})(),er=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["collapse","mode","translucent"]})],C),C})(),Tn=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],C),C})(),gt=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement,Zt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],C),C})(),Nt=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],C),C})(),qn=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["color","mode","position"]})],C),C})(),Ui=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],C),C})(),wi=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-reorder"]],ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({})],C),C})(),Ds=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement,Zt(this,this.el,["ionItemReorder"])}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-reorder-group"]],inputs:{disabled:"disabled"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["disabled"],methods:["complete"]})],C),C})(),Cs=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-row"]],ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({})],C),C})(),Ji=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement,Zt(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],C),C})(),Tt=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["color","size"]})],C),C})(),Ft=(()=>{let C=class{constructor(T,G,fe){this.z=fe,T.detach(),this.el=G.nativeElement}};return C.\u0275fac=function(T){return new(T||C)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.R0b))},C.\u0275cmp=y.Xpm({type:C,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ge,decls:1,vars:0,template:function(T,G){1&T&&(y.F$t(),y.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,de.gn)([Ct({inputs:["color","mode"]})],C),C})(),En=(()=>{class C{get(T,G){const fe=Pn();return fe?fe.get(T,G):null}getBoolean(T,G){const fe=Pn();return!!fe&&fe.getBoolean(T,G)}getNumber(T,G){const fe=Pn();return fe?fe.getNumber(T,G):0}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const gn=new y.OlP("USERCONFIG"),Pn=()=>{if(typeof window<"u"){const C=window.Ionic;if(null!=C&&C.config)return C.config}return null};let Xe=(()=>{class C{constructor(T,G){this.doc=T,this.backButton=new ve.x,this.keyboardDidShow=new ve.x,this.keyboardDidHide=new ve.x,this.pause=new ve.x,this.resume=new ve.x,this.resize=new ve.x,G.run(()=>{var fe;let Gt;this.win=T.defaultView,this.backButton.subscribeWithPriority=function(kn,Jn){return this.subscribe(Dr=>Dr.register(kn,Lr=>G.run(()=>Jn(Lr))))},lt(this.pause,T,"pause"),lt(this.resume,T,"resume"),lt(this.backButton,T,"ionBackButton"),lt(this.resize,this.win,"resize"),lt(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),lt(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(kn=>{Gt=kn}),null!==(fe=this.win)&&void 0!==fe&&fe.cordova?T.addEventListener("deviceready",()=>{Gt("cordova")},{once:!0}):Gt("dom")})}is(T){return(0,Pe.a)(this.win,T)}platforms(){return(0,Pe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(T){return at(this.win.location.href,T)}isLandscape(){return!this.isPortrait()}isPortrait(){var T,G;return null===(T=(G=this.win).matchMedia)||void 0===T?void 0:T.call(G,"(orientation: portrait)").matches}testUserAgent(T){const G=this.win.navigator;return!!(null!=G&&G.userAgent&&G.userAgent.indexOf(T)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return C.\u0275fac=function(T){return new(T||C)(y.LFG(q.K0),y.LFG(y.R0b))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const at=(C,K)=>{K=K.replace(/[[\]\\]/g,"\\$&");const G=new RegExp("[\\?&]"+K+"=([^&#]*)").exec(C);return G?decodeURIComponent(G[1].replace(/\+/g," ")):null},lt=(C,K,T)=>{K&&K.addEventListener(T,G=>{C.next(null!=G?G.detail:void 0)})};let Ht=(()=>{class C{constructor(T,G,fe,Gt){this.location=G,this.serializer=fe,this.router=Gt,this.direction=In,this.animated=lr,this.guessDirection="forward",this.lastNavId=-1,Gt&&Gt.events.subscribe(kn=>{if(kn instanceof Oe.OD){const Jn=kn.restoredState?kn.restoredState.navigationId:kn.id;this.guessDirection=Jn<this.lastNavId?"back":"forward",this.guessAnimation=kn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?kn.id:Jn}}),T.backButton.subscribeWithPriority(0,kn=>{this.pop(),kn()})}navigateForward(T,G={}){return this.setDirection("forward",G.animated,G.animationDirection,G.animation),this.navigate(T,G)}navigateBack(T,G={}){return this.setDirection("back",G.animated,G.animationDirection,G.animation),this.navigate(T,G)}navigateRoot(T,G={}){return this.setDirection("root",G.animated,G.animationDirection,G.animation),this.navigate(T,G)}back(T={animated:!0,animationDirection:"back"}){return this.setDirection("back",T.animated,T.animationDirection,T.animation),this.location.back()}pop(){var T=this;return(0,v.Z)(function*(){let G=T.topOutlet;for(;G&&!(yield G.pop());)G=G.parentOutlet})()}setDirection(T,G,fe,Gt){this.direction=T,this.animated=sn(T,G,fe),this.animationBuilder=Gt}setTopOutlet(T){this.topOutlet=T}consumeTransition(){let G,T="root";const fe=this.animationBuilder;return"auto"===this.direction?(T=this.guessDirection,G=this.guessAnimation):(G=this.animated,T=this.direction),this.direction=In,this.animated=lr,this.animationBuilder=void 0,{direction:T,animation:G,animationBuilder:fe}}navigate(T,G){if(Array.isArray(T))return this.router.navigate(T,G);{const fe=this.serializer.parse(T.toString());return void 0!==G.queryParams&&(fe.queryParams={...G.queryParams}),void 0!==G.fragment&&(fe.fragment=G.fragment),this.router.navigateByUrl(fe,G)}}}return C.\u0275fac=function(T){return new(T||C)(y.LFG(Xe),y.LFG(q.Ye),y.LFG(Oe.Hx),y.LFG(Oe.F0,8))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const sn=(C,K,T)=>{if(!1!==K){if(void 0!==T)return T;if("forward"===C||"back"===C)return C;if("root"===C&&!0===K)return"forward"}},In="auto",lr=void 0;class ei{constructor(K={}){this.data=K}get(K){return this.data[K]}}let Zn=(()=>{class C{constructor(){this.zone=(0,y.f3M)(y.R0b),this.applicationRef=(0,y.f3M)(y.z2F)}create(T,G,fe){return new vn(T,G,this.applicationRef,this.zone,fe)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})();class vn{constructor(K,T,G,fe,Gt){this.environmentInjector=K,this.injector=T,this.applicationRef=G,this.zone=fe,this.elementReferenceKey=Gt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(K,T,G,fe){return this.zone.run(()=>new Promise(Gt=>{const kn={...G};void 0!==this.elementReferenceKey&&(kn[this.elementReferenceKey]=K),Gt(Wn(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,K,T,kn,fe,this.elementReferenceKey))}))}removeViewFromDom(K,T){return this.zone.run(()=>new Promise(G=>{const fe=this.elRefMap.get(T);if(fe){fe.destroy(),this.elRefMap.delete(T);const Gt=this.elEventsMap.get(T);Gt&&(Gt(),this.elEventsMap.delete(T))}G()}))}}const Wn=(C,K,T,G,fe,Gt,kn,Jn,Dr,Lr,zi)=>{const Do=y.zs3.create({providers:bi(Dr),parent:T}),Ps=(0,y.LMc)(Jn,{environmentInjector:K,elementInjector:Do}),ro=Ps.instance,Qr=Ps.location.nativeElement;if(Dr&&(zi&&void 0!==ro[zi]&&console.error(`[Ionic Error]: ${zi} is a reserved property when using ${kn.tagName.toLowerCase()}. Rename or remove the "${zi}" property from ${Jn.name}.`),Object.assign(ro,Dr)),Lr)for(const j of Lr)Qr.classList.add(j);const Po=ni(C,ro,Qr);return kn.appendChild(Qr),G.attachView(Ps.hostView),fe.set(Qr,Ps),Gt.set(Qr,Po),Qr},Rr=[mt.L,mt.a,mt.b,mt.c,mt.d],ni=(C,K,T)=>C.run(()=>{const G=Rr.filter(fe=>"function"==typeof K[fe]).map(fe=>{const Gt=kn=>K[fe](kn.detail);return T.addEventListener(fe,Gt),()=>T.removeEventListener(fe,Gt)});return()=>G.forEach(fe=>fe())}),is=new y.OlP("NavParamsToken"),bi=C=>[{provide:is,useValue:C},{provide:ei,useFactory:fs,deps:[is]}],fs=C=>new ei(C),Fs=(C,K)=>((C=C.filter(T=>T.stackId!==K.stackId)).push(K),C),Is=(C,K)=>{const T=C.createUrlTree(["."],{relativeTo:K});return C.serializeUrl(T)},Ys=(C,K)=>{if(!C)return;const T=ri(K);for(let G=0;G<T.length;G++){if(G>=C.length)return T[G];if(T[G]!==C[G])return}},ri=C=>C.split("/").map(K=>K.trim()).filter(K=>""!==K),fo=C=>{C&&(C.ref.destroy(),C.unlistenEvents())};class ps{constructor(K,T,G,fe,Gt,kn){this.containerEl=T,this.router=G,this.navCtrl=fe,this.zone=Gt,this.location=kn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==K?ri(K):void 0}createView(K,T){var G;const fe=Is(this.router,T),Gt=null==K||null===(G=K.location)||void 0===G?void 0:G.nativeElement,kn=ni(this.zone,K.instance,Gt);return{id:this.nextId++,stackId:Ys(this.tabsPrefix,fe),unlistenEvents:kn,element:Gt,ref:K,url:fe}}getExistingView(K){const T=Is(this.router,K),G=this.views.find(fe=>fe.url===T);return G&&G.ref.changeDetectorRef.reattach(),G}setActive(K){var T,G,fe;const Gt=this.navCtrl.consumeTransition();let{direction:kn,animation:Jn,animationBuilder:Dr}=Gt;const Lr=this.activeView,zi=((C,K)=>!K||C.stackId!==K.stackId)(K,Lr);zi&&(kn="back",Jn=void 0);const Do=this.views.slice();let Ps;const ro=this.router;ro.getCurrentNavigation?Ps=ro.getCurrentNavigation():null!==(T=ro.navigations)&&void 0!==T&&T.value&&(Ps=ro.navigations.value),null!==(G=Ps)&&void 0!==G&&null!==(fe=G.extras)&&void 0!==fe&&fe.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Qr=this.views.includes(K),Po=this.insertView(K,kn);Qr||K.ref.changeDetectorRef.detectChanges();const j=K.animationBuilder;return void 0===Dr&&"back"===kn&&!zi&&void 0!==j&&(Dr=j),Lr&&(Lr.animationBuilder=Dr),this.zone.runOutsideAngular(()=>this.wait(()=>(Lr&&Lr.ref.changeDetectorRef.detach(),K.ref.changeDetectorRef.reattach(),this.transition(K,Lr,Jn,this.canGoBack(1),!1,Dr).then(()=>Mi(K,Po,Do,this.location,this.zone)).then(()=>({enteringView:K,direction:kn,animation:Jn,tabSwitch:zi})))))}canGoBack(K,T=this.getActiveStackId()){return this.getStack(T).length>K}pop(K,T=this.getActiveStackId()){return this.zone.run(()=>{const G=this.getStack(T);if(G.length<=K)return Promise.resolve(!1);const fe=G[G.length-K-1];let Gt=fe.url;const kn=fe.savedData;if(kn){var Jn,Dr;const zi=kn.get("primary");null!=zi&&null!==(Jn=zi.route)&&void 0!==Jn&&null!==(Dr=Jn._routerState)&&void 0!==Dr&&Dr.snapshot.url&&(Gt=zi.route._routerState.snapshot.url)}const{animationBuilder:Lr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Gt,{...fe.savedExtras,animation:Lr}).then(()=>!0)})}startBackTransition(){const K=this.activeView;if(K){const T=this.getStack(K.stackId),G=T[T.length-2],fe=G.animationBuilder;return this.wait(()=>this.transition(G,K,"back",this.canGoBack(2),!0,fe))}return Promise.resolve()}endBackTransition(K){K?(this.skipTransition=!0,this.pop(1)):this.activeView&&xi(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(K){const T=this.getStack(K);return T.length>0?T[T.length-1]:void 0}getRootUrl(K){const T=this.getStack(K);return T.length>0?T[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(fo),this.activeView=void 0,this.views=[]}getStack(K){return this.views.filter(T=>T.stackId===K)}insertView(K,T){return this.activeView=K,this.views=((C,K,T)=>"root"===T?Fs(C,K):"forward"===T?((C,K)=>(C.indexOf(K)>=0?C=C.filter(G=>G.stackId!==K.stackId||G.id<=K.id):C.push(K),C))(C,K):((C,K)=>C.indexOf(K)>=0?C.filter(G=>G.stackId!==K.stackId||G.id<=K.id):Fs(C,K))(C,K))(this.views,K,T),this.views.slice()}transition(K,T,G,fe,Gt,kn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(T===K)return Promise.resolve(!1);const Jn=K?K.element:void 0,Dr=T?T.element:void 0,Lr=this.containerEl;return Jn&&Jn!==Dr&&(Jn.classList.add("ion-page"),Jn.classList.add("ion-page-invisible"),Jn.parentElement!==Lr&&Lr.appendChild(Jn),Lr.commit)?Lr.commit(Jn,Dr,{duration:void 0===G?0:void 0,direction:G,showGoBack:fe,progressAnimation:Gt,animationBuilder:kn}):Promise.resolve(!1)}wait(K){var T=this;return(0,v.Z)(function*(){void 0!==T.runningTask&&(yield T.runningTask,T.runningTask=void 0);const G=T.runningTask=K();return G.finally(()=>T.runningTask=void 0),G})()}}const Mi=(C,K,T,G,fe)=>"function"==typeof requestAnimationFrame?new Promise(Gt=>{requestAnimationFrame(()=>{xi(C,K,T,G,fe),Gt()})}):Promise.resolve(),xi=(C,K,T,G,fe)=>{fe.run(()=>T.filter(Gt=>!K.includes(Gt)).forEach(fo)),K.forEach(Gt=>{const Jn=G.path().split("?")[0].split("#")[0];if(Gt!==C&&Gt.url!==Jn){const Dr=Gt.element;Dr.setAttribute("aria-hidden","true"),Dr.classList.add("ion-page-hidden"),Gt.ref.changeDetectorRef.detach()}})};let Bs=(()=>{class C{constructor(T,G,fe,Gt,kn,Jn,Dr,Lr){this.parentOutlet=Lr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ge.X(null),this.stackEvents=new y.vpe,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Oe.y6),this.location=(0,y.f3M)(y.s_b),this.environmentInjector=(0,y.f3M)(y.lqb),this.config=(0,y.f3M)(En),this.navCtrl=(0,y.f3M)(Ht),this.nativeEl=Gt.nativeElement,this.name=T||Oe.eC,this.tabsPrefix="true"===G?Is(kn,Dr):void 0,this.stackCtrl=new ps(this.tabsPrefix,this.nativeEl,kn,this.navCtrl,Jn,fe),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(T){this.nativeEl.animation=T}set animated(T){this.nativeEl.animated=T}set swipeGesture(T){this._swipeGesture=T,this.nativeEl.swipeHandler=T?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:G=>this.stackCtrl.endBackTransition(G)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const T=this.getContext();null!=T&&T.route&&this.activateWith(T.route,T.injector)}new Promise(T=>(0,Be.c)(this.nativeEl,T)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(T,G){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const G=this.getContext();this.activatedView.savedData=new Map(G.children.contexts);const fe=this.activatedView.savedData.get("primary");if(fe&&G.route&&(fe.route={...G.route}),this.activatedView.savedExtras={},G.route){const Gt=G.route.snapshot;this.activatedView.savedExtras.queryParams=Gt.queryParams,this.activatedView.savedExtras.fragment=Gt.fragment}}const T=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,G){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;let fe,Gt=this.stackCtrl.getExistingView(T);if(Gt){fe=this.activated=Gt.ref;const Jn=Gt.savedData;Jn&&(this.getContext().children.contexts=Jn),this.updateActivatedRouteProxy(fe.instance,T)}else{var kn;const Jn=T._futureSnapshot,Dr=this.parentContexts.getOrCreateContext(this.name).children,Lr=new ge.X(null),zi=this.createActivatedRouteProxy(Lr,T),Do=new gs(zi,Dr,this.location.injector),Ps=null!==(kn=Jn.routeConfig.component)&&void 0!==kn?kn:Jn.component;fe=this.activated=this.location.createComponent(Ps,{index:this.location.length,injector:Do,environmentInjector:null!=G?G:this.environmentInjector}),Lr.next(fe.instance),Gt=this.stackCtrl.createView(this.activated,T),this.proxyMap.set(fe.instance,zi),this.currentActivatedRoute$.next({component:fe.instance,activatedRoute:T})}this.activatedView=Gt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Gt).then(Jn=>{this.activateEvents.emit(fe.instance),this.stackEvents.emit(Jn)})}canGoBack(T=1,G){return this.stackCtrl.canGoBack(T,G)}pop(T=1,G){return this.stackCtrl.pop(T,G)}getLastUrl(T){const G=this.stackCtrl.getLastUrl(T);return G?G.url:void 0}getLastRouteView(T){return this.stackCtrl.getLastUrl(T)}getRootView(T){return this.stackCtrl.getRootUrl(T)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(T,G){const fe=new Oe.gz;return fe._futureSnapshot=G._futureSnapshot,fe._routerState=G._routerState,fe.snapshot=G.snapshot,fe.outlet=G.outlet,fe.component=G.component,fe._paramMap=this.proxyObservable(T,"paramMap"),fe._queryParamMap=this.proxyObservable(T,"queryParamMap"),fe.url=this.proxyObservable(T,"url"),fe.params=this.proxyObservable(T,"params"),fe.queryParams=this.proxyObservable(T,"queryParams"),fe.fragment=this.proxyObservable(T,"fragment"),fe.data=this.proxyObservable(T,"data"),fe}proxyObservable(T,G){return T.pipe((0,Ke.h)(fe=>!!fe),(0,Ue.w)(fe=>this.currentActivatedRoute$.pipe((0,Ke.h)(Gt=>null!==Gt&&Gt.component===fe),(0,Ue.w)(Gt=>Gt&&Gt.activatedRoute[G]),(0,Te.x)())))}updateActivatedRouteProxy(T,G){const fe=this.proxyMap.get(T);if(!fe)throw new Error("Could not find activated route proxy for view");fe._futureSnapshot=G._futureSnapshot,fe._routerState=G._routerState,fe.snapshot=G.snapshot,fe.outlet=G.outlet,fe.component=G.component,this.currentActivatedRoute$.next({component:T,activatedRoute:G})}}return C.\u0275fac=function(T){return new(T||C)(y.$8M("name"),y.$8M("tabs"),y.Y36(q.Ye),y.Y36(y.SBq),y.Y36(Oe.F0),y.Y36(y.R0b),y.Y36(Oe.gz),y.Y36(C,12))},C.\u0275dir=y.lG2({type:C,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),C})();class gs{constructor(K,T,G){this.route=K,this.childContexts=T,this.parent=G}get(K,T){return K===Oe.gz?this.route:K===Oe.y6?this.childContexts:this.parent.get(K,T)}}let os=(()=>{class C{constructor(T,G,fe){this.routerOutlet=T,this.navCtrl=G,this.config=fe}onClick(T){var G;const fe=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(G=this.routerOutlet)&&void 0!==G&&G.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),T.preventDefault()):null!=fe&&(this.navCtrl.navigateBack(fe,{animation:this.routerAnimation}),T.preventDefault())}}return C.\u0275fac=function(T){return new(T||C)(y.Y36(Bs,8),y.Y36(Ht),y.Y36(En))},C.\u0275dir=y.lG2({type:C,selectors:[["ion-back-button"]],hostBindings:function(T,G){1&T&&y.NdJ("click",function(Gt){return G.onClick(Gt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),C})(),ur=(()=>{class C{constructor(T,G,fe,Gt,kn){this.locationStrategy=T,this.navCtrl=G,this.elementRef=fe,this.router=Gt,this.routerLink=kn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var T;if(null!==(T=this.routerLink)&&void 0!==T&&T.urlTree){const G=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=G}}onClick(T){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),T.preventDefault()}}return C.\u0275fac=function(T){return new(T||C)(y.Y36(q.S$),y.Y36(Ht),y.Y36(y.SBq),y.Y36(Oe.F0),y.Y36(Oe.rH,8))},C.\u0275dir=y.lG2({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,G){1&T&&y.NdJ("click",function(Gt){return G.onClick(Gt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[y.TTD]}),C})();class pi{constructor(K){this.ctrl=K}create(K){return this.ctrl.create(K||{})}dismiss(K,T,G){return this.ctrl.dismiss(K,T,G)}getTop(){return this.ctrl.getTop()}}let Ts=(()=>{class C extends pi{constructor(){super(be.b)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),ys=(()=>{class C extends pi{constructor(){super(be.l)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),vs=(()=>{class C extends pi{constructor(){super(be.m),this.angularDelegate=(0,y.f3M)(Zn),this.injector=(0,y.f3M)(y.zs3),this.environmentInjector=(0,y.f3M)(y.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})(),Sr=(()=>{class C extends pi{constructor(){super(be.c),this.angularDelegate=(0,y.f3M)(Zn),this.injector=(0,y.f3M)(y.zs3),this.environmentInjector=(0,y.f3M)(y.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})(),Vs=(()=>{class C extends pi{constructor(){super(be.t)}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();class Ho{shouldDetach(K){return!1}shouldAttach(K){return!1}store(K,T){}retrieve(K){return null}shouldReuseRoute(K,T){if(K.routeConfig!==T.routeConfig)return!1;const G=K.params,fe=T.params,Gt=Object.keys(G),kn=Object.keys(fe);if(Gt.length!==kn.length)return!1;for(const Jn of Gt)if(fe[Jn]!==G[Jn])return!1;return!0}}const Oo=(C,K,T)=>()=>{if(K.defaultView&&typeof window<"u"){(0,Ye.s)({...C,_zoneGate:Gt=>T.run(Gt)});const fe="__zone_symbol__addEventListener"in K.body?"__zone_symbol__addEventListener":"addEventListener";return function He(){var C=[];if(typeof window<"u"){var K=window;(!K.customElements||K.Element&&(!K.Element.prototype.closest||!K.Element.prototype.matches||!K.Element.prototype.remove||!K.Element.prototype.getRootNode))&&C.push(F.e(6748).then(F.t.bind(F,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||K.NodeList&&!K.NodeList.prototype.forEach||!K.fetch||!function(){try{var G=new URL("b","http://a");return G.pathname="c%20d","http://a/c%20d"===G.href&&G.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&C.push(F.e(2214).then(F.t.bind(F,4144,23)))}return Promise.all(C)}().then(()=>((C,K)=>typeof window>"u"?Promise.resolve():(0,rt.p)().then(()=>(we(),(0,rt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),K))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Le,jmp:Gt=>T.runOutsideAngular(Gt),ael(Gt,kn,Jn,Dr){Gt[fe](kn,Jn,Dr)},rel(Gt,kn,Jn,Dr){Gt.removeEventListener(kn,Jn,Dr)}}))}};let Da=(()=>{class C{static forRoot(T){return{ngModule:C,providers:[{provide:gn,useValue:T},{provide:y.ip1,useFactory:Oo,multi:!0,deps:[gn,q.K0,y.R0b]}]}}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275mod=y.oAB({type:C}),C.\u0275inj=y.cJS({providers:[Zn,vs,Sr],imports:[q.ez]}),C})()},8766:(cn,ut,F)=>{"use strict";F.d(ut,{Lj:()=>rt,X3:()=>Q});var v=F(5861);const y=(q,He)=>He.some(we=>q instanceof we);let te,de;const ge=new WeakMap,Oe=new WeakMap,$e=new WeakMap,Se=new WeakMap,ue=new WeakMap;let Be={get(q,He,we){if(q instanceof IDBTransaction){if("done"===He)return Oe.get(q);if("objectStoreNames"===He)return q.objectStoreNames||$e.get(q);if("store"===He)return we.objectStoreNames[1]?void 0:we.objectStore(we.objectStoreNames[0])}return be(q[He])},set:(q,He,we)=>(q[He]=we,!0),has:(q,He)=>q instanceof IDBTransaction&&("done"===He||"store"===He)||He in q};function ke(q){return"function"==typeof q?function mt(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...He){return q.apply(ye(this),He),be(ge.get(this))}:function(...He){return be(q.apply(ye(this),He))}:function(He,...we){const yt=q.call(ye(this),He,...we);return $e.set(yt,He.sort?He.sort():[He]),be(yt)}}(q):(q instanceof IDBTransaction&&function Pe(q){if(Oe.has(q))return;const He=new Promise((we,yt)=>{const ht=()=>{q.removeEventListener("complete",Ge),q.removeEventListener("error",Qt),q.removeEventListener("abort",Qt)},Ge=()=>{we(),ht()},Qt=()=>{yt(q.error||new DOMException("AbortError","AbortError")),ht()};q.addEventListener("complete",Ge),q.addEventListener("error",Qt),q.addEventListener("abort",Qt)});Oe.set(q,He)}(q),y(q,function Ie(){return te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,Be):q)}function be(q){if(q instanceof IDBRequest)return function Ne(q){const He=new Promise((we,yt)=>{const ht=()=>{q.removeEventListener("success",Ge),q.removeEventListener("error",Qt)},Ge=()=>{we(be(q.result)),ht()},Qt=()=>{yt(q.error),ht()};q.addEventListener("success",Ge),q.addEventListener("error",Qt)});return He.then(we=>{we instanceof IDBCursor&&ge.set(we,q)}).catch(()=>{}),ue.set(He,q),He}(q);if(Se.has(q))return Se.get(q);const He=ke(q);return He!==q&&(Se.set(q,He),ue.set(He,q)),He}const ye=q=>ue.get(q);function Q(q,He,{blocked:we,upgrade:yt,blocking:ht,terminated:Ge}={}){const Qt=indexedDB.open(q,He),dt=be(Qt);return yt&&Qt.addEventListener("upgradeneeded",tt=>{yt(be(Qt.result),tt.oldVersion,tt.newVersion,be(Qt.transaction))}),we&&Qt.addEventListener("blocked",()=>we()),dt.then(tt=>{Ge&&tt.addEventListener("close",()=>Ge()),ht&&tt.addEventListener("versionchange",()=>ht())}).catch(()=>{}),dt}function rt(q,{blocked:He}={}){const we=indexedDB.deleteDatabase(q);return He&&we.addEventListener("blocked",()=>He()),be(we).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],Ue=new Map;function Te(q,He){if(!(q instanceof IDBDatabase)||He in q||"string"!=typeof He)return;if(Ue.get(He))return Ue.get(He);const we=He.replace(/FromIndex$/,""),yt=He!==we,ht=Ke.includes(we);if(!(we in(yt?IDBIndex:IDBObjectStore).prototype)||!ht&&!Ce.includes(we))return;const Ge=function(){var Qt=(0,v.Z)(function*(dt,...tt){const Me=this.transaction(dt,ht?"readwrite":"readonly");let Ae=Me.store;return yt&&(Ae=Ae.index(tt.shift())),(yield Promise.all([Ae[we](...tt),ht&&Me.done]))[0]});return function(tt){return Qt.apply(this,arguments)}}();return Ue.set(He,Ge),Ge}!function Ye(q){Be=q(Be)}(q=>({...q,get:(He,we,yt)=>Te(He,we)||q.get(He,we,yt),has:(He,we)=>!!Te(He,we)||q.has(He,we)}))},5861:(cn,ut,F)=>{"use strict";function v(te,de,Ie,ve,ge,Oe,$e){try{var Se=te[Oe]($e),ue=Se.value}catch(Ne){return void Ie(Ne)}Se.done?de(ue):Promise.resolve(ue).then(ve,ge)}function y(te){return function(){var de=this,Ie=arguments;return new Promise(function(ve,ge){var Oe=te.apply(de,Ie);function $e(ue){v(Oe,ve,ge,$e,Se,"next",ue)}function Se(ue){v(Oe,ve,ge,$e,Se,"throw",ue)}$e(void 0)})}}F.d(ut,{Z:()=>y})},7582:(cn,ut,F)=>{"use strict";function de(dt,tt){var Me={};for(var Ae in dt)Object.prototype.hasOwnProperty.call(dt,Ae)&&tt.indexOf(Ae)<0&&(Me[Ae]=dt[Ae]);if(null!=dt&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(Ae=Object.getOwnPropertySymbols(dt);Le<Ae.length;Le++)tt.indexOf(Ae[Le])<0&&Object.prototype.propertyIsEnumerable.call(dt,Ae[Le])&&(Me[Ae[Le]]=dt[Ae[Le]])}return Me}function Ie(dt,tt,Me,Ae){var Et,Le=arguments.length,qe=Le<3?tt:null===Ae?Ae=Object.getOwnPropertyDescriptor(tt,Me):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(dt,tt,Me,Ae);else for(var Bt=dt.length-1;Bt>=0;Bt--)(Et=dt[Bt])&&(qe=(Le<3?Et(qe):Le>3?Et(tt,Me,qe):Et(tt,Me))||qe);return Le>3&&qe&&Object.defineProperty(tt,Me,qe),qe}function Ne(dt,tt,Me,Ae){return new(Me||(Me=Promise))(function(qe,Et){function Bt(nn){try{rn(Ae.next(nn))}catch(Mt){Et(Mt)}}function on(nn){try{rn(Ae.throw(nn))}catch(Mt){Et(Mt)}}function rn(nn){nn.done?qe(nn.value):function Le(qe){return qe instanceof Me?qe:new Me(function(Et){Et(qe)})}(nn.value).then(Bt,on)}rn((Ae=Ae.apply(dt,tt||[])).next())})}function rt(dt){return this instanceof rt?(this.v=dt,this):new rt(dt)}function Ce(dt,tt,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Ae=Me.apply(dt,tt||[]),qe=[];return Le={},Et("next"),Et("throw"),Et("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Et(Pt){Ae[Pt]&&(Le[Pt]=function(St){return new Promise(function(It,Ut){qe.push([Pt,St,It,Ut])>1||Bt(Pt,St)})})}function Bt(Pt,St){try{!function on(Pt){Pt.value instanceof rt?Promise.resolve(Pt.value.v).then(rn,nn):Mt(qe[0][2],Pt)}(Ae[Pt](St))}catch(It){Mt(qe[0][3],It)}}function rn(Pt){Bt("next",Pt)}function nn(Pt){Bt("throw",Pt)}function Mt(Pt,St){Pt(St),qe.shift(),qe.length&&Bt(qe[0][0],qe[0][1])}}function Ue(dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,tt=dt[Symbol.asyncIterator];return tt?tt.call(dt):(dt=function mt(dt){var tt="function"==typeof Symbol&&Symbol.iterator,Me=tt&&dt[tt],Ae=0;if(Me)return Me.call(dt);if(dt&&"number"==typeof dt.length)return{next:function(){return dt&&Ae>=dt.length&&(dt=void 0),{value:dt&&dt[Ae++],done:!dt}}};throw new TypeError(tt?"Object is not iterable.":"Symbol.iterator is not defined.")}(dt),Me={},Ae("next"),Ae("throw"),Ae("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function Ae(qe){Me[qe]=dt[qe]&&function(Et){return new Promise(function(Bt,on){!function Le(qe,Et,Bt,on){Promise.resolve(on).then(function(rn){qe({value:rn,done:Bt})},Et)}(Bt,on,(Et=dt[qe](Et)).done,Et.value)})}}}F.d(ut,{FC:()=>Ce,KL:()=>Ue,_T:()=>de,gn:()=>Ie,mG:()=>Ne,qq:()=>rt})}},cn=>{cn(cn.s=303)}]);